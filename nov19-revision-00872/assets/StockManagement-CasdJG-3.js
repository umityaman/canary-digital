import{r as h,j as e}from"./react-vendor-DBHNAGPW.js";import{t as Yt}from"./tr-DhsOPUdB.js";import{n as nt,q as st,r as rt,t as D,h as ge,v as at,T as w,w as re,x as Et,y as zt,z as Pt,B as yo,C as Tt,D as vo,E as Io,F as pe,P as Me,G as Ze,H as Ve,I as Qt,J as Nt,K as he,L as fe,M as So,N as Po,O as ot,S as ko,f as Oe,Q as G,R as Ie,U as co,V as Wt,W as Jt,X as kt,Y as To}from"./index-BB04Wo6n.js";import{P as uo,C as Se,K as Co,a as Lo,T as x,G as O,L as Xt,A as Zt,D as eo,b as Vt,c as po,d as ho,e as go,f as Re,g as fo,h as wo,i as xo,j as $o,k as Ao,l as Ro,m as Mo,n as Oo,o as Bo,p as et,q as tt,r as Do,s as Ft}from"./AdapterDateFns-CHSR1ftU.js";import{f as mo}from"./format-Dpnjph-B.js";import"./chart-vendor-R5Y1AjBI.js";import"./longFormatters-CHeuiwJ9.js";import"./state-vendor-JOdu_MDH.js";import"./ui-vendor-Vc_pfhQB.js";function zo(t){return nt("MuiAlertTitle",t)}st("MuiAlertTitle",["root"]);const No=t=>{const{classes:s}=t;return at({root:["root"]},zo,s)},Fo=D(w,{name:"MuiAlertTitle",slot:"Root"})(re(({theme:t})=>({fontWeight:t.typography.fontWeightMedium,marginTop:-2}))),Ho=h.forwardRef(function(s,a){const i=rt({props:s,name:"MuiAlertTitle"}),{className:c,...u}=i,y=i,S=No(y);return e.jsx(Fo,{gutterBottom:!0,component:"div",ownerState:y,ref:a,className:ge(S.root,c),...u})});function Eo(t){const s=h.useRef({});return h.useEffect(()=>{s.current=t}),s.current}function to({array1:t,array2:s,parser:a=i=>i}){return t&&s&&t.length===s.length&&t.every((i,c)=>a(i)===a(s[c]))}function oo(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function Wo(t={}){const{ignoreAccents:s=!0,ignoreCase:a=!0,limit:i,matchFrom:c="any",stringify:u,trim:y=!1}=t;return(S,{inputValue:v,getOptionLabel:$})=>{let k=y?v.trim():v;a&&(k=k.toLowerCase()),s&&(k=oo(k));const g=k?S.filter(p=>{let C=(u||$)(p);return a&&(C=C.toLowerCase()),s&&(C=oo(C)),c==="start"?C.startsWith(k):C.includes(k)}):S;return typeof i=="number"?g.slice(0,i):g}}const Vo=Wo(),no=5,qo=t=>{var s;return t.current!==null&&((s=t.current.parentElement)==null?void 0:s.contains(document.activeElement))},Go=[];function so(t,s,a,i){if(s||t==null||i)return"";const c=a(t);return typeof c=="string"?c:""}function Uo(t){const{unstable_isActiveElementInListbox:s=qo,unstable_classNamePrefix:a="Mui",autoComplete:i=!1,autoHighlight:c=!1,autoSelect:u=!1,blurOnSelect:y=!1,clearOnBlur:S=!t.freeSolo,clearOnEscape:v=!1,componentName:$="useAutocomplete",defaultValue:k=t.multiple?Go:null,disableClearable:g=!1,disableCloseOnSelect:p=!1,disabled:C,disabledItemsFocusable:Z=!1,disableListWrap:B=!1,filterOptions:L=Vo,filterSelectedOptions:W=!1,freeSolo:d=!1,getOptionDisabled:r,getOptionKey:m,getOptionLabel:N=n=>n.label??n,groupBy:U,handleHomeEndKeys:Pe=!t.freeSolo,id:qe,includeInputInList:Q=!1,inputValue:F,isOptionEqualToValue:H=(n,o)=>n===o,multiple:P=!1,onChange:xe,onClose:ke,onHighlightChange:de,onInputChange:oe,onOpen:ee,open:Ge,openOnFocus:Ue=!1,options:Ke,readOnly:ne=!1,renderValue:K,selectOnFocus:Be=!t.freeSolo,value:Te}=t,M=Et(qe);let E=N;E=n=>{const o=N(n);return typeof o!="string"?String(o):o};const De=h.useRef(!1),ze=h.useRef(!0),V=h.useRef(null),te=h.useRef(null),[Ne,ae]=h.useState(null),[se,gt]=h.useState(-1),Ct=c?0:-1,J=h.useRef(Ct),Ut=h.useRef(so(k??Te,P,E)).current,[b,lt]=zt({controlled:Te,default:k,name:$}),[A,Fe]=zt({controlled:F,default:Ut,name:$,state:"inputValue"}),[_e,ft]=h.useState(!1),Ye=h.useCallback((n,o,l)=>{if(!(P?b.length<o.length:o!==null)&&!S)return;const j=so(o,P,E,K);A!==j&&(Fe(j),oe&&oe(n,j,l))},[E,A,P,oe,Fe,S,b,K]),[me,He]=zt({controlled:Ge,default:!1,name:$,state:"open"}),[Kt,Qe]=h.useState(!0),xt=!P&&b!=null&&A===E(b),X=me&&!ne,R=X?L(Ke.filter(n=>!(W&&(P?b:[b]).some(o=>o!==null&&H(n,o)))),{inputValue:xt&&Kt?"":A,getOptionLabel:E}):[],le=Eo({filteredOptions:R,value:b,inputValue:A});h.useEffect(()=>{const n=b!==le.value;_e&&!n||d&&!n||Ye(null,b,"reset")},[b,Ye,_e,le.value,d]);const mt=me&&R.length>0&&!ne,ie=Pt(n=>{if(n===-1)V.current.focus();else{const o=K?"data-item-index":"data-tag-index";Ne.querySelector(`[${o}="${n}"]`).focus()}});h.useEffect(()=>{P&&se>b.length-1&&(gt(-1),ie(-1))},[b,P,se,ie]);function Lt(n,o){if(!te.current||n<0||n>=R.length)return-1;let l=n;for(;;){const f=te.current.querySelector(`[data-option-index="${l}"]`),j=Z?!1:!f||f.disabled||f.getAttribute("aria-disabled")==="true";if(f&&f.hasAttribute("tabindex")&&!j)return l;if(o==="next"?l=(l+1)%R.length:l=(l-1+R.length)%R.length,l===n)return-1}}const be=Pt(({event:n,index:o,reason:l})=>{if(J.current=o,o===-1?V.current.removeAttribute("aria-activedescendant"):V.current.setAttribute("aria-activedescendant",`${M}-option-${o}`),de&&["mouse","keyboard","touch"].includes(l)&&de(n,o===-1?null:R[o],l),!te.current)return;const f=te.current.querySelector(`[role="option"].${a}-focused`);f&&(f.classList.remove(`${a}-focused`),f.classList.remove(`${a}-focusVisible`));let j=te.current;if(te.current.getAttribute("role")!=="listbox"&&(j=te.current.parentElement.querySelector('[role="listbox"]')),!j)return;if(o===-1){j.scrollTop=0;return}const Y=te.current.querySelector(`[data-option-index="${o}"]`);if(Y&&(Y.classList.add(`${a}-focused`),l==="keyboard"&&Y.classList.add(`${a}-focusVisible`),j.scrollHeight>j.clientHeight&&l!=="mouse"&&l!=="touch")){const z=Y,ue=j.clientHeight+j.scrollTop,vt=z.offsetTop+z.offsetHeight;vt>ue?j.scrollTop=vt-j.clientHeight:z.offsetTop-z.offsetHeight*(U?1.3:0)<j.scrollTop&&(j.scrollTop=z.offsetTop-z.offsetHeight*(U?1.3:0))}}),ce=Pt(({event:n,diff:o,direction:l="next",reason:f})=>{if(!X)return;const Y=Lt((()=>{const z=R.length-1;if(o==="reset")return Ct;if(o==="start")return 0;if(o==="end")return z;const ue=J.current+o;return ue<0?ue===-1&&Q?-1:B&&J.current!==-1||Math.abs(o)>1?0:z:ue>z?ue===z+1&&Q?-1:B||Math.abs(o)>1?z:0:ue})(),l);if(be({index:Y,reason:f,event:n}),i&&o!=="reset")if(Y===-1)V.current.value=A;else{const z=E(R[Y]);V.current.value=z,z.toLowerCase().indexOf(A.toLowerCase())===0&&A.length>0&&V.current.setSelectionRange(A.length,z.length)}}),bt=!to({array1:le.filteredOptions,array2:R,parser:E}),wt=()=>{const n=(o,l)=>{const f=o?E(o):"",j=l?E(l):"";return f===j};if(J.current!==-1&&!to({array1:le.filteredOptions,array2:R,parser:E})&&le.inputValue===A&&(P?b.length===le.value.length&&le.value.every((o,l)=>E(b[l])===E(o)):n(le.value,b))){const o=le.filteredOptions[J.current];if(o)return R.findIndex(l=>E(l)===E(o))}return-1},it=h.useCallback(()=>{if(!X)return;const n=wt();if(n!==-1){J.current=n;return}const o=P?b[0]:b;if(R.length===0||o==null){ce({diff:"reset"});return}if(te.current){if(o!=null){const l=R[J.current];if(P&&l&&b.findIndex(j=>H(l,j))!==-1)return;const f=R.findIndex(j=>H(j,o));f===-1?ce({diff:"reset"}):be({index:f});return}if(J.current>=R.length-1){be({index:R.length-1});return}be({index:J.current})}},[R.length,P?!1:b,W,ce,be,X,A,P]),Ce=Pt(n=>{yo(te,n),n&&it()});h.useEffect(()=>{(bt||X)&&it()},[it,bt,X]);const je=n=>{me||(He(!0),Qe(!0),ee&&ee(n))},Ee=(n,o)=>{me&&(He(!1),ke&&ke(n,o))},ye=(n,o,l,f)=>{if(P){if(b.length===o.length&&b.every((j,Y)=>j===o[Y]))return}else if(b===o)return;xe&&xe(n,o,l,f),lt(o)},ve=h.useRef(!1),Le=(n,o,l="selectOption",f="options")=>{let j=l,Y=o;if(P){Y=Array.isArray(b)?b.slice():[];const z=Y.findIndex(ue=>H(o,ue));z===-1?Y.push(o):f!=="freeSolo"&&(Y.splice(z,1),j="removeOption")}Ye(n,Y,j),ye(n,Y,j,{option:o}),!p&&(!n||!n.ctrlKey&&!n.metaKey)&&Ee(n,j),(y===!0||y==="touch"&&ve.current||y==="mouse"&&!ve.current)&&V.current.blur()};function $t(n,o){if(n===-1)return-1;let l=n;for(;;){if(o==="next"&&l===b.length||o==="previous"&&l===-1)return-1;const f=K?"data-item-index":"data-tag-index",j=Ne.querySelector(`[${f}="${l}"]`);if(!j||!j.hasAttribute("tabindex")||j.disabled||j.getAttribute("aria-disabled")==="true")l+=o==="next"?1:-1;else return l}}const We=(n,o)=>{if(!P)return;A===""&&Ee(n,"toggleInput");let l=se;se===-1?A===""&&o==="previous"&&(l=b.length-1):(l+=o==="next"?1:-1,l<0&&(l=0),l===b.length&&(l=-1)),l=$t(l,o),gt(l),ie(l)},jt=n=>{De.current=!0,Fe(""),oe&&oe(n,"","clear"),ye(n,P?[]:null,"clear")},At=n=>o=>{if(n.onKeyDown&&n.onKeyDown(o),!o.defaultMuiPrevented&&(se!==-1&&!["ArrowLeft","ArrowRight"].includes(o.key)&&(gt(-1),ie(-1)),o.which!==229))switch(o.key){case"Home":X&&Pe&&(o.preventDefault(),ce({diff:"start",direction:"next",reason:"keyboard",event:o}));break;case"End":X&&Pe&&(o.preventDefault(),ce({diff:"end",direction:"previous",reason:"keyboard",event:o}));break;case"PageUp":o.preventDefault(),ce({diff:-no,direction:"previous",reason:"keyboard",event:o}),je(o);break;case"PageDown":o.preventDefault(),ce({diff:no,direction:"next",reason:"keyboard",event:o}),je(o);break;case"ArrowDown":o.preventDefault(),ce({diff:1,direction:"next",reason:"keyboard",event:o}),je(o);break;case"ArrowUp":o.preventDefault(),ce({diff:-1,direction:"previous",reason:"keyboard",event:o}),je(o);break;case"ArrowLeft":!P&&K?ie(0):We(o,"previous");break;case"ArrowRight":!P&&K?ie(-1):We(o,"next");break;case"Enter":if(J.current!==-1&&X){const l=R[J.current],f=r?r(l):!1;if(o.preventDefault(),f)return;Le(o,l,"selectOption"),i&&V.current.setSelectionRange(V.current.value.length,V.current.value.length)}else d&&A!==""&&xt===!1&&(P&&o.preventDefault(),Le(o,A,"createOption","freeSolo"));break;case"Escape":X?(o.preventDefault(),o.stopPropagation(),Ee(o,"escape")):v&&(A!==""||P&&b.length>0||K)&&(o.preventDefault(),o.stopPropagation(),jt(o));break;case"Backspace":if(P&&!ne&&A===""&&b.length>0){const l=se===-1?b.length-1:se,f=b.slice();f.splice(l,1),ye(o,f,"removeOption",{option:b[l]})}!P&&K&&!ne&&(lt(null),ie(-1));break;case"Delete":if(P&&!ne&&A===""&&b.length>0&&se!==-1){const l=se,f=b.slice();f.splice(l,1),ye(o,f,"removeOption",{option:b[l]})}!P&&K&&!ne&&(lt(null),ie(-1));break}},Je=n=>{ft(!0),Ue&&!De.current&&je(n)},Xe=n=>{if(s(te)){V.current.focus();return}ft(!1),ze.current=!0,De.current=!1,u&&J.current!==-1&&X?Le(n,R[J.current],"blur"):u&&d&&A!==""?Le(n,A,"blur","freeSolo"):S&&Ye(n,b,"blur"),Ee(n,"blur")},ct=n=>{const o=n.target.value;A!==o&&(Fe(o),Qe(!1),oe&&oe(n,o,"input")),o===""?!g&&!P&&ye(n,null,"clear"):je(n)},Rt=n=>{const o=Number(n.currentTarget.getAttribute("data-option-index"));J.current!==o&&be({event:n,index:o,reason:"mouse"})},Mt=n=>{be({event:n,index:Number(n.currentTarget.getAttribute("data-option-index")),reason:"touch"}),ve.current=!0},Ot=n=>{const o=Number(n.currentTarget.getAttribute("data-option-index"));Le(n,R[o],"selectOption"),ve.current=!1},Bt=n=>o=>{const l=b.slice();l.splice(n,1),ye(o,l,"removeOption",{option:b[n]})},ut=n=>{ye(n,null,"removeOption",{option:b})},q=n=>{me?Ee(n,"toggleInput"):je(n)},_=n=>{n.currentTarget.contains(n.target)&&n.target.getAttribute("id")!==M&&n.preventDefault()},we=n=>{n.currentTarget.contains(n.target)&&(V.current.focus(),Be&&ze.current&&V.current.selectionEnd-V.current.selectionStart===0&&V.current.select(),ze.current=!1)},Dt=n=>{!C&&(A===""||!me)&&q(n)};let dt=d&&A.length>0;dt=dt||(P?b.length>0:b!==null);let yt=R;return U&&(yt=R.reduce((n,o,l)=>{const f=U(o);return n.length>0&&n[n.length-1].group===f?n[n.length-1].options.push(o):n.push({key:l,index:l,group:f,options:[o]}),n},[])),C&&_e&&Xe(),{getRootProps:(n={})=>({...n,onKeyDown:At(n),onMouseDown:_,onClick:we}),getInputLabelProps:()=>({id:`${M}-label`,htmlFor:M}),getInputProps:()=>({id:M,value:A,onBlur:Xe,onFocus:Je,onChange:ct,onMouseDown:Dt,"aria-activedescendant":X?"":null,"aria-autocomplete":i?"both":"list","aria-controls":mt?`${M}-listbox`:void 0,"aria-expanded":mt,autoComplete:"off",ref:V,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:C}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:jt}),getItemProps:({index:n=0}={})=>({...P&&{key:n},...K?{"data-item-index":n}:{"data-tag-index":n},tabIndex:-1,...!ne&&{onDelete:P?Bt(n):ut}}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:q}),getTagProps:({index:n})=>({key:n,"data-tag-index":n,tabIndex:-1,...!ne&&{onDelete:Bt(n)}}),getListboxProps:()=>({role:"listbox",id:`${M}-listbox`,"aria-labelledby":`${M}-label`,ref:Ce,onMouseDown:n=>{n.preventDefault()}}),getOptionProps:({index:n,option:o})=>{const l=(P?b:[b]).some(j=>j!=null&&H(o,j)),f=r?r(o):!1;return{key:(m==null?void 0:m(o))??E(o),tabIndex:-1,role:"option",id:`${M}-option-${n}`,onMouseMove:Rt,onClick:Ot,onTouchStart:Mt,"data-option-index":n,"aria-disabled":f,"aria-selected":l}},id:M,inputValue:A,value:b,dirty:dt,expanded:X&&Ne,popupOpen:X,focused:_e||se!==-1,anchorEl:Ne,setAnchorEl:ae,focusedItem:se,focusedTag:se,groupedOptions:yt}}function Ko(t){return nt("MuiListSubheader",t)}st("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const _o=t=>{const{classes:s,color:a,disableGutters:i,inset:c,disableSticky:u}=t,y={root:["root",a!=="default"&&`color${Tt(a)}`,!i&&"gutters",c&&"inset",!u&&"sticky"]};return at(y,Ko,s)},Yo=D("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.color!=="default"&&s[`color${Tt(a.color)}`],!a.disableGutters&&s.gutters,a.inset&&s.inset,!a.disableSticky&&s.sticky]}})(re(({theme:t})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(t.vars||t).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:s})=>!s.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:s})=>s.inset,style:{paddingLeft:72}},{props:({ownerState:s})=>!s.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper}}]}))),qt=h.forwardRef(function(s,a){const i=rt({props:s,name:"MuiListSubheader"}),{className:c,color:u="default",component:y="li",disableGutters:S=!1,disableSticky:v=!1,inset:$=!1,...k}=i,g={...i,color:u,component:y,disableGutters:S,disableSticky:v,inset:$},p=_o(g);return e.jsx(Yo,{as:y,className:ge(p.root,c),ref:a,ownerState:g,...k})});qt&&(qt.muiSkipListHighlight=!0);function Qo(t){return nt("MuiAutocomplete",t)}const I=st("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var ro,ao;const Jo=t=>{const{classes:s,disablePortal:a,expanded:i,focused:c,fullWidth:u,hasClearIcon:y,hasPopupIcon:S,inputFocused:v,popupOpen:$,size:k}=t,g={root:["root",i&&"expanded",c&&"focused",u&&"fullWidth",y&&"hasClearIcon",S&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",v&&"inputFocused"],tag:["tag",`tagSize${Tt(k)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",$&&"popupIndicatorOpen"],popper:["popper",a&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return at(g,Qo,s)},Xo=D("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t,{fullWidth:i,hasClearIcon:c,hasPopupIcon:u,inputFocused:y,size:S}=a;return[{[`& .${I.tag}`]:s.tag},{[`& .${I.tag}`]:s[`tagSize${Tt(S)}`]},{[`& .${I.inputRoot}`]:s.inputRoot},{[`& .${I.input}`]:s.input},{[`& .${I.input}`]:y&&s.inputFocused},s.root,i&&s.fullWidth,u&&s.hasPopupIcon,c&&s.hasClearIcon]}})({[`&.${I.focused} .${I.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${I.clearIndicator}`]:{visibility:"visible"}},[`& .${I.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${I.inputRoot}`]:{[`.${I.hasPopupIcon}&, .${I.hasClearIcon}&`]:{paddingRight:30},[`.${I.hasPopupIcon}.${I.hasClearIcon}&`]:{paddingRight:56},[`& .${I.input}`]:{width:0,minWidth:30}},[`& .${Nt.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Nt.root}.${Ve.sizeSmall}`]:{[`& .${Nt.input}`]:{padding:"2px 4px 3px 0"}},[`& .${Qt.root}`]:{padding:9,[`.${I.hasPopupIcon}&, .${I.hasClearIcon}&`]:{paddingRight:39},[`.${I.hasPopupIcon}.${I.hasClearIcon}&`]:{paddingRight:65},[`& .${I.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${I.endAdornment}`]:{right:9}},[`& .${Qt.root}.${Ve.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${I.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Ze.root}`]:{paddingTop:19,paddingLeft:8,[`.${I.hasPopupIcon}&, .${I.hasClearIcon}&`]:{paddingRight:39},[`.${I.hasPopupIcon}.${I.hasClearIcon}&`]:{paddingRight:65},[`& .${Ze.input}`]:{padding:"7px 4px"},[`& .${I.endAdornment}`]:{right:9}},[`& .${Ze.root}.${Ve.sizeSmall}`]:{paddingBottom:1,[`& .${Ze.input}`]:{padding:"2.5px 4px"}},[`& .${Ve.hiddenLabel}`]:{paddingTop:8},[`& .${Ze.root}.${Ve.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${I.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Ze.root}.${Ve.hiddenLabel}.${Ve.sizeSmall}`]:{[`& .${I.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${I.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${I.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${I.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${I.inputRoot}`]:{flexWrap:"wrap"}}}]}),Zo=D("div",{name:"MuiAutocomplete",slot:"EndAdornment"})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),en=D(he,{name:"MuiAutocomplete",slot:"ClearIndicator"})({marginRight:-2,padding:4,visibility:"hidden"}),tn=D(he,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.popupIndicator,a.popupOpen&&s.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),on=D(uo,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[{[`& .${I.option}`]:s.option},s.popper,a.disablePortal&&s.popperDisablePortal]}})(re(({theme:t})=>({zIndex:(t.vars||t).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),nn=D(Me,{name:"MuiAutocomplete",slot:"Paper"})(re(({theme:t})=>({...t.typography.body1,overflow:"auto"}))),sn=D("div",{name:"MuiAutocomplete",slot:"Loading"})(re(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),rn=D("div",{name:"MuiAutocomplete",slot:"NoOptions"})(re(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),an=D("ul",{name:"MuiAutocomplete",slot:"Listbox"})(re(({theme:t})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${I.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${I.focused}`]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${I.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${I.focused}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${I.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}}}))),ln=D(qt,{name:"MuiAutocomplete",slot:"GroupLabel"})(re(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,top:-8}))),cn=D("ul",{name:"MuiAutocomplete",slot:"GroupUl"})({padding:0,[`& .${I.option}`]:{paddingLeft:24}}),un=h.forwardRef(function(s,a){const i=rt({props:s,name:"MuiAutocomplete"}),{autoComplete:c=!1,autoHighlight:u=!1,autoSelect:y=!1,blurOnSelect:S=!1,ChipProps:v,className:$,clearIcon:k=ro||(ro=e.jsx(vo,{fontSize:"small"})),clearOnBlur:g=!i.freeSolo,clearOnEscape:p=!1,clearText:C="Clear",closeText:Z="Close",componentsProps:B,defaultValue:L=i.multiple?[]:null,disableClearable:W=!1,disableCloseOnSelect:d=!1,disabled:r=!1,disabledItemsFocusable:m=!1,disableListWrap:N=!1,disablePortal:U=!1,filterOptions:Pe,filterSelectedOptions:qe=!1,forcePopupIcon:Q="auto",freeSolo:F=!1,fullWidth:H=!1,getLimitTagsText:P=T=>`+${T}`,getOptionDisabled:xe,getOptionKey:ke,getOptionLabel:de,isOptionEqualToValue:oe,groupBy:ee,handleHomeEndKeys:Ge=!i.freeSolo,id:Ue,includeInputInList:Ke=!1,inputValue:ne,limitTags:K=-1,ListboxComponent:Be,ListboxProps:Te,loading:M=!1,loadingText:E="Loading…",multiple:De=!1,noOptionsText:ze="No options",onChange:V,onClose:te,onHighlightChange:Ne,onInputChange:ae,onOpen:se,open:gt,openOnFocus:Ct=!1,openText:J="Open",options:Ut,PaperComponent:b,PopperComponent:lt,popupIcon:A=ao||(ao=e.jsx(Io,{})),readOnly:Fe=!1,renderGroup:_e,renderInput:ft,renderOption:Ye,renderTags:me,renderValue:He,selectOnFocus:Kt=!i.freeSolo,size:Qe="medium",slots:xt={},slotProps:X={},value:R,...le}=i,{getRootProps:mt,getInputProps:ie,getInputLabelProps:Lt,getPopupIndicatorProps:be,getClearProps:ce,getItemProps:bt,getListboxProps:wt,getOptionProps:it,value:Ce,dirty:je,expanded:Ee,id:ye,popupOpen:ve,focused:Le,focusedItem:$t,anchorEl:We,setAnchorEl:jt,inputValue:At,groupedOptions:Je}=Uo({...i,componentName:"Autocomplete"}),Xe=!W&&!r&&je&&!Fe,ct=(!F||Q===!0)&&Q!==!1,{onMouseDown:Rt}=ie(),{ref:Mt,...Ot}=wt(),ut=de||(T=>T.label??T),q={...i,disablePortal:U,expanded:Ee,focused:Le,fullWidth:H,getOptionLabel:ut,hasClearIcon:Xe,hasPopupIcon:ct,inputFocused:$t===-1,popupOpen:ve,size:Qe},_=Jo(q),we={slots:{paper:b,popper:lt,...xt},slotProps:{chip:v,listbox:Te,...B,...X}},[Dt,dt]=pe("listbox",{elementType:an,externalForwardedProps:we,ownerState:q,className:_.listbox,additionalProps:Ot,ref:Mt}),[yt,n]=pe("paper",{elementType:Me,externalForwardedProps:we,ownerState:q,className:_.paper}),[o,l]=pe("popper",{elementType:uo,externalForwardedProps:we,ownerState:q,className:_.popper,additionalProps:{disablePortal:U,style:{width:We?We.clientWidth:null},role:"presentation",anchorEl:We,open:ve}});let f;const j=T=>({className:_.tag,disabled:r,...bt(T)});if(De?Ce.length>0&&(me?f=me(Ce,j,q):He?f=He(Ce,j,q):f=Ce.map((T,$e)=>{const{key:Ae,...pt}=j({index:$e});return e.jsx(Se,{label:ut(T),size:Qe,...pt,...we.slotProps.chip},Ae)})):He&&Ce!=null&&(f=He(Ce,j,q)),K>-1&&Array.isArray(f)){const T=f.length-K;!Le&&T>0&&(f=f.splice(0,K),f.push(e.jsx("span",{className:_.tag,children:P(T)},f.length)))}const z=_e||(T=>e.jsxs("li",{children:[e.jsx(ln,{className:_.groupLabel,ownerState:q,component:"div",children:T.group}),e.jsx(cn,{className:_.groupUl,ownerState:q,children:T.children})]},T.key)),vt=Ye||((T,$e)=>{const{key:Ae,...pt}=T;return e.jsx("li",{...pt,children:ut($e)},Ae)}),_t=(T,$e)=>{const Ae=it({option:T,index:$e});return vt({...Ae,className:_.option},T,{selected:Ae["aria-selected"],index:$e,inputValue:At},q)},It=we.slotProps.clearIndicator,St=we.slotProps.popupIndicator;return e.jsxs(h.Fragment,{children:[e.jsx(Xo,{ref:a,className:ge(_.root,$),ownerState:q,...mt(le),children:ft({id:ye,disabled:r,fullWidth:!0,size:Qe==="small"?"small":void 0,InputLabelProps:Lt(),InputProps:{ref:jt,className:_.inputRoot,startAdornment:f,onMouseDown:T=>{T.target===T.currentTarget&&Rt(T)},...(Xe||ct)&&{endAdornment:e.jsxs(Zo,{className:_.endAdornment,ownerState:q,children:[Xe?e.jsx(en,{...ce(),"aria-label":C,title:C,ownerState:q,...It,className:ge(_.clearIndicator,It==null?void 0:It.className),children:k}):null,ct?e.jsx(tn,{...be(),disabled:r,"aria-label":ve?Z:J,title:ve?Z:J,ownerState:q,...St,className:ge(_.popupIndicator,St==null?void 0:St.className),children:A}):null]})}},inputProps:{className:_.input,disabled:r,readOnly:Fe,...ie()}})}),We?e.jsx(on,{as:o,...l,children:e.jsxs(nn,{as:yt,...n,children:[M&&Je.length===0?e.jsx(sn,{className:_.loading,ownerState:q,children:E}):null,Je.length===0&&!F&&!M?e.jsx(rn,{className:_.noOptions,ownerState:q,role:"presentation",onMouseDown:T=>{T.preventDefault()},children:ze}):null,Je.length>0?e.jsx(Dt,{as:Be,...dt,children:Je.map((T,$e)=>ee?z({key:T.key,group:T.group,children:T.options.map((Ae,pt)=>_t(Ae,T.index+pt))}):_t(T,$e))}):null]})}):null]})}),dn=fe(e.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"})),pn=fe(e.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}));function hn(t){return nt("MuiToolbar",t)}st("MuiToolbar",["root","gutters","regular","dense"]);const gn=t=>{const{classes:s,disableGutters:a,variant:i}=t;return at({root:["root",!a&&"gutters",i]},hn,s)},fn=D("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,!a.disableGutters&&s.gutters,s[a.variant]]}})(re(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:s})=>!s.disableGutters,style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}))),xn=h.forwardRef(function(s,a){const i=rt({props:s,name:"MuiToolbar"}),{className:c,component:u="div",disableGutters:y=!1,variant:S="regular",...v}=i,$={...i,component:u,disableGutters:y,variant:S},k=gn($);return e.jsx(fn,{as:u,className:ge(k.root,c),ref:a,ownerState:$,...v})});function mn(t){return nt("MuiTablePaginationActions",t)}st("MuiTablePaginationActions",["root"]);const bn=t=>{const{classes:s}=t;return at({root:["root"]},mn,s)},jn=D("div",{name:"MuiTablePaginationActions",slot:"Root"})({}),yn=h.forwardRef(function(s,a){const i=rt({props:s,name:"MuiTablePaginationActions"}),{backIconButtonProps:c,className:u,count:y,disabled:S=!1,getItemAriaLabel:v,nextIconButtonProps:$,onPageChange:k,page:g,rowsPerPage:p,showFirstButton:C,showLastButton:Z,slots:B={},slotProps:L={},...W}=i,d=So(),m=bn(i),N=M=>{k(M,0)},U=M=>{k(M,g-1)},Pe=M=>{k(M,g+1)},qe=M=>{k(M,Math.max(0,Math.ceil(y/p)-1))},Q=B.firstButton??he,F=B.lastButton??he,H=B.nextButton??he,P=B.previousButton??he,xe=B.firstButtonIcon??dn,ke=B.lastButtonIcon??pn,de=B.nextButtonIcon??Co,oe=B.previousButtonIcon??Lo,ee=d?F:Q,Ge=d?H:P,Ue=d?P:H,Ke=d?Q:F,ne=d?L.lastButton:L.firstButton,K=d?L.nextButton:L.previousButton,Be=d?L.previousButton:L.nextButton,Te=d?L.firstButton:L.lastButton;return e.jsxs(jn,{ref:a,className:ge(m.root,u),...W,children:[C&&e.jsx(ee,{onClick:N,disabled:S||g===0,"aria-label":v("first",g),title:v("first",g),...ne,children:d?e.jsx(ke,{...L.lastButtonIcon}):e.jsx(xe,{...L.firstButtonIcon})}),e.jsx(Ge,{onClick:U,disabled:S||g===0,color:"inherit","aria-label":v("previous",g),title:v("previous",g),...K??c,children:d?e.jsx(de,{...L.nextButtonIcon}):e.jsx(oe,{...L.previousButtonIcon})}),e.jsx(Ue,{onClick:Pe,disabled:S||(y!==-1?g>=Math.ceil(y/p)-1:!1),color:"inherit","aria-label":v("next",g),title:v("next",g),...Be??$,children:d?e.jsx(oe,{...L.previousButtonIcon}):e.jsx(de,{...L.nextButtonIcon})}),Z&&e.jsx(Ke,{onClick:qe,disabled:S||g>=Math.ceil(y/p)-1,"aria-label":v("last",g),title:v("last",g),...Te,children:d?e.jsx(xe,{...L.firstButtonIcon}):e.jsx(ke,{...L.lastButtonIcon})})]})});function vn(t){return nt("MuiTablePagination",t)}const ht=st("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]);var lo;const In=D(x,{name:"MuiTablePagination",slot:"Root"})(re(({theme:t})=>({overflow:"auto",color:(t.vars||t).palette.text.primary,fontSize:t.typography.pxToRem(14),"&:last-child":{padding:0}}))),Sn=D(xn,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(t,s)=>({[`& .${ht.actions}`]:s.actions,...s.toolbar})})(re(({theme:t})=>({minHeight:52,paddingRight:2,[`${t.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[t.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${ht.actions}`]:{flexShrink:0,marginLeft:20}}))),Pn=D("div",{name:"MuiTablePagination",slot:"Spacer"})({flex:"1 1 100%"}),kn=D("p",{name:"MuiTablePagination",slot:"SelectLabel"})(re(({theme:t})=>({...t.typography.body2,flexShrink:0}))),Tn=D(ko,{name:"MuiTablePagination",slot:"Select",overridesResolver:(t,s)=>({[`& .${ht.selectIcon}`]:s.selectIcon,[`& .${ht.select}`]:s.select,...s.input,...s.selectRoot})})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${ht.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),Cn=D(ot,{name:"MuiTablePagination",slot:"MenuItem"})({}),Ln=D("p",{name:"MuiTablePagination",slot:"DisplayedRows"})(re(({theme:t})=>({...t.typography.body2,flexShrink:0})));function wn({from:t,to:s,count:a}){return`${t}–${s} of ${a!==-1?a:`more than ${s}`}`}function $n(t){return`Go to ${t} page`}const An=t=>{const{classes:s}=t;return at({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},vn,s)},bo=h.forwardRef(function(s,a){const i=rt({props:s,name:"MuiTablePagination"}),{ActionsComponent:c=yn,backIconButtonProps:u,colSpan:y,component:S=x,count:v,disabled:$=!1,getItemAriaLabel:k=$n,labelDisplayedRows:g=wn,labelRowsPerPage:p="Rows per page:",nextIconButtonProps:C,onPageChange:Z,onRowsPerPageChange:B,page:L,rowsPerPage:W,rowsPerPageOptions:d=[10,25,50,100],SelectProps:r={},showFirstButton:m=!1,showLastButton:N=!1,slotProps:U={},slots:Pe={},...qe}=i,Q=i,F=An(Q),H=(U==null?void 0:U.select)??r,P=H.native?"option":Cn;let xe;(S===x||S==="td")&&(xe=y||1e3);const ke=Et(H.id),de=Et(H.labelId),oe=()=>v===-1?(L+1)*W:W===-1?v:Math.min(v,(L+1)*W),ee={slots:Pe,slotProps:U},[Ge,Ue]=pe("root",{ref:a,className:F.root,elementType:In,externalForwardedProps:{...ee,component:S,...qe},ownerState:Q,additionalProps:{colSpan:xe}}),[Ke,ne]=pe("toolbar",{className:F.toolbar,elementType:Sn,externalForwardedProps:ee,ownerState:Q}),[K,Be]=pe("spacer",{className:F.spacer,elementType:Pn,externalForwardedProps:ee,ownerState:Q}),[Te,M]=pe("selectLabel",{className:F.selectLabel,elementType:kn,externalForwardedProps:ee,ownerState:Q,additionalProps:{id:de}}),[E,De]=pe("select",{className:F.select,elementType:Tn,externalForwardedProps:ee,ownerState:Q}),[ze,V]=pe("menuItem",{className:F.menuItem,elementType:P,externalForwardedProps:ee,ownerState:Q}),[te,Ne]=pe("displayedRows",{className:F.displayedRows,elementType:Ln,externalForwardedProps:ee,ownerState:Q});return e.jsx(Ge,{...Ue,children:e.jsxs(Ke,{...ne,children:[e.jsx(K,{...Be}),d.length>1&&e.jsx(Te,{...M,children:p}),d.length>1&&e.jsx(E,{variant:"standard",...!H.variant&&{input:lo||(lo=e.jsx(Po,{}))},value:W,onChange:B,id:ke,labelId:de,...H,classes:{...H.classes,root:ge(F.input,F.selectRoot,(H.classes||{}).root),select:ge(F.select,(H.classes||{}).select),icon:ge(F.selectIcon,(H.classes||{}).icon)},disabled:$,...De,children:d.map(ae=>h.createElement(ze,{...V,key:ae.label?ae.label:ae,value:ae.value?ae.value:ae},ae.label?ae.label:ae))}),e.jsx(te,{...Ne,children:g({from:v===0?0:L*W+1,to:oe(),count:v===-1?-1:v,page:L})}),e.jsx(c,{className:F.actions,backIconButtonProps:u,count:v,nextIconButtonProps:C,onPageChange:Z,page:L,rowsPerPage:W,showFirstButton:m,showLastButton:N,slotProps:U.actions,slots:Pe.actions,getItemAriaLabel:k,disabled:$})]})})}),Rn=fe([e.jsx("path",{d:"m12 2-5.5 9h11z"},"0"),e.jsx("circle",{cx:"17.5",cy:"17.5",r:"4.5"},"1"),e.jsx("path",{d:"M3 13.5h8v8H3z"},"2")]),jo=fe(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),Mn=fe(e.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"})),On=fe(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"})),io=fe(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"})),Bn=fe(e.jsx("path",{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2m-5 12H9v-2h6zm5-7H4V4l16-.02z"})),Dn=fe(e.jsx("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99zM21 9l-3.99-4v3H10v2h7.01v3z"})),Gt=fe(e.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"})),zn=({equipmentId:t})=>{const[s,a]=h.useState([]),[i,c]=h.useState(!0),[u,y]=h.useState(0),[S,v]=h.useState(10),[$,k]=h.useState(0),[g,p]=h.useState({movementType:"",startDate:null,endDate:null});h.useEffect(()=>{C()},[u,S,g,t]);const C=async()=>{try{c(!0);const r={limit:S,offset:u*S};g.movementType&&(r.movementType=g.movementType),g.startDate&&(r.startDate=g.startDate.toISOString()),g.endDate&&(r.endDate=g.endDate.toISOString());const m=t?`http://localhost:4000/stock/movements/${t}`:"http://localhost:4000/stock/movements",N=await Oe.get(m,{params:r,headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});a(N.data.data),k(N.data.total||N.data.data.length)}catch(r){console.error("Failed to fetch movements:",r)}finally{c(!1)}},Z=r=>{switch(r){case"in":return e.jsx(xo,{color:"success"});case"out":return e.jsx(wo,{color:"error"});case"transfer":return e.jsx(Dn,{color:"info"});case"adjustment":return e.jsx(Mn,{color:"warning"});default:return null}},B=r=>{switch(r){case"in":return"success";case"out":return"error";case"transfer":return"info";case"adjustment":return"warning";default:return"default"}},L=r=>{switch(r){case"in":return"Giriş";case"out":return"Çıkış";case"transfer":return"Transfer";case"adjustment":return"Düzeltme";default:return r}},W=(r,m)=>{y(m)},d=r=>{v(parseInt(r.target.value,10)),y(0)};return e.jsxs(G,{children:[e.jsx(Me,{sx:{p:2,mb:2},children:e.jsxs(O,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(O,{item:!0,xs:12,sm:3,children:e.jsxs(Ie,{select:!0,fullWidth:!0,label:"Hareket Tipi",value:g.movementType,onChange:r=>p({...g,movementType:r.target.value}),size:"small",children:[e.jsx(ot,{value:"",children:"Tümü"}),e.jsx(ot,{value:"in",children:"Giriş"}),e.jsx(ot,{value:"out",children:"Çıkış"}),e.jsx(ot,{value:"transfer",children:"Transfer"}),e.jsx(ot,{value:"adjustment",children:"Düzeltme"})]})}),e.jsx(O,{item:!0,xs:12,sm:3,children:e.jsx(Xt,{dateAdapter:Zt,adapterLocale:Yt,children:e.jsx(eo,{label:"Başlangıç Tarihi",value:g.startDate,onChange:r=>p({...g,startDate:r}),slotProps:{textField:{size:"small",fullWidth:!0}}})})}),e.jsx(O,{item:!0,xs:12,sm:3,children:e.jsx(Xt,{dateAdapter:Zt,adapterLocale:Yt,children:e.jsx(eo,{label:"Bitiş Tarihi",value:g.endDate,onChange:r=>p({...g,endDate:r}),slotProps:{textField:{size:"small",fullWidth:!0}}})})}),e.jsx(O,{item:!0,xs:12,sm:3,children:e.jsx(Vt,{title:"Yenile",children:e.jsx(he,{onClick:C,color:"primary",children:e.jsx(co,{})})})})]})}),e.jsxs(po,{component:Me,children:[e.jsxs(ho,{children:[e.jsx(go,{children:e.jsxs(Re,{children:[e.jsx(x,{children:"Tarih"}),!t&&e.jsx(x,{children:"Ürün"}),e.jsx(x,{children:"Hareket Tipi"}),e.jsx(x,{children:"Sebep"}),e.jsx(x,{align:"right",children:"Miktar"}),e.jsx(x,{align:"right",children:"Önceki Stok"}),e.jsx(x,{align:"right",children:"Sonraki Stok"}),e.jsx(x,{children:"Konum"}),e.jsx(x,{children:"Kullanıcı"}),e.jsx(x,{children:"İlişkili Belge"})]})}),e.jsx(fo,{children:i?e.jsx(Re,{children:e.jsx(x,{colSpan:t?9:10,align:"center",children:"Yükleniyor..."})}):s.length===0?e.jsx(Re,{children:e.jsx(x,{colSpan:t?9:10,align:"center",children:"Hareket kaydı bulunamadı"})}):s.map(r=>e.jsxs(Re,{hover:!0,children:[e.jsx(x,{children:mo(new Date(r.createdAt),"dd.MM.yyyy HH:mm")}),!t&&e.jsxs(x,{children:[e.jsx(w,{variant:"body2",fontWeight:"bold",children:r.equipment.name}),e.jsxs(w,{variant:"caption",color:"text.secondary",children:["S/N: ",r.equipment.serialNumber]})]}),e.jsx(x,{children:e.jsx(Se,{icon:Z(r.movementType),label:L(r.movementType),color:B(r.movementType),size:"small"})}),e.jsx(x,{children:r.movementReason}),e.jsx(x,{align:"right",children:e.jsxs(w,{color:r.movementType==="in"?"success.main":"error.main",fontWeight:"bold",children:[r.movementType==="in"?"+":"-",Math.abs(r.quantity)]})}),e.jsx(x,{align:"right",children:r.stockBefore}),e.jsx(x,{align:"right",children:e.jsx("strong",{children:r.stockAfter})}),e.jsxs(x,{children:[r.fromLocation&&e.jsxs(w,{variant:"caption",display:"block",children:[e.jsx("strong",{children:"From:"})," ",r.fromLocation]}),r.toLocation&&e.jsxs(w,{variant:"caption",display:"block",children:[e.jsx("strong",{children:"To:"})," ",r.toLocation]})]}),e.jsx(x,{children:r.user.name}),e.jsxs(x,{children:[r.invoice&&e.jsx(Se,{label:`Fatura: ${r.invoice.invoiceNumber}`,size:"small",variant:"outlined"}),r.deliveryNote&&e.jsx(Se,{label:`İrsaliye: ${r.deliveryNote.deliveryNoteNumber}`,size:"small",variant:"outlined"})]})]},r.id))})]}),e.jsx(bo,{rowsPerPageOptions:[5,10,25,50],component:"div",count:$,rowsPerPage:S,page:u,onPageChange:W,onRowsPerPageChange:d,labelRowsPerPage:"Sayfa başına satır:",labelDisplayedRows:({from:r,to:m,count:N})=>`${r}-${m} / ${N}`})]})]})},Nn=({open:t,onClose:s,onSuccess:a,equipmentId:i})=>{const[c,u]=h.useState({equipmentId:i||0,quantity:1,fromLocation:"",toLocation:"",carrier:"",trackingNumber:"",vehiclePlate:"",notes:""}),[y,S]=h.useState([]),[v,$]=h.useState(null),[k,g]=h.useState(!1),[p,C]=h.useState(""),[Z,B]=h.useState(!1);h.useEffect(()=>{t&&!i&&L()},[t,i]);const L=async()=>{try{B(!0);const m=await Oe.get("http://localhost:4000/equipment",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});S(m.data.data||m.data)}catch(m){console.error("Failed to fetch equipment:",m)}finally{B(!1)}},W=async()=>{var m,N;try{if(C(""),g(!0),!c.equipmentId){C("Lütfen ürün seçiniz");return}if(!c.fromLocation||!c.toLocation){C("Lütfen kaynak ve hedef konumları belirtiniz");return}if(c.quantity<=0){C("Miktar 0'dan büyük olmalıdır");return}(await Oe.post("http://localhost:4000/stock/transfers",c,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data.success&&(a(),d())}catch(U){C(((N=(m=U.response)==null?void 0:m.data)==null?void 0:N.error)||"Transfer oluşturulamadı")}finally{g(!1)}},d=()=>{u({equipmentId:i||0,quantity:1,fromLocation:"",toLocation:"",carrier:"",trackingNumber:"",vehiclePlate:"",notes:""}),$(null),C(""),s()},r=(m,N)=>{$(N),N&&u({...c,equipmentId:N.id})};return e.jsxs($o,{open:t,onClose:d,maxWidth:"md",fullWidth:!0,children:[e.jsx(Ao,{children:"Yeni Stok Transferi"}),e.jsxs(Ro,{children:[p&&e.jsx(Wt,{severity:"error",sx:{mb:2},children:p}),e.jsxs(O,{container:!0,spacing:2,sx:{mt:1},children:[!i&&e.jsxs(O,{item:!0,xs:12,children:[e.jsx(un,{options:y,getOptionLabel:m=>`${m.name} (S/N: ${m.serialNumber})`,loading:Z,value:v,onChange:r,renderInput:m=>e.jsx(Ie,{...m,label:"Ürün",required:!0,InputProps:{...m.InputProps,endAdornment:e.jsxs(e.Fragment,{children:[Z?e.jsx(Jt,{size:20}):null,m.InputProps.endAdornment]})}})}),v&&e.jsxs(Wt,{severity:"info",sx:{mt:1},children:["Mevcut Stok: ",v.quantity," adet"]})]}),e.jsx(O,{item:!0,xs:12,sm:6,children:e.jsx(Ie,{fullWidth:!0,label:"Kaynak Konum",required:!0,value:c.fromLocation,onChange:m=>u({...c,fromLocation:m.target.value}),placeholder:"Örn: Depo A - Raf 12"})}),e.jsx(O,{item:!0,xs:12,sm:6,children:e.jsx(Ie,{fullWidth:!0,label:"Hedef Konum",required:!0,value:c.toLocation,onChange:m=>u({...c,toLocation:m.target.value}),placeholder:"Örn: Depo B - Raf 5"})}),e.jsx(O,{item:!0,xs:12,sm:6,children:e.jsx(Ie,{fullWidth:!0,type:"number",label:"Miktar",required:!0,value:c.quantity,onChange:m=>u({...c,quantity:parseInt(m.target.value)||1}),inputProps:{min:1,max:(v==null?void 0:v.quantity)||999}})}),e.jsx(O,{item:!0,xs:12,sm:6,children:e.jsx(Ie,{fullWidth:!0,label:"Taşıyıcı Firma",value:c.carrier,onChange:m=>u({...c,carrier:m.target.value}),placeholder:"Örn: Aras Kargo"})}),e.jsx(O,{item:!0,xs:12,sm:6,children:e.jsx(Ie,{fullWidth:!0,label:"Takip Numarası",value:c.trackingNumber,onChange:m=>u({...c,trackingNumber:m.target.value})})}),e.jsx(O,{item:!0,xs:12,sm:6,children:e.jsx(Ie,{fullWidth:!0,label:"Araç Plakası",value:c.vehiclePlate,onChange:m=>u({...c,vehiclePlate:m.target.value}),placeholder:"34 ABC 123"})}),e.jsx(O,{item:!0,xs:12,children:e.jsx(Ie,{fullWidth:!0,multiline:!0,rows:3,label:"Notlar",value:c.notes,onChange:m=>u({...c,notes:m.target.value}),placeholder:"Transfer ile ilgili ek bilgiler..."})})]})]}),e.jsxs(Mo,{children:[e.jsx(kt,{onClick:d,disabled:k,children:"İptal"}),e.jsx(kt,{onClick:W,variant:"contained",disabled:k,children:k?e.jsx(Jt,{size:24}):"Transfer Oluştur"})]})]})},Fn=()=>{const[t,s]=h.useState([]),[a,i]=h.useState(!0),[c,u]=h.useState(0),[y,S]=h.useState(10),[v,$]=h.useState(0),[k,g]=h.useState(!1);h.useEffect(()=>{p()},[c,y]);const p=async()=>{var d;try{i(!0);const r=await Oe.get("http://localhost:4000/stock/transfers",{params:{limit:y,offset:c*y},headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});s(r.data.data||[]),$(r.data.total||((d=r.data.data)==null?void 0:d.length)||0)}catch(r){console.error("Failed to fetch transfers:",r),s([])}finally{i(!1)}},C=async d=>{try{await Oe.post(`http://localhost:4000/stock/transfers/${d}/complete`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),p()}catch(r){console.error("Failed to complete transfer:",r),alert("Transfer tamamlanamadı")}},Z=d=>{switch(d){case"completed":return"success";case"in_transit":return"info";case"cancelled":return"error";default:return"warning"}},B=d=>{switch(d){case"pending":return"Beklemede";case"in_transit":return"Yolda";case"completed":return"Tamamlandı";case"cancelled":return"İptal";default:return d}},L=(d,r)=>{u(r)},W=d=>{S(parseInt(d.target.value,10)),u(0)};return e.jsxs(G,{children:[e.jsxs(G,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[e.jsx(kt,{variant:"contained",onClick:()=>g(!0),children:"Yeni Transfer"}),e.jsx(Vt,{title:"Yenile",children:e.jsx(he,{onClick:p,color:"primary",children:e.jsx(co,{})})})]}),e.jsxs(po,{component:Me,children:[e.jsxs(ho,{children:[e.jsx(go,{children:e.jsxs(Re,{children:[e.jsx(x,{children:"Transfer No"}),e.jsx(x,{children:"Tarih"}),e.jsx(x,{children:"Ürün"}),e.jsx(x,{align:"right",children:"Miktar"}),e.jsx(x,{children:"Kaynak"}),e.jsx(x,{children:"Hedef"}),e.jsx(x,{children:"Durum"}),e.jsx(x,{children:"Taşıyıcı"}),e.jsx(x,{children:"Takip No"}),e.jsx(x,{children:"İşlemler"})]})}),e.jsx(fo,{children:a?e.jsx(Re,{children:e.jsx(x,{colSpan:10,align:"center",children:"Yükleniyor..."})}):t.length===0?e.jsx(Re,{children:e.jsx(x,{colSpan:10,align:"center",children:"Transfer kaydı bulunamadı"})}):t.map(d=>e.jsxs(Re,{hover:!0,children:[e.jsx(x,{children:e.jsx(w,{variant:"body2",fontWeight:"bold",children:d.transferNumber})}),e.jsx(x,{children:mo(new Date(d.createdAt),"dd.MM.yyyy HH:mm")}),e.jsxs(x,{children:[e.jsx(w,{variant:"body2",fontWeight:"bold",children:d.equipment.name}),e.jsxs(w,{variant:"caption",color:"text.secondary",children:["S/N: ",d.equipment.serialNumber]})]}),e.jsx(x,{align:"right",children:e.jsx("strong",{children:d.quantity})}),e.jsx(x,{children:d.fromLocation}),e.jsx(x,{children:d.toLocation}),e.jsx(x,{children:e.jsx(Se,{label:B(d.status),color:Z(d.status),size:"small"})}),e.jsx(x,{children:d.carrier||"-"}),e.jsx(x,{children:d.trackingNumber||"-"}),e.jsx(x,{children:(d.status==="pending"||d.status==="in_transit")&&e.jsx(Vt,{title:"Transferi Tamamla",children:e.jsx(he,{size:"small",color:"success",onClick:()=>C(d.id),children:e.jsx(jo,{})})})})]},d.id))})]}),e.jsx(bo,{rowsPerPageOptions:[5,10,25,50],component:"div",count:v,rowsPerPage:y,page:c,onPageChange:L,onRowsPerPageChange:W,labelRowsPerPage:"Sayfa başına satır:",labelDisplayedRows:({from:d,to:r,count:m})=>`${d}-${r} / ${m}`})]}),e.jsx(Nn,{open:k,onClose:()=>g(!1),onSuccess:()=>{g(!1),p()}})]})},Hn=()=>{const[t,s]=h.useState([]),[a,i]=h.useState(!0),[c,u]=h.useState([]);h.useEffect(()=>{y();const p=setInterval(y,5*60*1e3);return()=>clearInterval(p)},[]);const y=async()=>{try{i(!0);const p=await Oe.get("http://localhost:4000/stock/alerts",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});s(p.data.data)}catch(p){console.error("Failed to fetch stock alerts:",p)}finally{i(!1)}},S=async p=>{try{await Oe.post(`http://localhost:4000/stock/alerts/${p}/acknowledge`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),u([...c,p]),y()}catch(C){console.error("Failed to acknowledge alert:",C)}},v=p=>{u([...c,p])},$=p=>{switch(p){case"critical":return e.jsx(On,{});case"high":return e.jsx(Gt,{});case"medium":return e.jsx(io,{});default:return e.jsx(io,{})}},k=p=>{switch(p){case"critical":return"error";case"high":return"warning";case"medium":return"info";default:return"info"}},g=t.filter(p=>!c.includes(p.id));return a||g.length===0?null:e.jsx(G,{children:g.map(p=>e.jsx(Oo,{in:!0,children:e.jsxs(Wt,{severity:k(p.severity),icon:$(p.severity),sx:{mb:2},action:e.jsxs(G,{sx:{display:"flex",gap:1},children:[e.jsx(kt,{color:"inherit",size:"small",startIcon:e.jsx(jo,{}),onClick:()=>S(p.id),children:"Onayla"}),e.jsx(he,{size:"small",color:"inherit",onClick:()=>v(p.id),children:e.jsx(To,{fontSize:"small"})})]}),children:[e.jsxs(Ho,{children:[e.jsx("strong",{children:p.equipment.name})," - ",p.alertType==="out_of_stock"?"Stok Tükendi":p.alertType==="low_stock"?"Düşük Stok":p.alertType==="overstock"?"Fazla Stok":p.alertType]}),p.message,e.jsxs(G,{sx:{mt:1,display:"flex",gap:1},children:[e.jsx(Se,{label:`Mevcut: ${p.currentStock}`,size:"small",color:p.currentStock===0?"error":"default"}),p.threshold&&e.jsx(Se,{label:`Eşik: ${p.threshold}`,size:"small",variant:"outlined"}),e.jsx(Se,{label:`S/N: ${p.equipment.serialNumber}`,size:"small",variant:"outlined"})]})]})},p.id))})},En=()=>{const[t,s]=h.useState(null),[a,i]=h.useState(!0);h.useEffect(()=>{c()},[]);const c=async()=>{try{i(!0);const u=await Oe.get("http://localhost:4000/stock/summary",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});s(u.data.data)}catch(u){console.error("Failed to fetch stock summary:",u)}finally{i(!1)}};return a?e.jsx(Bo,{}):t?e.jsxs(G,{children:[e.jsxs(O,{container:!0,spacing:3,sx:{mb:3},children:[e.jsx(O,{item:!0,xs:12,sm:6,md:3,children:e.jsx(et,{children:e.jsxs(tt,{children:[e.jsxs(G,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(Bn,{color:"primary",sx:{mr:1}}),e.jsx(w,{variant:"h6",children:"Toplam Ürün"})]}),e.jsx(w,{variant:"h3",children:t.totalItems})]})})}),e.jsx(O,{item:!0,xs:12,sm:6,md:3,children:e.jsx(et,{children:e.jsxs(tt,{children:[e.jsxs(G,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(xo,{color:"success",sx:{mr:1}}),e.jsx(w,{variant:"h6",children:"Toplam Miktar"})]}),e.jsx(w,{variant:"h3",children:t.totalQuantity})]})})}),e.jsx(O,{item:!0,xs:12,sm:6,md:3,children:e.jsx(et,{sx:{bgcolor:"warning.light"},children:e.jsxs(tt,{children:[e.jsxs(G,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(Gt,{sx:{mr:1,color:"white"}}),e.jsx(w,{variant:"h6",color:"white",children:"Düşük Stok"})]}),e.jsx(w,{variant:"h3",color:"white",children:t.lowStockItems})]})})}),e.jsx(O,{item:!0,xs:12,sm:6,md:3,children:e.jsx(et,{sx:{bgcolor:"error.light"},children:e.jsxs(tt,{children:[e.jsxs(G,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(Gt,{sx:{mr:1,color:"white"}}),e.jsx(w,{variant:"h6",color:"white",children:"Stok Tükendi"})]}),e.jsx(w,{variant:"h3",color:"white",children:t.outOfStockItems})]})})})]}),e.jsxs(Me,{sx:{p:3,mb:3},children:[e.jsxs(G,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(Rn,{sx:{mr:1}}),e.jsx(w,{variant:"h6",children:"Kategorilere Göre Stok"})]}),e.jsx(O,{container:!0,spacing:2,children:t.categories.map((u,y)=>e.jsx(O,{item:!0,xs:12,sm:6,md:4,children:e.jsx(et,{variant:"outlined",children:e.jsxs(tt,{children:[e.jsx(w,{variant:"subtitle1",gutterBottom:!0,children:u.category||"Kategori Yok"}),e.jsxs(G,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx(w,{variant:"body2",color:"text.secondary",children:"Ürün Sayısı:"}),e.jsx(w,{variant:"body1",fontWeight:"bold",children:u.count})]}),e.jsxs(G,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx(w,{variant:"body2",color:"text.secondary",children:"Toplam Miktar:"}),e.jsx(w,{variant:"body1",fontWeight:"bold",children:u.totalQuantity})]})]})})},y))})]}),t.equipment.filter(u=>u.quantity<=5).length>0&&e.jsxs(Me,{sx:{p:3},children:[e.jsx(w,{variant:"h6",gutterBottom:!0,children:"Düşük Stoklu Ürünler"}),e.jsx(O,{container:!0,spacing:2,children:t.equipment.filter(u=>u.quantity<=5).map(u=>e.jsx(O,{item:!0,xs:12,sm:6,md:4,children:e.jsx(et,{variant:"outlined",sx:{bgcolor:u.quantity===0?"error.light":"warning.light"},children:e.jsxs(tt,{children:[e.jsx(w,{variant:"subtitle1",fontWeight:"bold",children:u.name}),e.jsxs(w,{variant:"body2",color:"text.secondary",children:["S/N: ",u.serialNumber]}),e.jsxs(G,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:1},children:[e.jsx(Se,{label:u.category||"Kategori Yok",size:"small",color:"default"}),e.jsxs(w,{variant:"h6",color:u.quantity===0?"error.dark":"warning.dark",children:[u.quantity," adet"]})]})]})})},u.id))})]})]}):e.jsx(G,{sx:{p:3,textAlign:"center"},children:e.jsx(w,{children:"Stok verisi yüklenemedi"})})};function Ht(t){const{children:s,value:a,index:i,...c}=t;return e.jsx("div",{role:"tabpanel",hidden:a!==i,id:`stock-tabpanel-${i}`,"aria-labelledby":`stock-tab-${i}`,...c,children:a===i&&e.jsx(G,{sx:{py:3},children:s})})}const Jn=()=>{const[t,s]=h.useState(0),a=(i,c)=>{s(c)};return e.jsxs(G,{sx:{p:3},children:[e.jsx(w,{variant:"h4",gutterBottom:!0,children:"Stok Yönetimi"}),e.jsx(G,{sx:{mb:3},children:e.jsx(Hn,{})}),e.jsxs(Me,{sx:{width:"100%"},children:[e.jsxs(Do,{value:t,onChange:a,"aria-label":"stock management tabs",variant:"scrollable",scrollButtons:"auto",children:[e.jsx(Ft,{label:"Özet"}),e.jsx(Ft,{label:"Stok Hareketleri"}),e.jsx(Ft,{label:"Transferler"})]}),e.jsx(Ht,{value:t,index:0,children:e.jsx(En,{})}),e.jsx(Ht,{value:t,index:1,children:e.jsx(zn,{})}),e.jsx(Ht,{value:t,index:2,children:e.jsx(Fn,{})})]})]})};export{Jn as default};
