import{R as W,j as e,r as c,c as Et}from"./react-vendor-DBHNAGPW.js";import{c as Se,u as ve,a as Ge,b as Ie,P as V,d as U,e as Ve,f as oe,g as Ft,C as D,h as F,i as R,j as I,B as z}from"./index-Yw5c2rIL.js";import{j as ce,k as de}from"./index-BB04Wo6n.js";import{D as je,R as P,v as X,w as Ce,P as te,u as Ye,n as Rt,J as Ae,C as We,S as se,a as It,z as q,E as At,e as Ot,f as Pt,a0 as ke,ag as zt,m as Mt}from"./ui-vendor-Vc_pfhQB.js";import{R as _,T as M,C as He}from"./CategoricalChart-CWQd-BIh.js";import{L as Ne,a as B}from"./LineChart-DquekLLL.js";import{C as G,X as $,Y as K,B as ye,a as H}from"./BarChart-C6yCk-EP.js";import{L}from"./Legend-BZ-cqQwb.js";import{A as Ze,a as ge}from"./AreaChart-iTH8IB05.js";import{c as Gt,t as $e,g as qe,h as Xe}from"./longFormatters-CHeuiwJ9.js";import{t as ne}from"./tr-DhsOPUdB.js";import{f as ie}from"./format-Dpnjph-B.js";import{P as Je,a as Qe}from"./PieChart-BMCiRpQ9.js";function le(s,t){const a=()=>Gt(t==null?void 0:t.in,NaN),n=Lt(s);let p;if(n.date){const d=Ut(n.date,2);p=_t(d.restDateString,d.year)}if(!p||isNaN(+p))return a();const j=+p;let f=0,u;if(n.time&&(f=Vt(n.time),isNaN(f)))return a();if(n.timezone){if(u=Yt(n.timezone),isNaN(u))return a()}else{const d=new Date(j+f),x=$e(0,t==null?void 0:t.in);return x.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),x.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),x}return $e(j+f+u,t==null?void 0:t.in)}const fe={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},$t=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Kt=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Bt=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Lt(s){const t={},a=s.split(fe.dateTimeDelimiter);let r;if(a.length>2)return t;if(/:/.test(a[0])?r=a[0]:(t.date=a[0],r=a[1],fe.timeZoneDelimiter.test(t.date)&&(t.date=s.split(fe.timeZoneDelimiter)[0],r=s.substr(t.date.length,s.length))),r){const n=fe.timezone.exec(r);n?(t.time=r.replace(n[1],""),t.timezone=n[1]):t.time=r}return t}function Ut(s,t){const a=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=s.match(a);if(!r)return{year:NaN,restDateString:""};const n=r[1]?parseInt(r[1]):null,p=r[2]?parseInt(r[2]):null;return{year:p===null?n:p*100,restDateString:s.slice((r[1]||r[2]).length)}}function _t(s,t){if(t===null)return new Date(NaN);const a=s.match($t);if(!a)return new Date(NaN);const r=!!a[4],n=Q(a[1]),p=Q(a[2])-1,j=Q(a[3]),f=Q(a[4]),u=Q(a[5])-1;if(r)return Xt(t,f,u)?Wt(t,f,u):new Date(NaN);{const d=new Date(0);return!Zt(t,p,j)||!qt(t,n)?new Date(NaN):(d.setUTCFullYear(t,p,Math.max(n,j)),d)}}function Q(s){return s?parseInt(s):1}function Vt(s){const t=s.match(Kt);if(!t)return NaN;const a=De(t[1]),r=De(t[2]),n=De(t[3]);return Jt(a,r,n)?a*qe+r*Xe+n*1e3:NaN}function De(s){return s&&parseFloat(s.replace(",","."))||0}function Yt(s){if(s==="Z")return 0;const t=s.match(Bt);if(!t)return 0;const a=t[1]==="+"?-1:1,r=parseInt(t[2]),n=t[3]&&parseInt(t[3])||0;return Qt(r,n)?a*(r*qe+n*Xe):NaN}function Wt(s,t,a){const r=new Date(0);r.setUTCFullYear(s,0,4);const n=r.getUTCDay()||7,p=(t-1)*7+a+1-n;return r.setUTCDate(r.getUTCDate()+p),r}const Ht=[31,null,31,30,31,30,31,31,30,31,30,31];function et(s){return s%400===0||s%4===0&&s%100!==0}function Zt(s,t,a){return t>=0&&t<=11&&a>=1&&a<=(Ht[t]||(et(s)?29:28))}function qt(s,t){return t>=1&&t<=(et(s)?366:365)}function Xt(s,t,a){return t>=1&&t<=53&&a>=0&&a<=6}function Jt(s,t,a){return s===24?t===0&&a===0:a>=0&&a<60&&t>=0&&t<60&&s>=0&&s<25}function Qt(s,t){return t>=0&&t<=59}function es(s){const t=s+"CollectionProvider",[a,r]=Se(t),[n,p]=a(t,{collectionRef:{current:null},itemMap:new Map}),j=b=>{const{scope:v,children:i}=b,N=W.useRef(null),h=W.useRef(new Map).current;return e.jsx(n,{scope:v,itemMap:h,collectionRef:N,children:i})};j.displayName=t;const f=s+"CollectionSlot",u=Ge(f),d=W.forwardRef((b,v)=>{const{scope:i,children:N}=b,h=p(f,i),y=ve(v,h.collectionRef);return e.jsx(u,{ref:y,children:N})});d.displayName=f;const x=s+"CollectionItemSlot",m="data-radix-collection-item",T=Ge(x),g=W.forwardRef((b,v)=>{const{scope:i,children:N,...h}=b,y=W.useRef(null),w=ve(v,y),l=p(x,i);return W.useEffect(()=>(l.itemMap.set(y,{ref:y,...h}),()=>void l.itemMap.delete(y))),e.jsx(T,{[m]:"",ref:w,children:N})});g.displayName=x;function k(b){const v=p(s+"CollectionConsumer",b);return W.useCallback(()=>{const N=v.collectionRef.current;if(!N)return[];const h=Array.from(N.querySelectorAll(`[${m}]`));return Array.from(v.itemMap.values()).sort((l,C)=>h.indexOf(l.ref.current)-h.indexOf(C.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:j,Slot:d,ItemSlot:g},k,r]}var ts=Et[" useId ".trim().toString()]||(()=>{}),ss=0;function tt(s){const[t,a]=c.useState(ts());return Ie(()=>{a(r=>r??String(ss++))},[s]),s||(t?`radix-${t}`:"")}function rs(s){const t=c.useRef(s);return c.useEffect(()=>{t.current=s}),c.useMemo(()=>(...a)=>{var r;return(r=t.current)==null?void 0:r.call(t,...a)},[])}var as=c.createContext(void 0);function st(s){const t=c.useContext(as);return s||t||"ltr"}var Ee="rovingFocusGroup.onEntryFocus",ns={bubbles:!1,cancelable:!0},ue="RovingFocusGroup",[Oe,rt,is]=es(ue),[ls,at]=Se(ue,[is]),[os,cs]=ls(ue),nt=c.forwardRef((s,t)=>e.jsx(Oe.Provider,{scope:s.__scopeRovingFocusGroup,children:e.jsx(Oe.Slot,{scope:s.__scopeRovingFocusGroup,children:e.jsx(ds,{...s,ref:t})})}));nt.displayName=ue;var ds=c.forwardRef((s,t)=>{const{__scopeRovingFocusGroup:a,orientation:r,loop:n=!1,dir:p,currentTabStopId:j,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:x=!1,...m}=s,T=c.useRef(null),g=ve(t,T),k=st(p),[b,v]=Ve({prop:j,defaultProp:f??null,onChange:u,caller:ue}),[i,N]=c.useState(!1),h=rs(d),y=rt(a),w=c.useRef(!1),[l,C]=c.useState(0);return c.useEffect(()=>{const S=T.current;if(S)return S.addEventListener(Ee,h),()=>S.removeEventListener(Ee,h)},[h]),e.jsx(os,{scope:a,orientation:r,dir:k,loop:n,currentTabStopId:b,onItemFocus:c.useCallback(S=>v(S),[v]),onItemShiftTab:c.useCallback(()=>N(!0),[]),onFocusableItemAdd:c.useCallback(()=>C(S=>S+1),[]),onFocusableItemRemove:c.useCallback(()=>C(S=>S-1),[]),children:e.jsx(V.div,{tabIndex:i||l===0?-1:0,"data-orientation":r,...m,ref:g,style:{outline:"none",...s.style},onMouseDown:U(s.onMouseDown,()=>{w.current=!0}),onFocus:U(s.onFocus,S=>{const E=!w.current;if(S.target===S.currentTarget&&E&&!i){const J=new CustomEvent(Ee,ns);if(S.currentTarget.dispatchEvent(J),!J.defaultPrevented){const Z=y().filter(Y=>Y.focusable),xe=Z.find(Y=>Y.active),he=Z.find(Y=>Y.id===b),A=[xe,he,...Z].filter(Boolean).map(Y=>Y.ref.current);ot(A,x)}}w.current=!1}),onBlur:U(s.onBlur,()=>N(!1))})})}),it="RovingFocusGroupItem",lt=c.forwardRef((s,t)=>{const{__scopeRovingFocusGroup:a,focusable:r=!0,active:n=!1,tabStopId:p,children:j,...f}=s,u=tt(),d=p||u,x=cs(it,a),m=x.currentTabStopId===d,T=rt(a),{onFocusableItemAdd:g,onFocusableItemRemove:k,currentTabStopId:b}=x;return c.useEffect(()=>{if(r)return g(),()=>k()},[r,g,k]),e.jsx(Oe.ItemSlot,{scope:a,id:d,focusable:r,active:n,children:e.jsx(V.span,{tabIndex:m?0:-1,"data-orientation":x.orientation,...f,ref:t,onMouseDown:U(s.onMouseDown,v=>{r?x.onItemFocus(d):v.preventDefault()}),onFocus:U(s.onFocus,()=>x.onItemFocus(d)),onKeyDown:U(s.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){x.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const i=xs(v,x.orientation,x.dir);if(i!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let h=T().filter(y=>y.focusable).map(y=>y.ref.current);if(i==="last")h.reverse();else if(i==="prev"||i==="next"){i==="prev"&&h.reverse();const y=h.indexOf(v.currentTarget);h=x.loop?hs(h,y+1):h.slice(y+1)}setTimeout(()=>ot(h))}}),children:typeof j=="function"?j({isCurrentTabStop:m,hasTabStop:b!=null}):j})})});lt.displayName=it;var us={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ms(s,t){return t!=="rtl"?s:s==="ArrowLeft"?"ArrowRight":s==="ArrowRight"?"ArrowLeft":s}function xs(s,t,a){const r=ms(s.key,a);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return us[r]}function ot(s,t=!1){const a=document.activeElement;for(const r of s)if(r===a||(r.focus({preventScroll:t}),document.activeElement!==a))return}function hs(s,t){return s.map((a,r)=>s[(t+r)%s.length])}var fs=nt,ps=lt;function js(s,t){return c.useReducer((a,r)=>t[a][r]??a,s)}var ct=s=>{const{present:t,children:a}=s,r=gs(t),n=typeof a=="function"?a({present:r.isPresent}):c.Children.only(a),p=ve(r.ref,vs(n));return typeof a=="function"||r.isPresent?c.cloneElement(n,{ref:p}):null};ct.displayName="Presence";function gs(s){const[t,a]=c.useState(),r=c.useRef(null),n=c.useRef(s),p=c.useRef("none"),j=s?"mounted":"unmounted",[f,u]=js(j,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return c.useEffect(()=>{const d=pe(r.current);p.current=f==="mounted"?d:"none"},[f]),Ie(()=>{const d=r.current,x=n.current;if(x!==s){const T=p.current,g=pe(d);s?u("MOUNT"):g==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(x&&T!==g?"ANIMATION_OUT":"UNMOUNT"),n.current=s}},[s,u]),Ie(()=>{if(t){let d;const x=t.ownerDocument.defaultView??window,m=g=>{const b=pe(r.current).includes(CSS.escape(g.animationName));if(g.target===t&&b&&(u("ANIMATION_END"),!n.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",d=x.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},T=g=>{g.target===t&&(p.current=pe(r.current))};return t.addEventListener("animationstart",T),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{x.clearTimeout(d),t.removeEventListener("animationstart",T),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:c.useCallback(d=>{r.current=d?getComputedStyle(d):null,a(d)},[])}}function pe(s){return(s==null?void 0:s.animationName)||"none"}function vs(s){var r,n;let t=(r=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:r.get,a=t&&"isReactWarning"in t&&t.isReactWarning;return a?s.ref:(t=(n=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:n.get,a=t&&"isReactWarning"in t&&t.isReactWarning,a?s.props.ref:s.props.ref||s.ref)}var Te="Tabs",[Ns]=Se(Te,[at]),dt=at(),[ys,Pe]=Ns(Te),ut=c.forwardRef((s,t)=>{const{__scopeTabs:a,value:r,onValueChange:n,defaultValue:p,orientation:j="horizontal",dir:f,activationMode:u="automatic",...d}=s,x=st(f),[m,T]=Ve({prop:r,onChange:n,defaultProp:p??"",caller:Te});return e.jsx(ys,{scope:a,baseId:tt(),value:m,onValueChange:T,orientation:j,dir:x,activationMode:u,children:e.jsx(V.div,{dir:x,"data-orientation":j,...d,ref:t})})});ut.displayName=Te;var mt="TabsList",xt=c.forwardRef((s,t)=>{const{__scopeTabs:a,loop:r=!0,...n}=s,p=Pe(mt,a),j=dt(a);return e.jsx(fs,{asChild:!0,...j,orientation:p.orientation,dir:p.dir,loop:r,children:e.jsx(V.div,{role:"tablist","aria-orientation":p.orientation,...n,ref:t})})});xt.displayName=mt;var ht="TabsTrigger",ft=c.forwardRef((s,t)=>{const{__scopeTabs:a,value:r,disabled:n=!1,...p}=s,j=Pe(ht,a),f=dt(a),u=gt(j.baseId,r),d=vt(j.baseId,r),x=r===j.value;return e.jsx(ps,{asChild:!0,...f,focusable:!n,active:x,children:e.jsx(V.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":d,"data-state":x?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:u,...p,ref:t,onMouseDown:U(s.onMouseDown,m=>{!n&&m.button===0&&m.ctrlKey===!1?j.onValueChange(r):m.preventDefault()}),onKeyDown:U(s.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&j.onValueChange(r)}),onFocus:U(s.onFocus,()=>{const m=j.activationMode!=="manual";!x&&!n&&m&&j.onValueChange(r)})})})});ft.displayName=ht;var pt="TabsContent",jt=c.forwardRef((s,t)=>{const{__scopeTabs:a,value:r,forceMount:n,children:p,...j}=s,f=Pe(pt,a),u=gt(f.baseId,r),d=vt(f.baseId,r),x=r===f.value,m=c.useRef(x);return c.useEffect(()=>{const T=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(T)},[]),e.jsx(ct,{present:n||x,children:({present:T})=>e.jsx(V.div,{"data-state":x?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":u,hidden:!T,id:d,tabIndex:0,...j,ref:t,style:{...s.style,animationDuration:m.current?"0s":void 0},children:T&&p})})});jt.displayName=pt;function gt(s,t){return`${s}-trigger-${t}`}function vt(s,t){return`${s}-content-${t}`}var bs=ut,Nt=xt,yt=ft,bt=jt;const ws=bs,wt=c.forwardRef(({className:s,...t},a)=>e.jsx(Nt,{ref:a,className:oe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...t}));wt.displayName=Nt.displayName;const re=c.forwardRef(({className:s,...t},a)=>e.jsx(yt,{ref:a,className:oe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...t}));re.displayName=yt.displayName;const ae=c.forwardRef(({className:s,...t},a)=>e.jsx(bt,{ref:a,className:oe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...t}));ae.displayName=bt.displayName;const Ss=Ft("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function me({className:s,variant:t,...a}){return e.jsx("div",{className:oe(Ss({variant:t}),s),...a})}const Ke=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"],Fe=({period:s="30d",type:t="line",showComparison:a=!0,height:r=400})=>{const[n,p]=c.useState(null),[j,f]=c.useState(!0),[u,d]=c.useState(null),[x,m]=c.useState(s),[T,g]=c.useState(t);c.useEffect(()=>{k()},[x]);const k=async()=>{try{f(!0),d(null);const h=await fetch(ce(`analytics/revenue?period=${x}`),{headers:de()});if(!h.ok)throw new Error("Failed to fetch revenue data");const y=await h.json();if(y.success)p(y.data);else throw new Error(y.message||"Failed to fetch revenue data")}catch(h){console.error("Revenue fetch error:",h),d(h instanceof Error?h.message:"An error occurred")}finally{f(!1)}},b=h=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",minimumFractionDigits:0,maximumFractionDigits:0}).format(h),v=h=>{try{const y=le(h);return ie(y,"dd MMM",{locale:ne})}catch{return h}},i=h=>{const y=h>=0,w=y?e.jsx(X,{className:"w-3 h-3"}):e.jsx(Ce,{className:"w-3 h-3"}),l=y?"bg-green-100 text-green-800":"bg-red-100 text-red-800";return e.jsxs(me,{className:`${l} flex items-center gap-1`,children:[w,Math.abs(h).toFixed(1),"%"]})},N=()=>{if(!n||!n.dailyRevenue)return null;const y={data:n.dailyRevenue.map(w=>({...w,formattedDate:v(w.date),revenue:w.revenue,orders:w.orders})),margin:{top:5,right:30,left:20,bottom:5}};switch(T){case"area":return e.jsxs(Ze,{...y,children:[e.jsx(G,{strokeDasharray:"3 3"}),e.jsx($,{dataKey:"formattedDate",tick:{fontSize:12},interval:"preserveStartEnd"}),e.jsx(K,{tick:{fontSize:12},tickFormatter:b}),e.jsx(M,{formatter:(w,l)=>[l==="revenue"?b(w):w,l==="revenue"?"Gelir":"Sipariş"],labelFormatter:w=>`Tarih: ${w}`}),e.jsx(L,{}),e.jsx(ge,{type:"monotone",dataKey:"revenue",stroke:"#0088FE",fill:"#0088FE",fillOpacity:.6,name:"Gelir"})]});case"bar":return e.jsxs(ye,{...y,children:[e.jsx(G,{strokeDasharray:"3 3"}),e.jsx($,{dataKey:"formattedDate",tick:{fontSize:12},interval:"preserveStartEnd"}),e.jsx(K,{tick:{fontSize:12},tickFormatter:b}),e.jsx(M,{formatter:(w,l)=>[l==="revenue"?b(w):w,l==="revenue"?"Gelir":"Sipariş"],labelFormatter:w=>`Tarih: ${w}`}),e.jsx(L,{}),e.jsx(H,{dataKey:"revenue",fill:"#0088FE",name:"Gelir"})]});default:return e.jsxs(Ne,{...y,children:[e.jsx(G,{strokeDasharray:"3 3"}),e.jsx($,{dataKey:"formattedDate",tick:{fontSize:12},interval:"preserveStartEnd"}),e.jsx(K,{tick:{fontSize:12},tickFormatter:b}),e.jsx(M,{formatter:(w,l)=>[l==="revenue"?b(w):w,l==="revenue"?"Gelir":"Sipariş"],labelFormatter:w=>`Tarih: ${w}`}),e.jsx(L,{}),e.jsx(B,{type:"monotone",dataKey:"revenue",stroke:"#0088FE",strokeWidth:2,dot:{r:4},name:"Gelir"}),a&&e.jsx(B,{type:"monotone",dataKey:"orders",stroke:"#00C49F",strokeWidth:2,dot:{r:4},yAxisId:"right",name:"Sipariş"})]})}};return j?e.jsxs(D,{children:[e.jsx(F,{children:e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(je,{className:"w-5 h-5"}),"Gelir Analizi"]})}),e.jsx(I,{children:e.jsxs("div",{className:"flex items-center justify-center h-96",children:[e.jsx(P,{className:"w-6 h-6 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Veriler yükleniyor..."})]})})]}):u?e.jsxs(D,{children:[e.jsx(F,{children:e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(je,{className:"w-5 h-5"}),"Gelir Analizi"]})}),e.jsx(I,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-600 mb-4",children:u}),e.jsxs(z,{onClick:k,variant:"outline",children:[e.jsx(P,{className:"w-4 h-4 mr-2"}),"Yeniden Dene"]})]})})]}):e.jsxs(D,{children:[e.jsxs(F,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(je,{className:"w-5 h-5"}),"Gelir Analizi"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{value:x,onChange:h=>m(h.target.value),className:"px-3 py-1 border border-neutral-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-neutral-500",children:[e.jsx("option",{value:"1d",children:"Bugün"}),e.jsx("option",{value:"7d",children:"Son 7 Gün"}),e.jsx("option",{value:"30d",children:"Son 30 Gün"}),e.jsx("option",{value:"90d",children:"Son 90 Gün"}),e.jsx("option",{value:"1y",children:"Son 1 Yıl"})]}),e.jsxs("select",{value:T,onChange:h=>g(h.target.value),className:"px-3 py-1 border border-neutral-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-neutral-500",children:[e.jsx("option",{value:"line",children:"Çizgi"}),e.jsx("option",{value:"area",children:"Alan"}),e.jsx("option",{value:"bar",children:"Çubuk"})]}),e.jsx(z,{variant:"outline",size:"sm",onClick:k,children:e.jsx(P,{className:"w-4 h-4"})})]})]}),n&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4",children:[e.jsxs("div",{className:"bg-neutral-50 p-3 rounded-lg overflow-hidden min-w-0",children:[e.jsx("p",{className:"text-sm text-neutral-600",children:"Toplam Gelir"}),e.jsx("p",{className:"text-lg font-semibold truncate overflow-hidden text-ellipsis whitespace-nowrap",children:b(n.totalRevenue)})]}),e.jsxs("div",{className:"bg-neutral-50 p-3 rounded-lg overflow-hidden min-w-0",children:[e.jsx("p",{className:"text-sm text-neutral-600",children:"Günlük Büyüme"}),e.jsx("div",{className:"flex items-center gap-2 min-w-0",children:i(n.growth.daily)})]}),e.jsxs("div",{className:"bg-neutral-50 p-3 rounded-lg overflow-hidden min-w-0",children:[e.jsx("p",{className:"text-sm text-neutral-600",children:"Haftalık Büyüme"}),e.jsx("div",{className:"flex items-center gap-2 min-w-0",children:i(n.growth.weekly)})]}),e.jsxs("div",{className:"bg-neutral-50 p-3 rounded-lg overflow-hidden min-w-0",children:[e.jsx("p",{className:"text-sm text-neutral-600",children:"Aylık Büyüme"}),e.jsx("div",{className:"flex items-center gap-2 min-w-0",children:i(n.growth.monthly)})]})]})]}),e.jsxs(I,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsx("div",{style:{minWidth:600,height:r},children:e.jsx(_,{width:"100%",height:"100%",children:N()})})}),n&&n.revenueByCategory&&n.revenueByCategory.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"text-sm font-medium text-neutral-900 mb-3",children:"Kategoriye Göre Gelir"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2 min-w-max lg:min-w-0",children:n.revenueByCategory.map((h,y)=>e.jsxs("div",{className:"bg-neutral-50 p-2 rounded text-center min-w-[120px]",children:[e.jsx("div",{className:"w-4 h-4 rounded-full mx-auto mb-1",style:{backgroundColor:Ke[y%Ke.length]}}),e.jsx("p",{className:"text-xs font-medium truncate",children:h.category}),e.jsx("p",{className:"text-xs text-neutral-600",children:b(h.revenue)}),e.jsxs("p",{className:"text-xs text-gray-500",children:["%",(h.percentage||0).toFixed(1)]})]},h.category))})})]})]})]})};var ze="Progress",Me=100,[Cs]=Se(ze),[Ts,ks]=Cs(ze),St=c.forwardRef((s,t)=>{const{__scopeProgress:a,value:r=null,max:n,getValueLabel:p=Ds,...j}=s;(n||n===0)&&!Be(n)&&console.error(Es(`${n}`,"Progress"));const f=Be(n)?n:Me;r!==null&&!Le(r,f)&&console.error(Fs(`${r}`,"Progress"));const u=Le(r,f)?r:null,d=be(u)?p(u,f):void 0;return e.jsx(Ts,{scope:a,value:u,max:f,children:e.jsx(V.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":be(u)?u:void 0,"aria-valuetext":d,role:"progressbar","data-state":kt(u,f),"data-value":u??void 0,"data-max":f,...j,ref:t})})});St.displayName=ze;var Ct="ProgressIndicator",Tt=c.forwardRef((s,t)=>{const{__scopeProgress:a,...r}=s,n=ks(Ct,a);return e.jsx(V.div,{"data-state":kt(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...r,ref:t})});Tt.displayName=Ct;function Ds(s,t){return`${Math.round(s/t*100)}%`}function kt(s,t){return s==null?"indeterminate":s===t?"complete":"loading"}function be(s){return typeof s=="number"}function Be(s){return be(s)&&!isNaN(s)&&s>0}function Le(s,t){return be(s)&&!isNaN(s)&&s<=t&&s>=0}function Es(s,t){return`Invalid prop \`max\` of value \`${s}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Me}\`.`}function Fs(s,t){return`Invalid prop \`value\` of value \`${s}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Me} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Dt=St,Rs=Tt;const we=c.forwardRef(({className:s,value:t,...a},r)=>e.jsx(Dt,{ref:r,className:oe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...a,children:e.jsx(Rs,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));we.displayName=Dt.displayName;const Is={available:"#10B981",rented:"#3B82F6",maintenance:"#F59E0B",retired:"#EF4444"},ee=["#EF4444","#F59E0B","#10B981","#059669","#047857"],Re=({period:s="30d",showTrend:t=!0,height:a=400})=>{var w,l,C,S,E,J,Z,xe,he;const[r,n]=c.useState(null),[p,j]=c.useState(!0),[f,u]=c.useState(null),[d,x]=c.useState(s),[m,T]=c.useState("all");c.useEffect(()=>{g()},[d]);const g=async()=>{try{j(!0),u(null);const o=await fetch(ce(`analytics/equipment?period=${d}`),{headers:de()});if(!o.ok)throw new Error("Failed to fetch equipment data");const A=await o.json();if(A.success)n(A.data);else throw new Error(A.message||"Failed to fetch equipment data")}catch(o){console.error("Equipment fetch error:",o),u(o instanceof Error?o.message:"An error occurred")}finally{j(!1)}},k=o=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",minimumFractionDigits:0,maximumFractionDigits:0}).format(o),b=o=>o<20?ee[0]:o<40?ee[1]:o<60?ee[2]:o<80?ee[3]:ee[4],v=o=>o<20?"Çok Düşük":o<40?"Düşük":o<60?"Orta":o<80?"İyi":"Mükemmel",i=o=>{switch(o){case"available":return e.jsx(We,{className:"w-4 h-4 text-green-600"});case"rented":return e.jsx(Ae,{className:"w-4 h-4 text-blue-600"});case"maintenance":return e.jsx(Rt,{className:"w-4 h-4 text-yellow-600"});case"retired":return e.jsx(Ye,{className:"w-4 h-4 text-red-600"});default:return e.jsx(te,{className:"w-4 h-4 text-neutral-600"})}},N=o=>{switch(o){case"available":return"Müsait";case"rented":return"Kiralanmış";case"maintenance":return"Bakımda";case"retired":return"Emekli";default:return o}},h=((w=r==null?void 0:r.topPerformers)==null?void 0:w.filter(o=>m==="all"||o.category===m))||[],y=((l=r==null?void 0:r.underutilized)==null?void 0:l.filter(o=>m==="all"||o.category===m))||[];return p?e.jsxs(D,{children:[e.jsx(F,{children:e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(te,{className:"w-5 h-5"}),"Ekipman Kullanım Analizi"]})}),e.jsx(I,{children:e.jsxs("div",{className:"flex items-center justify-center h-96",children:[e.jsx(P,{className:"w-6 h-6 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Veriler yükleniyor..."})]})})]}):f?e.jsxs(D,{children:[e.jsx(F,{children:e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(te,{className:"w-5 h-5"}),"Ekipman Kullanım Analizi"]})}),e.jsx(I,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-600 mb-4",children:f}),e.jsxs(z,{onClick:g,variant:"outline",children:[e.jsx(P,{className:"w-4 h-4 mr-2"}),"Yeniden Dene"]})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(D,{children:[e.jsxs(F,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(te,{className:"w-5 h-5"}),"Ekipman Kullanım Analizi"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{value:d,onChange:o=>x(o.target.value),className:"px-3 py-1 border border-neutral-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-neutral-500",children:[e.jsx("option",{value:"1d",children:"Bugün"}),e.jsx("option",{value:"7d",children:"Son 7 Gün"}),e.jsx("option",{value:"30d",children:"Son 30 Gün"}),e.jsx("option",{value:"90d",children:"Son 90 Gün"}),e.jsx("option",{value:"1y",children:"Son 1 Yıl"})]}),e.jsxs("select",{value:m,onChange:o=>T(o.target.value),className:"px-3 py-1 border border-neutral-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-neutral-500",children:[e.jsx("option",{value:"all",children:"Tüm Kategoriler"}),(C=r==null?void 0:r.byCategory)==null?void 0:C.map(o=>e.jsx("option",{value:o.category,children:o.category},o.category))]}),e.jsx(z,{variant:"outline",size:"sm",onClick:g,children:e.jsx(P,{className:"w-4 h-4"})})]})]}),r&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4",children:[e.jsxs("div",{className:"bg-neutral-50 p-3 rounded-lg overflow-hidden min-w-0",children:[e.jsx("p",{className:"text-sm text-neutral-600",children:"Toplam Ekipman"}),e.jsx("p",{className:"text-lg font-semibold",children:r.totalEquipment||0})]}),e.jsxs("div",{className:"bg-neutral-50 p-3 rounded-lg overflow-hidden min-w-0",children:[e.jsx("p",{className:"text-sm text-neutral-600",children:"Ortalama Kullanım"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("p",{className:"text-lg font-semibold",children:[(r.averageUtilization||0).toFixed(1),"%"]}),e.jsx(me,{className:"text-xs px-2 py-1 flex-shrink-0",style:{backgroundColor:b(r.averageUtilization||0)},children:v(r.averageUtilization||0)})]})]}),e.jsxs("div",{className:"bg-neutral-50 p-3 rounded-lg overflow-hidden min-w-0",children:[e.jsx("p",{className:"text-sm text-neutral-600",children:"En Çok Kullanılan"}),e.jsx("p",{className:"text-lg font-semibold truncate overflow-hidden text-ellipsis whitespace-nowrap",title:((E=(S=r.topPerformers)==null?void 0:S[0])==null?void 0:E.name)||"N/A",children:((Z=(J=r.topPerformers)==null?void 0:J[0])==null?void 0:Z.name)||"N/A"}),((xe=r.topPerformers)==null?void 0:xe[0])&&e.jsxs("p",{className:"text-sm text-gray-500",children:["%",(r.topPerformers[0].utilizationRate||0).toFixed(1)]})]}),e.jsxs("div",{className:"bg-neutral-50 p-3 rounded-lg overflow-hidden min-w-0",children:[e.jsx("p",{className:"text-sm text-neutral-600",children:"Az Kullanılan"}),e.jsxs("p",{className:"text-sm font-semibold text-orange-600",children:[((he=r.underutilized)==null?void 0:he.length)||0," Ekipman"]})]})]})]}),e.jsxs(I,{children:[r&&r.statusDistribution&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("h4",{className:"text-sm font-medium text-neutral-900 mb-3",children:"Durum Dağılımı"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsx("div",{style:{minWidth:300,height:250},children:e.jsx(_,{width:"100%",height:"100%",children:e.jsxs(Je,{children:[e.jsx(Qe,{data:r.statusDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({name:o,percentage:A})=>`${N(o)} (${(A||0).toFixed(1)}%)`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:r.statusDistribution.map((o,A)=>e.jsx(He,{fill:Is[o.status]||"#8884d8"},`cell-${A}`))}),e.jsx(M,{formatter:(o,A)=>[o,N(A)]})]})})})})]}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("h4",{className:"text-sm font-medium text-neutral-900 mb-3",children:"Kategoriye Göre Performans"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsx("div",{style:{minWidth:400,height:250},children:e.jsx(_,{width:"100%",height:"100%",children:e.jsxs(ye,{data:r.byCategory,children:[e.jsx(G,{strokeDasharray:"3 3"}),e.jsx($,{dataKey:"category",tick:{fontSize:12},angle:-45,textAnchor:"end",height:60}),e.jsx(K,{tick:{fontSize:12}}),e.jsx(M,{formatter:(o,A)=>[A==="avgUtilization"?`${(o||0).toFixed(1)}%`:o,A==="avgUtilization"?"Ortalama Kullanım":"Ekipman Sayısı"]}),e.jsx(L,{}),e.jsx(H,{dataKey:"count",fill:"#3B82F6",name:"Ekipman Sayısı"}),e.jsx(H,{dataKey:"avgUtilization",fill:"#10B981",name:"Ortalama Kullanım (%)"})]})})})})]})]}),t&&r&&r.utilizationTrend&&r.utilizationTrend.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-medium text-neutral-900 mb-3",children:"Kullanım Trendi"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsx("div",{style:{minWidth:600,height:200},children:e.jsx(_,{width:"100%",height:"100%",children:e.jsxs(Ne,{data:r.utilizationTrend,children:[e.jsx(G,{strokeDasharray:"3 3"}),e.jsx($,{dataKey:"date",tick:{fontSize:12},tickFormatter:o=>ie(le(o),"dd MMM",{locale:ne})}),e.jsx(K,{tick:{fontSize:12}}),e.jsx(M,{formatter:(o,A)=>[A==="utilization"?`${(o||0).toFixed(1)}%`:k(o||0),A==="utilization"?"Kullanım Oranı":"Gelir"],labelFormatter:o=>ie(le(o),"dd MMMM yyyy",{locale:ne})}),e.jsx(L,{}),e.jsx(B,{type:"monotone",dataKey:"utilization",stroke:"#3B82F6",strokeWidth:2,name:"Kullanım Oranı (%)"}),e.jsx(B,{type:"monotone",dataKey:"revenue",stroke:"#10B981",strokeWidth:2,yAxisId:"right",name:"Gelir"})]})})})})]})]})]}),h.length>0&&e.jsxs(D,{children:[e.jsx(F,{children:e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-5 h-5 text-green-600"}),"En Çok Kullanılan Ekipmanlar"]})}),e.jsx(I,{children:e.jsx("div",{className:"space-y-3",children:h.slice(0,5).map(o=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-neutral-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[i(o.status),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:o.name}),e.jsx("p",{className:"text-sm text-neutral-600",children:o.category})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-medium",children:[(o.utilizationRate||0).toFixed(1),"%"]}),e.jsx("p",{className:"text-sm text-neutral-600",children:k(o.revenue||0)})]}),e.jsx("div",{className:"w-24",children:e.jsx(we,{value:o.utilizationRate||0,className:"h-2"})})]})]},o.equipmentId))})})]}),y.length>0&&e.jsxs(D,{children:[e.jsx(F,{children:e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"w-5 h-5 text-orange-600"}),"Az Kullanılan Ekipmanlar"]})}),e.jsx(I,{children:e.jsx("div",{className:"space-y-3",children:y.slice(0,5).map(o=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[i(o.status),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:o.name}),e.jsx("p",{className:"text-sm text-neutral-600",children:o.category}),o.lastRental&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Son kiralama: ",ie(le(o.lastRental),"dd MMM yyyy",{locale:ne})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-medium text-orange-600",children:[(o.utilizationRate||0).toFixed(1),"%"]}),e.jsx("p",{className:"text-sm text-neutral-600",children:k(o.revenue||0)})]}),e.jsx("div",{className:"w-24",children:e.jsx(we,{value:o.utilizationRate||0,className:"h-2",style:{backgroundColor:"#FED7AA"}})})]})]},o.equipmentId))})})]})]})},As={completed:"#10B981",pending:"#F59E0B",cancelled:"#EF4444",draft:"#6B7280",confirmed:"#3B82F6"},O=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4"],Ue=({period:s="30d",showDetailed:t=!0,height:a=400})=>{var y,w;const[r,n]=c.useState(null),[p,j]=c.useState(!0),[f,u]=c.useState(null),[d,x]=c.useState(s),[m,T]=c.useState("line");c.useEffect(()=>{g()},[d]);const g=async()=>{try{j(!0),u(null);const l=await fetch(ce(`analytics/orders?period=${d}`),{headers:de()});if(!l.ok)throw new Error("Failed to fetch order data");const C=await l.json();if(C.success)n(C.data);else throw new Error(C.message||"Failed to fetch order data")}catch(l){console.error("Orders fetch error:",l),u(l instanceof Error?l.message:"An error occurred")}finally{j(!1)}},k=l=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",minimumFractionDigits:0,maximumFractionDigits:0}).format(l),b=l=>{try{const C=le(l);return ie(C,"dd MMM",{locale:ne})}catch{return l}},v=l=>{switch(l.toLowerCase()){case"completed":return e.jsx(We,{className:"w-4 h-4 text-green-600"});case"pending":return e.jsx(Ye,{className:"w-4 h-4 text-yellow-600"});case"cancelled":return e.jsx(It,{className:"w-4 h-4 text-red-600"});default:return e.jsx(se,{className:"w-4 h-4 text-neutral-600"})}},i=l=>{switch(l.toLowerCase()){case"completed":return"Tamamlanmış";case"pending":return"Bekleyen";case"cancelled":return"İptal Edilmiş";case"confirmed":return"Onaylanmış";case"draft":return"Taslak";default:return l}},N=l=>{const C=l>=0,S=C?e.jsx(X,{className:"w-3 h-3"}):e.jsx(Ce,{className:"w-3 h-3"}),E=C?"bg-green-100 text-green-800":"bg-red-100 text-red-800";return e.jsxs(me,{className:`${E} flex items-center gap-1`,children:[S,Math.abs(l).toFixed(1),"%"]})},h=()=>{if(!r||!r.dailyOrders)return null;const C={data:r.dailyOrders.map(S=>({...S,formattedDate:b(S.date)})),margin:{top:5,right:30,left:20,bottom:5}};switch(m){case"area":return e.jsxs(Ze,{...C,children:[e.jsx(G,{strokeDasharray:"3 3"}),e.jsx($,{dataKey:"formattedDate",tick:{fontSize:12},interval:"preserveStartEnd"}),e.jsx(K,{tick:{fontSize:12}}),e.jsx(M,{formatter:(S,E)=>[S,E==="totalOrders"?"Toplam Sipariş":E==="completedOrders"?"Tamamlanan":E==="pendingOrders"?"Bekleyen":E==="cancelledOrders"?"İptal Edilen":E],labelFormatter:S=>`Tarih: ${S}`}),e.jsx(L,{}),e.jsx(ge,{type:"monotone",dataKey:"totalOrders",stackId:"1",stroke:O[0],fill:O[0],name:"Toplam Sipariş"}),e.jsx(ge,{type:"monotone",dataKey:"completedOrders",stackId:"2",stroke:O[1],fill:O[1],name:"Tamamlanan"}),e.jsx(ge,{type:"monotone",dataKey:"pendingOrders",stackId:"3",stroke:O[2],fill:O[2],name:"Bekleyen"})]});case"bar":return e.jsxs(ye,{...C,children:[e.jsx(G,{strokeDasharray:"3 3"}),e.jsx($,{dataKey:"formattedDate",tick:{fontSize:12},interval:"preserveStartEnd"}),e.jsx(K,{tick:{fontSize:12}}),e.jsx(M,{formatter:(S,E)=>[S,E==="totalOrders"?"Toplam Sipariş":E==="completedOrders"?"Tamamlanan":E==="pendingOrders"?"Bekleyen":E==="cancelledOrders"?"İptal Edilen":E],labelFormatter:S=>`Tarih: ${S}`}),e.jsx(L,{}),e.jsx(H,{dataKey:"completedOrders",fill:O[1],name:"Tamamlanan"}),e.jsx(H,{dataKey:"pendingOrders",fill:O[2],name:"Bekleyen"}),e.jsx(H,{dataKey:"cancelledOrders",fill:O[3],name:"İptal Edilen"})]});default:return e.jsxs(Ne,{...C,children:[e.jsx(G,{strokeDasharray:"3 3"}),e.jsx($,{dataKey:"formattedDate",tick:{fontSize:12},interval:"preserveStartEnd"}),e.jsx(K,{tick:{fontSize:12}}),e.jsx(M,{formatter:(S,E)=>[S,E==="totalOrders"?"Toplam Sipariş":E==="completedOrders"?"Tamamlanan":E==="pendingOrders"?"Bekleyen":E==="cancelledOrders"?"İptal Edilen":E],labelFormatter:S=>`Tarih: ${S}`}),e.jsx(L,{}),e.jsx(B,{type:"monotone",dataKey:"totalOrders",stroke:O[0],strokeWidth:2,name:"Toplam Sipariş"}),e.jsx(B,{type:"monotone",dataKey:"completedOrders",stroke:O[1],strokeWidth:2,name:"Tamamlanan"}),e.jsx(B,{type:"monotone",dataKey:"pendingOrders",stroke:O[2],strokeWidth:2,name:"Bekleyen"})]})}};return p?e.jsxs(D,{children:[e.jsx(F,{children:e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(se,{className:"w-5 h-5"}),"Sipariş Analizi"]})}),e.jsx(I,{children:e.jsxs("div",{className:"flex items-center justify-center h-96",children:[e.jsx(P,{className:"w-6 h-6 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Veriler yükleniyor..."})]})})]}):f?e.jsxs(D,{children:[e.jsx(F,{children:e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(se,{className:"w-5 h-5"}),"Sipariş Analizi"]})}),e.jsx(I,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-600 mb-4",children:f}),e.jsxs(z,{onClick:g,variant:"outline",children:[e.jsx(P,{className:"w-4 h-4 mr-2"}),"Yeniden Dene"]})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(D,{children:[e.jsxs(F,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(se,{className:"w-5 h-5"}),"Sipariş Analizi"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{value:d,onChange:l=>x(l.target.value),className:"px-3 py-1 border border-neutral-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-neutral-500",children:[e.jsx("option",{value:"1d",children:"Bugün"}),e.jsx("option",{value:"7d",children:"Son 7 Gün"}),e.jsx("option",{value:"30d",children:"Son 30 Gün"}),e.jsx("option",{value:"90d",children:"Son 90 Gün"}),e.jsx("option",{value:"1y",children:"Son 1 Yıl"})]}),e.jsxs("select",{value:m,onChange:l=>T(l.target.value),className:"px-3 py-1 border border-neutral-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-neutral-500",children:[e.jsx("option",{value:"line",children:"Çizgi"}),e.jsx("option",{value:"area",children:"Alan"}),e.jsx("option",{value:"bar",children:"Çubuk"})]}),e.jsx(z,{variant:"outline",size:"sm",onClick:g,children:e.jsx(P,{className:"w-4 h-4"})})]})]}),r&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4",children:[e.jsxs("div",{className:"bg-neutral-50 p-3 rounded-lg",children:[e.jsx("p",{className:"text-sm text-neutral-600",children:"Toplam Sipariş"}),e.jsx("p",{className:"text-lg font-semibold",children:r.totalOrders.toLocaleString()}),e.jsx("div",{className:"flex items-center gap-1 mt-1",children:N(((y=r.orderTrends)==null?void 0:y.ordersGrowth)||0)})]}),e.jsxs("div",{className:"bg-neutral-50 p-3 rounded-lg",children:[e.jsx("p",{className:"text-sm text-neutral-600",children:"Tamamlanma Oranı"}),e.jsxs("p",{className:"text-lg font-semibold",children:[r.completionRate.toFixed(1),"%"]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[r.completedOrders," tamamlandı"]})]}),e.jsxs("div",{className:"bg-neutral-50 p-3 rounded-lg",children:[e.jsx("p",{className:"text-sm text-neutral-600",children:"Ortalama Sipariş Değeri"}),e.jsx("p",{className:"text-lg font-semibold",children:k(r.averageOrderValue)}),e.jsx("div",{className:"flex items-center gap-1 mt-1",children:N(((w=r.orderTrends)==null?void 0:w.averageOrderValueGrowth)||0)})]}),e.jsxs("div",{className:"bg-neutral-50 p-3 rounded-lg",children:[e.jsx("p",{className:"text-sm text-neutral-600",children:"İptal Oranı"}),e.jsxs("p",{className:"text-lg font-semibold text-red-600",children:[r.cancellationRate.toFixed(1),"%"]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[r.cancelledOrders," iptal"]})]})]})]}),e.jsx(I,{children:e.jsx("div",{style:{height:a},children:e.jsx(_,{width:"100%",height:"100%",children:h()})})})]}),t&&r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.ordersByStatus&&r.ordersByStatus.length>0&&e.jsxs(D,{children:[e.jsx(F,{children:e.jsx(R,{className:"text-lg",children:"Sipariş Durumu Dağılımı"})}),e.jsxs(I,{children:[e.jsx("div",{style:{height:250},children:e.jsx(_,{width:"100%",height:"100%",children:e.jsxs(Je,{children:[e.jsx(Qe,{data:r.ordersByStatus,cx:"50%",cy:"50%",labelLine:!1,label:({status:l,percentage:C})=>`${i(l)} (${C.toFixed(1)}%)`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:r.ordersByStatus.map((l,C)=>e.jsx(He,{fill:As[l.status]||O[C]},`cell-${C}`))}),e.jsx(M,{formatter:(l,C)=>[l,"Sipariş Sayısı"],labelFormatter:l=>i(l)})]})})}),e.jsx("div",{className:"mt-4 space-y-2",children:r.ordersByStatus.map((l,C)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-neutral-50 rounded",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[v(l.status),e.jsx("span",{className:"font-medium",children:i(l.status)})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-medium",children:[l.count," sipariş"]}),e.jsx("p",{className:"text-sm text-neutral-600",children:k(l.revenue)})]})]},l.status))})]})]}),r.popularEquipment&&r.popularEquipment.length>0&&e.jsxs(D,{children:[e.jsx(F,{children:e.jsx(R,{className:"text-lg",children:"Popüler Ekipmanlar"})}),e.jsx(I,{children:e.jsx("div",{className:"space-y-3",children:r.popularEquipment.slice(0,5).map((l,C)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-neutral-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold text-sm",children:C+1}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:l.name}),e.jsx("p",{className:"text-sm text-neutral-600",children:l.category})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-medium",children:[l.orderCount," sipariş"]}),e.jsx("p",{className:"text-sm text-neutral-600",children:k(l.revenue)}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Ort. ",l.averageRentalDuration," gün"]})]})]},l.equipmentId))})})]})]}),r.peakHours&&r.peakHours.length>0&&e.jsxs(D,{children:[e.jsx(F,{children:e.jsx(R,{className:"text-lg",children:"Sipariş Yoğunluk Saatleri"})}),e.jsx(I,{children:e.jsx("div",{style:{height:200},children:e.jsx(_,{width:"100%",height:"100%",children:e.jsxs(ye,{data:r.peakHours,children:[e.jsx(G,{strokeDasharray:"3 3"}),e.jsx($,{dataKey:"hour",tick:{fontSize:12},tickFormatter:l=>`${l}:00`}),e.jsx(K,{tick:{fontSize:12}}),e.jsx(M,{formatter:l=>[l,"Sipariş Sayısı"],labelFormatter:l=>`Saat: ${l}:00`}),e.jsx(H,{dataKey:"orderCount",fill:O[0]})]})})})})]}),r.seasonalTrends&&r.seasonalTrends.length>0&&e.jsxs(D,{children:[e.jsx(F,{children:e.jsx(R,{className:"text-lg",children:"Mevsimsel Trendler"})}),e.jsx(I,{children:e.jsx("div",{style:{height:250},children:e.jsx(_,{width:"100%",height:"100%",children:e.jsxs(Ne,{data:r.seasonalTrends,children:[e.jsx(G,{strokeDasharray:"3 3"}),e.jsx($,{dataKey:"month",tick:{fontSize:12}}),e.jsx(K,{tick:{fontSize:12}}),e.jsx(M,{formatter:(l,C)=>[C==="orders"?l:k(l),C==="orders"?"Sipariş Sayısı":"Gelir"]}),e.jsx(L,{}),e.jsx(B,{type:"monotone",dataKey:"orders",stroke:O[0],strokeWidth:2,name:"Sipariş Sayısı"}),e.jsx(B,{type:"monotone",dataKey:"revenue",stroke:O[1],strokeWidth:2,yAxisId:"right",name:"Gelir"})]})})})})]})]})]})},_e=({period:s="30d",compact:t=!1})=>{const[a,r]=c.useState(null),[n,p]=c.useState(!0),[j,f]=c.useState(null),[u,d]=c.useState(s);c.useEffect(()=>{x()},[u]);const x=async()=>{try{p(!0),f(null);const i=await fetch(ce(`analytics/kpis?period=${u}`),{headers:de()});if(!i.ok)throw new Error("Failed to fetch KPI data");const N=await i.json();if(N.success)r(N.data);else throw new Error(N.message||"Failed to fetch KPI data")}catch(i){console.error("KPI fetch error:",i),f(i instanceof Error?i.message:"An error occurred")}finally{p(!1)}},m=(i,N)=>{if(typeof i=="string")return i;switch(N){case"currency":return new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",minimumFractionDigits:0,maximumFractionDigits:0}).format(i);case"percentage":return`${i.toFixed(1)}%`;case"number":return new Intl.NumberFormat("tr-TR").format(i);default:return i.toString()}},T=i=>{const N={className:"w-5 h-5"};switch(i){case"DollarSign":return e.jsx(je,{...N});case"ShoppingCart":return e.jsx(se,{...N});case"Package":return e.jsx(te,{...N});case"Users":return e.jsx(Ot,{...N});case"Activity":return e.jsx(Ae,{...N});case"BarChart3":return e.jsx(q,{...N});case"PieChart":return e.jsx(At,{...N});case"TrendingUp":return e.jsx(X,{...N});default:return e.jsx(Ae,{...N})}},g=i=>i>0?e.jsx(X,{className:"w-3 h-3 text-neutral-700"}):i<0?e.jsx(Ce,{className:"w-3 h-3 text-neutral-600"}):null,k=i=>{const h=i>=0?"bg-neutral-900 text-white":"bg-neutral-300 text-neutral-800";return e.jsxs(me,{className:`${h} flex items-center gap-1 text-xs`,children:[g(i),Math.abs(i).toFixed(1),"%"]})},b=i=>{switch(i){case"7d":return"Son 7 Gün";case"30d":return"Son 30 Gün";case"90d":return"Son 90 Gün";case"1y":return"Son 1 Yıl";default:return i}};if(n)return e.jsxs(D,{children:[e.jsx(F,{children:e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(q,{className:"w-5 h-5"}),"Temel Performans Göstergeleri"]})}),e.jsx(I,{children:e.jsxs("div",{className:"flex items-center justify-center h-32",children:[e.jsx(P,{className:"w-6 h-6 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Veriler yükleniyor..."})]})})]});if(j)return e.jsxs(D,{children:[e.jsx(F,{children:e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(q,{className:"w-5 h-5"}),"Temel Performans Göstergeleri"]})}),e.jsx(I,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-red-600 mb-4",children:j}),e.jsxs(z,{onClick:x,variant:"outline",children:[e.jsx(P,{className:"w-4 h-4 mr-2"}),"Yeniden Dene"]})]})})]});if(!a)return null;const v=[{id:"total-revenue",title:"Toplam Gelir",value:a.revenue.total,change:a.revenue.growth,period:b(u),format:"currency",trend:a.revenue.growth>=0?"up":"down",target:a.revenue.target,icon:"DollarSign",description:`Hedef: ${m(a.revenue.target,"currency")}`,color:"bg-neutral-900"},{id:"total-orders",title:"Toplam Sipariş",value:a.orders.total,change:a.orders.growth,period:b(u),format:"number",trend:a.orders.growth>=0?"up":"down",icon:"ShoppingCart",description:`Ortalama: ${m(a.orders.averageValue,"currency")}`,color:"bg-neutral-800"},{id:"equipment-utilization",title:"Ekipman Kullanımı",value:a.equipment.utilizationRate,change:0,period:"Anlık",format:"percentage",trend:a.equipment.utilizationRate>=70?"up":a.equipment.utilizationRate>=40?"neutral":"down",icon:"Package",description:`${a.equipment.rented}/${a.equipment.total} ekipman kiralanmış`,color:"bg-neutral-700"},{id:"active-customers",title:"Aktif Müşteriler",value:a.customers.active,change:a.customers.growth,period:b(u),format:"number",trend:a.customers.growth>=0?"up":"down",icon:"Users",description:`Yeni: ${a.customers.new} müşteri`,color:"bg-neutral-600"},{id:"profit-margin",title:"Kar Marjı",value:a.financial.profitMargin,change:0,period:b(u),format:"percentage",trend:a.financial.profitMargin>=20?"up":a.financial.profitMargin>=10?"neutral":"down",icon:"TrendingUp",description:`Toplam kar: ${m(a.financial.profit,"currency")}`,color:"bg-neutral-500"},{id:"customer-retention",title:"Müşteri Bağlılığı",value:a.customers.retention,change:0,period:b(u),format:"percentage",trend:a.customers.retention>=80?"up":a.customers.retention>=60?"neutral":"down",icon:"Activity",description:`AOV: ${m(a.customers.averageOrderValue,"currency")}`,color:"bg-neutral-400"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx(D,{children:e.jsx(F,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(q,{className:"w-5 h-5"}),"Temel Performans Göstergeleri"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{value:u,onChange:i=>d(i.target.value),className:"px-3 py-1 border border-neutral-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-neutral-500",children:[e.jsx("option",{value:"7d",children:"Son 7 Gün"}),e.jsx("option",{value:"30d",children:"Son 30 Gün"}),e.jsx("option",{value:"90d",children:"Son 90 Gün"}),e.jsx("option",{value:"1y",children:"Son 1 Yıl"})]}),e.jsx(z,{variant:"outline",size:"sm",onClick:x,children:e.jsx(P,{className:"w-4 h-4"})})]})]})})}),e.jsx("div",{className:`grid gap-4 ${t?"grid-cols-2 md:grid-cols-3 lg:grid-cols-6":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"}`,children:v.map(i=>e.jsx(D,{className:"hover:shadow-md transition-shadow",children:e.jsx(I,{className:"p-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:`p-2 rounded-lg ${i.color} text-white`,children:T(i.icon)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-600",children:i.title}),e.jsx("p",{className:"text-xs text-gray-500",children:i.period})]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:m(i.value,i.format)}),i.change!==0&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[k(i.change),e.jsx("span",{className:"text-xs text-gray-500",children:"vs önceki dönem"})]})]}),i.target&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsx("span",{children:"Hedefe göre"}),e.jsxs("span",{children:[(i.value/i.target*100).toFixed(1),"%"]})]}),e.jsx(we,{value:i.value/i.target*100,className:"h-1"})]}),i.description&&e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:i.description})]})})})},i.id))}),!t&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(D,{children:[e.jsx(F,{className:"pb-2",children:e.jsx(R,{className:"text-sm font-medium",children:"Gelir Detayı"})}),e.jsxs(I,{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-neutral-600",children:"Aylık"}),e.jsx("span",{className:"font-medium",children:m(a.revenue.monthly,"currency")})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-neutral-600",children:"Haftalık"}),e.jsx("span",{className:"font-medium",children:m(a.revenue.weekly,"currency")})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-neutral-600",children:"Günlük"}),e.jsx("span",{className:"font-medium",children:m(a.revenue.daily,"currency")})]})]})]}),e.jsxs(D,{children:[e.jsx(F,{className:"pb-2",children:e.jsx(R,{className:"text-sm font-medium",children:"Sipariş Detayı"})}),e.jsxs(I,{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-neutral-600",children:"Tamamlanan"}),e.jsx("span",{className:"font-medium text-neutral-900",children:a.orders.completed})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-neutral-600",children:"Bekleyen"}),e.jsx("span",{className:"font-medium text-neutral-700",children:a.orders.pending})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-neutral-600",children:"İptal Edilen"}),e.jsx("span",{className:"font-medium text-neutral-500",children:a.orders.cancelled})]})]})]}),e.jsxs(D,{children:[e.jsx(F,{className:"pb-2",children:e.jsx(R,{className:"text-sm font-medium",children:"Ekipman Detayı"})}),e.jsxs(I,{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-neutral-600",children:"Müsait"}),e.jsx("span",{className:"font-medium text-neutral-900",children:a.equipment.available})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-neutral-600",children:"Kiralanmış"}),e.jsx("span",{className:"font-medium text-neutral-700",children:a.equipment.rented})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-neutral-600",children:"Bakımda"}),e.jsx("span",{className:"font-medium text-neutral-600",children:a.equipment.maintenance})]})]})]}),e.jsxs(D,{children:[e.jsx(F,{className:"pb-2",children:e.jsx(R,{className:"text-sm font-medium",children:"Finansal Detay"})}),e.jsxs(I,{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-neutral-600",children:"İşletme Maliyeti"}),e.jsx("span",{className:"font-medium",children:m(a.financial.operatingCosts,"currency")})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-neutral-600",children:"ROI"}),e.jsx("span",{className:"font-medium",children:m(a.financial.roi,"percentage")})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-neutral-600",children:"Nakit Akışı"}),e.jsx("span",{className:`font-medium ${a.financial.cashFlow>=0?"text-neutral-900":"text-neutral-600"}`,children:m(a.financial.cashFlow,"currency")})]})]})]})]})]})},Ws=({defaultPeriod:s="30d",compact:t=!1})=>{const[a,r]=c.useState(s),[n,p]=c.useState("overview"),[j,f]=c.useState(!1),[u,d]=c.useState(new Date),x=()=>{f(!0),d(new Date),r(g=>g),setTimeout(()=>f(!1),1e3)},m=async g=>{try{const k=await fetch(ce(`analytics/export?period=${a}&format=${g}`),{method:"POST",headers:de(),body:JSON.stringify({period:a,format:g,sections:["kpis","revenue","equipment","orders"],timestamp:new Date().toISOString()})});if(k.ok){const b=await k.blob(),v=window.URL.createObjectURL(b),i=document.createElement("a");i.style.display="none",i.href=v,i.download=`canary-analytics-${a}-${g}-${new Date().toISOString().split("T")[0]}.${g}`,document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(v),document.body.removeChild(i)}else throw new Error("Export failed")}catch(k){console.error("Export error:",k),alert("Rapor dışa aktarılırken hata oluştu. Lütfen tekrar deneyin.")}},T=g=>{switch(g){case"1d":return"Bugün";case"7d":return"Son 7 Gün";case"30d":return"Son 30 Gün";case"90d":return"Son 90 Gün";case"1y":return"Son 1 Yıl";default:return g}};return t?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Analiz Özeti"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{value:a,onChange:g=>r(g.target.value),className:"px-2 py-1 border border-neutral-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-neutral-500",children:[e.jsx("option",{value:"1d",children:"Bugün"}),e.jsx("option",{value:"7d",children:"7 Gün"}),e.jsx("option",{value:"30d",children:"30 Gün"}),e.jsx("option",{value:"90d",children:"90 Gün"}),e.jsx("option",{value:"1y",children:"1 Yıl"})]}),e.jsx(z,{variant:"outline",size:"sm",onClick:x,children:e.jsx(P,{className:`w-3 h-3 ${j?"animate-spin":""}`})})]})]}),e.jsx(_e,{period:a,compact:!0}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsx("div",{className:"h-64",children:e.jsx(Fe,{period:a,height:220})}),e.jsx("div",{className:"h-64",children:e.jsx(Re,{period:a,height:220,showTrend:!1})})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(D,{children:e.jsxs(F,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(q,{className:"w-6 h-6"}),"Analiz Dashboard'u"]}),e.jsxs("p",{className:"text-sm text-neutral-600 mt-1",children:[T(a)," dönemi için kapsamlı iş analizi"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pt,{className:"w-4 h-4 text-gray-500"}),e.jsxs("select",{value:a,onChange:g=>r(g.target.value),className:"px-3 py-2 border border-neutral-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-neutral-500",children:[e.jsx("option",{value:"1d",children:"Bugün"}),e.jsx("option",{value:"7d",children:"Son 7 Gün"}),e.jsx("option",{value:"30d",children:"Son 30 Gün"}),e.jsx("option",{value:"90d",children:"Son 90 Gün"}),e.jsx("option",{value:"1y",children:"Son 1 Yıl"})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs(z,{variant:"outline",size:"sm",onClick:()=>m("pdf"),className:"text-xs",children:[e.jsx(ke,{className:"w-3 h-3 mr-1"}),"PDF"]}),e.jsxs(z,{variant:"outline",size:"sm",onClick:()=>m("excel"),className:"text-xs",children:[e.jsx(ke,{className:"w-3 h-3 mr-1"}),"Excel"]}),e.jsxs(z,{variant:"outline",size:"sm",onClick:()=>m("csv"),className:"text-xs",children:[e.jsx(ke,{className:"w-3 h-3 mr-1"}),"CSV"]})]}),e.jsx(z,{variant:"outline",size:"sm",onClick:x,disabled:j,children:e.jsx(P,{className:`w-4 h-4 ${j?"animate-spin":""}`})})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-neutral-600",children:[e.jsxs("span",{children:["Son güncelleme: ",u.toLocaleTimeString("tr-TR")]}),e.jsx(me,{variant:"secondary",className:"text-xs",children:"Canlı Veri"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-600",children:[e.jsx(zt,{className:"w-4 h-4"}),e.jsx("span",{children:"Gerçek zamanlı analiz"})]})]})]})}),e.jsxs(ws,{value:n,onValueChange:p,children:[e.jsxs(wt,{className:"grid w-full grid-cols-4",children:[e.jsx(re,{value:"overview",children:"Genel Bakış"}),e.jsx(re,{value:"revenue",children:"Gelir Analizi"}),e.jsx(re,{value:"equipment",children:"Ekipman Analizi"}),e.jsx(re,{value:"orders",children:"Sipariş Analizi"})]}),e.jsxs(ae,{value:"overview",className:"space-y-6",children:[e.jsx(_e,{period:a}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(Fe,{period:a,type:"area",showComparison:!0,height:350}),e.jsx(Re,{period:a,showTrend:!0,height:350})]}),e.jsx(Ue,{period:a,showDetailed:!1,height:250})]}),e.jsx(ae,{value:"revenue",className:"space-y-6",children:e.jsx(Fe,{period:a,type:"line",showComparison:!0,height:500})}),e.jsx(ae,{value:"equipment",className:"space-y-6",children:e.jsx(Re,{period:a,showTrend:!0,height:500})}),e.jsx(ae,{value:"orders",className:"space-y-6",children:e.jsx(Ue,{period:a,showDetailed:!0,height:500})})]}),e.jsx(D,{children:e.jsx(I,{className:"pt-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx(X,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),e.jsx("h4",{className:"font-semibold text-blue-900",children:"Performans Artışı"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Verilerinizi analiz ederek iş performansınızı artırın"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx(q,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),e.jsx("h4",{className:"font-semibold text-green-900",children:"Gerçek Zamanlı İzleme"}),e.jsx("p",{className:"text-sm text-green-700",children:"Anlık verilerle işinizi yakından takip edin"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx(Mt,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),e.jsx("h4",{className:"font-semibold text-purple-900",children:"Özelleştirilebilir"}),e.jsx("p",{className:"text-sm text-purple-700",children:"Raporları ihtiyaçlarınıza göre özelleştirin"})]})]})})})]})};export{Ws as A};
