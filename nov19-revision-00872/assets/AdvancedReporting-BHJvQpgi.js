import{r as x,t as k,j as e}from"./react-vendor-DBHNAGPW.js";import{f as D}from"./index-BB04Wo6n.js";import{D as V,a as m,c as E}from"./index-C5wiI25D.js";import{a0 as $e,F as Pe,v as K,z as Be,a2 as ke,ab as De,bp as Ye,C as I,bq as He,A as M,w as Ve,D as Ee,x as Ue}from"./ui-vendor-Vc_pfhQB.js";import{R as Ke,C as Ie,T as ze}from"./CategoricalChart-CWQd-BIh.js";import{P as Oe,a as Re}from"./PieChart-BMCiRpQ9.js";import"./chart-vendor-R5Y1AjBI.js";import"./state-vendor-JOdu_MDH.js";const S="http://localhost:4000",z=S.endsWith("/api")?S:`${S}/api`;function at(){var J,Q,X,ee,te,se,ae,le;const[c,g]=x.useState("cashflow"),[N,Ze]=x.useState({start:new Date(new Date().setMonth(new Date().getMonth()-6)).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[Le,O]=x.useState(!1),[l,F]=x.useState([]),[v,G]=x.useState([]),[y,$]=x.useState([]),[P,B]=x.useState([]),[Y,H]=x.useState([]),[n,U]=x.useState([]),i=(t,s=0)=>typeof t=="number"&&!Number.isNaN(t)?t:s;x.useEffect(()=>{Ce()},[c,N]);const Ce=async()=>{var u,f,ne,re,ie,ce,de,oe,xe,me,ue,he,pe,be,fe,je,ge,Ne,ve,ye,we;const t=c;O(!0);const s=localStorage.getItem("token");if(!s){k.error("Oturum bilgisi bulunamadı. Lütfen tekrar giriş yapın."),w(t),O(!1);return}try{if(t==="cashflow"){const d=await D.get(`${z}/accounting/reports/cashflow`,{headers:{Authorization:`Bearer ${s}`},params:{months:6}}),r=Array.isArray((u=d.data)==null?void 0:u.data)?d.data.data:[];F(r.length?r:Z)}else if(t==="profitloss"){const d=await D.get(`${z}/accounting/reports/profit-loss`,{headers:{Authorization:`Bearer ${s}`},params:{startDate:N.start,endDate:N.end}}),r=Array.isArray((ne=(f=d.data)==null?void 0:f.data)==null?void 0:ne.revenue)?d.data.data.revenue:[],o=Array.isArray((ie=(re=d.data)==null?void 0:re.data)==null?void 0:ie.expenses)?d.data.data.expenses:[];G(r.length?r:q),$(o.length?o:_)}else if(t==="balance"){const r=(ce=(await D.get(`${z}/accounting/reports/balance-sheet`,{headers:{Authorization:`Bearer ${s}`},params:{asOfDate:N.end}})).data)==null?void 0:ce.data,o=r==null?void 0:r.assets,j=r==null?void 0:r.liabilities,T=r==null?void 0:r.equity;if(o&&j&&T){const Ae=[{category:"Dönen Varlıklar",subcategories:[{name:"Nakit ve Benzerleri",amount:i((de=o.currentAssets)==null?void 0:de.cash)},{name:"Ticari Alacaklar",amount:i((oe=o.currentAssets)==null?void 0:oe.receivables)},{name:"Stoklar",amount:i((xe=o.currentAssets)==null?void 0:xe.inventory)}],total:i((me=o.currentAssets)==null?void 0:me.total)},{category:"Duran Varlıklar",subcategories:[{name:"Maddi Duran Varlıklar",amount:i((ue=o.fixedAssets)==null?void 0:ue.equipment)},{name:"Birikmiş Amortisman",amount:-i((he=o.fixedAssets)==null?void 0:he.accumulated_depreciation)}],total:i((pe=o.fixedAssets)==null?void 0:pe.total)}],Te=[{category:"Kısa Vadeli Yükümlülükler",subcategories:[{name:"Ticari Borçlar",amount:i((be=j.currentLiabilities)==null?void 0:be.payables)},{name:"Kısa Vadeli Krediler",amount:i((fe=j.currentLiabilities)==null?void 0:fe.shortTermLoans)}],total:i((je=j.currentLiabilities)==null?void 0:je.total)},{category:"Uzun Vadeli Yükümlülükler",subcategories:[{name:"Uzun Vadeli Krediler",amount:i((ge=j.longTermLiabilities)==null?void 0:ge.longTermLoans)}],total:i((Ne=j.longTermLiabilities)==null?void 0:Ne.total)},{category:"Özkaynaklar",subcategories:[{name:"Sermaye",amount:i(T.capital)},{name:"Geçmiş Yıl Karları",amount:i(T.retainedEarnings)}],total:i(T.totalEquity)}];Ae.some(C=>C.total!==0)||Te.some(C=>C.total!==0)?(B(Ae),H(Te)):w(t)}else w(t)}else if(t==="vat"){const d=await D.get(`${z}/accounting/reports/vat-declaration`,{headers:{Authorization:`Bearer ${s}`},params:{months:6}}),r=Array.isArray((ve=d.data)==null?void 0:ve.data)?d.data.data:[];U(r.length?r:W)}}catch(d){console.error("Failed to load report data:",d),k.error(((we=(ye=d.response)==null?void 0:ye.data)==null?void 0:we.message)||"Rapor verileri yüklenemedi"),w(t)}finally{O(!1)}},Z=[{period:"Ocak 2024",operatingInflow:15e4,operatingOutflow:8e4,investingInflow:0,investingOutflow:25e3,financingInflow:5e4,financingOutflow:1e4,netChange:85e3},{period:"Şubat 2024",operatingInflow:18e4,operatingOutflow:9e4,investingInflow:1e4,investingOutflow:0,financingInflow:0,financingOutflow:12e3,netChange:88e3},{period:"Mart 2024",operatingInflow:2e5,operatingOutflow:95e3,investingInflow:0,investingOutflow:3e4,financingInflow:0,financingOutflow:15e3,netChange:6e4},{period:"Nisan 2024",operatingInflow:175e3,operatingOutflow:88e3,investingInflow:5e3,investingOutflow:0,financingInflow:2e4,financingOutflow:13e3,netChange:99e3},{period:"Mayıs 2024",operatingInflow:22e4,operatingOutflow:1e5,investingInflow:0,investingOutflow:4e4,financingInflow:0,financingOutflow:14e3,netChange:66e3},{period:"Haziran 2024",operatingInflow:25e4,operatingOutflow:11e4,investingInflow:15e3,investingOutflow:0,financingInflow:0,financingOutflow:16e3,netChange:139e3}],q=[{category:"Ürün Satışları",amount:32e4,percentage:55},{category:"Hizmet Gelirleri",amount:15e4,percentage:26},{category:"Abonelik Gelirleri",amount:8e4,percentage:14},{category:"Diğer Gelirler",amount:3e4,percentage:5}],_=[{category:"Personel Giderleri",amount:18e4,percentage:40},{category:"Genel Giderler",amount:9e4,percentage:20},{category:"Pazarlama",amount:7e4,percentage:16},{category:"Ar-Ge",amount:5e4,percentage:11},{category:"Diğer Giderler",amount:4e4,percentage:13}],Me=[{category:"Dönen Varlıklar",subcategories:[{name:"Nakit ve Benzerleri",amount:25e4},{name:"Ticari Alacaklar",amount:18e4},{name:"Stoklar",amount:12e4}],total:55e4},{category:"Duran Varlıklar",subcategories:[{name:"Maddi Duran Varlıklar",amount:42e4},{name:"Birikmiş Amortisman",amount:-8e4}],total:34e4}],Se=[{category:"Kısa Vadeli Yükümlülükler",subcategories:[{name:"Ticari Borçlar",amount:16e4},{name:"Kısa Vadeli Krediler",amount:9e4}],total:25e4},{category:"Uzun Vadeli Yükümlülükler",subcategories:[{name:"Uzun Vadeli Krediler",amount:22e4}],total:22e4},{category:"Özkaynaklar",subcategories:[{name:"Sermaye",amount:3e5},{name:"Geçmiş Yıl Karları",amount:12e4}],total:42e4}],w=t=>{t==="cashflow"?F(Z):t==="profitloss"?(G(q),$(_)):t==="balance"?(B(Me),H(Se)):t==="vat"&&U(W)},R=v.reduce((t,s)=>t+s.amount,0),L=y.reduce((t,s)=>t+s.amount,0),b=R-L,h=P.reduce((t,s)=>t+s.total,0),p=Y.reduce((t,s)=>t+s.total,0),W=[{period:"Ocak 2024",sales:15e4,outputVAT:3e4,purchases:8e4,inputVAT:16e3,netVAT:14e3},{period:"Şubat 2024",sales:18e4,outputVAT:36e3,purchases:9e4,inputVAT:18e3,netVAT:18e3},{period:"Mart 2024",sales:2e5,outputVAT:4e4,purchases:95e3,inputVAT:19e3,netVAT:21e3},{period:"Nisan 2024",sales:175e3,outputVAT:35e3,purchases:88e3,inputVAT:17600,netVAT:17400},{period:"Mayıs 2024",sales:22e4,outputVAT:44e3,purchases:1e5,inputVAT:2e4,netVAT:24e3},{period:"Haziran 2024",sales:25e4,outputVAT:5e4,purchases:11e4,inputVAT:22e3,netVAT:28e3}],a=t=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),Fe=()=>{k.info("PDF export özelliği yakında eklenecek")},Ge=()=>{k.info("Excel export özelliği yakında eklenecek")},A=["#3b82f6","#8b5cf6","#ec4899","#f59e0b","#10b981","#6366f1"];return Le?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-neutral-600 mb-4"}),e.jsx("p",{className:"text-neutral-600",children:"Rapor yükleniyor..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:`${(Q=(J=V)==null?void 0:J.typography)==null?void 0:Q.h2} ${(ee=(X=V)==null?void 0:X.colors)==null?void 0:ee.text.primary}`,children:"Gelişmiş Raporlama"}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"Detaylı finansal analiz ve raporlar"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:Ge,className:"flex items-center gap-2 px-4 py-2 border border-neutral-300 rounded-xl hover:bg-neutral-50 transition-colors",children:[e.jsx($e,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Excel"})]}),e.jsxs("button",{onClick:Fe,className:"flex items-center gap-2 px-4 py-2 bg-neutral-900 text-white rounded-xl hover:bg-neutral-800 transition-colors",children:[e.jsx(Pe,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"PDF"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{onClick:()=>g("cashflow"),className:`p-6 rounded-2xl border-2 transition-all min-w-0 ${c==="cashflow"?"border-neutral-900 bg-neutral-50":"border-neutral-200 bg-white hover:border-neutral-300"}`,children:[e.jsx(K,{className:c==="cashflow"?"text-neutral-900":"text-neutral-600",size:32}),e.jsx("h3",{className:"font-semibold text-neutral-900 mt-3",children:"Nakit Akış"}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1",children:"Cashflow Raporu"})]}),e.jsxs("button",{onClick:()=>g("profitloss"),className:`p-6 rounded-2xl border-2 transition-all min-w-0 ${c==="profitloss"?"border-neutral-900 bg-neutral-50":"border-neutral-200 bg-white hover:border-neutral-300"}`,children:[e.jsx(Be,{className:c==="profitloss"?"text-neutral-900":"text-neutral-600",size:32}),e.jsx("h3",{className:"font-semibold text-neutral-900 mt-3",children:"Kar-Zarar"}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1",children:"Gelir Tablosu"})]}),e.jsxs("button",{onClick:()=>g("balance"),className:`p-6 rounded-2xl border-2 transition-all min-w-0 ${c==="balance"?"border-neutral-900 bg-neutral-50":"border-neutral-200 bg-white hover:border-neutral-300"}`,children:[e.jsx(ke,{className:c==="balance"?"text-neutral-900":"text-neutral-600",size:32}),e.jsx("h3",{className:"font-semibold text-neutral-900 mt-3",children:"Bilanço"}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1",children:"Aktif/Pasif"})]}),e.jsxs("button",{onClick:()=>g("vat"),className:`p-6 rounded-2xl border-2 transition-all min-w-0 col-span-2 lg:col-span-1 ${c==="vat"?"border-neutral-900 bg-neutral-50":"border-neutral-200 bg-white hover:border-neutral-300"}`,children:[e.jsx(De,{className:c==="vat"?"text-neutral-900":"text-neutral-600",size:32}),e.jsx("h3",{className:"font-semibold text-neutral-900 mt-3",children:"KDV Raporu"}),e.jsx("p",{className:"text-xs text-neutral-600 mt-1",children:"Beyanname Hazırlık"})]})]}),c==="cashflow"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-neutral-900 rounded-xl p-4 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(Ye,{size:20}),e.jsx(I,{size:18})]}),e.jsx("div",{className:"text-xl lg:text-2xl font-bold mb-1 truncate",children:a(l.reduce((t,s)=>t+s.operatingInflow+s.investingInflow+s.financingInflow,0))}),e.jsx("div",{className:"text-xs opacity-90",children:"Toplam Nakit Girişi"})]}),e.jsxs("div",{className:"bg-neutral-800 rounded-xl p-4 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(He,{size:20}),e.jsx(M,{size:18})]}),e.jsx("div",{className:"text-xl lg:text-2xl font-bold mb-1 truncate",children:a(l.reduce((t,s)=>t+s.operatingOutflow+s.investingOutflow+s.financingOutflow,0))}),e.jsx("div",{className:"text-xs opacity-90",children:"Toplam Nakit Çıkışı"})]}),e.jsxs("div",{className:`rounded-xl p-4 text-white ${l.reduce((t,s)=>t+s.netChange,0)>=0?"bg-neutral-900":"bg-neutral-700"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(K,{size:20}),e.jsx("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:l.reduce((t,s)=>t+s.netChange,0)>=0?"POZİTİF":"NEGATİF"})]}),e.jsx("div",{className:"text-xl lg:text-2xl font-bold mb-1 truncate",children:a(Math.abs(l.reduce((t,s)=>t+s.netChange,0)))}),e.jsx("div",{className:"text-xs opacity-90",children:"Net Nakit Değişimi"})]})]}),e.jsxs("div",{className:m("md","sm","default","lg"),children:[e.jsx("h3",{className:"text-base font-semibold text-neutral-900 mb-4",children:"Nakit Akış Tablosu"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b-2 border-neutral-900",children:[e.jsx("h4",{className:"font-semibold text-neutral-900",children:"İŞLETME FAALİYETLERİNDEN NAKİT AKIŞLARI"}),e.jsx("span",{className:"font-bold text-neutral-900",children:a(l.reduce((t,s)=>t+s.operatingInflow-s.operatingOutflow,0))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between py-2 px-4 hover:bg-neutral-50 rounded-lg",children:[e.jsx("span",{className:"text-neutral-700",children:"Nakit Girişleri"}),e.jsx("span",{className:"font-semibold text-neutral-900",children:a(l.reduce((t,s)=>t+s.operatingInflow,0))})]}),e.jsxs("div",{className:"flex items-center justify-between py-2 px-4 hover:bg-neutral-50 rounded-lg",children:[e.jsx("span",{className:"text-neutral-700",children:"Nakit Çıkışları"}),e.jsxs("span",{className:"font-semibold text-neutral-900",children:["(",a(l.reduce((t,s)=>t+s.operatingOutflow,0)),")"]})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b-2 border-neutral-900",children:[e.jsx("h4",{className:"font-semibold text-neutral-900",children:"YATIRIM FAALİYETLERİNDEN NAKİT AKIŞLARI"}),e.jsx("span",{className:"font-bold text-neutral-900",children:a(l.reduce((t,s)=>t+s.investingInflow-s.investingOutflow,0))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between py-2 px-4 hover:bg-neutral-50 rounded-lg",children:[e.jsx("span",{className:"text-neutral-700",children:"Yatırım Girişleri"}),e.jsx("span",{className:"font-semibold text-neutral-900",children:a(l.reduce((t,s)=>t+s.investingInflow,0))})]}),e.jsxs("div",{className:"flex items-center justify-between py-2 px-4 hover:bg-neutral-50 rounded-lg",children:[e.jsx("span",{className:"text-neutral-700",children:"Yatırım Çıkışları"}),e.jsxs("span",{className:"font-semibold text-neutral-900",children:["(",a(l.reduce((t,s)=>t+s.investingOutflow,0)),")"]})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b-2 border-neutral-900",children:[e.jsx("h4",{className:"font-semibold text-neutral-900",children:"FİNANSMAN FAALİYETLERİNDEN NAKİT AKIŞLARI"}),e.jsx("span",{className:"font-bold text-neutral-900",children:a(l.reduce((t,s)=>t+s.financingInflow-s.financingOutflow,0))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between py-2 px-4 hover:bg-neutral-50 rounded-lg",children:[e.jsx("span",{className:"text-neutral-700",children:"Finansman Girişleri"}),e.jsx("span",{className:"font-semibold text-neutral-900",children:a(l.reduce((t,s)=>t+s.financingInflow,0))})]}),e.jsxs("div",{className:"flex items-center justify-between py-2 px-4 hover:bg-neutral-50 rounded-lg",children:[e.jsx("span",{className:"text-neutral-700",children:"Finansman Çıkışları"}),e.jsxs("span",{className:"font-semibold text-neutral-900",children:["(",a(l.reduce((t,s)=>t+s.financingOutflow,0)),")"]})]})]})]}),e.jsx("div",{className:"p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-lg font-bold text-neutral-900",children:"DÖNEM SONU NAKİT VE NAKİT BENZERLERİNDEKİ NET ARTIŞ (AZALIŞ)"}),e.jsx("span",{className:"text-2xl font-bold truncate text-neutral-900",children:a(Math.abs(l.reduce((t,s)=>t+s.netChange,0)))})]})})]})]}),e.jsxs("div",{className:E(m("md","sm","default","lg"),"overflow-hidden"),children:[e.jsx("div",{className:"p-3 border-b border-neutral-200",children:e.jsx("h3",{className:"text-sm font-semibold text-neutral-900",children:"Dönemsel Nakit Akış Detayı"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-neutral-700 uppercase",children:"Dönem"}),e.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-neutral-700 uppercase",children:"İşletme"}),e.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-neutral-700 uppercase",children:"Yatırım"}),e.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-neutral-700 uppercase",children:"Finansman"}),e.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-neutral-700 uppercase",children:"Net Değişim"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-100",children:l.map((t,s)=>e.jsxs("tr",{className:"hover:bg-neutral-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-neutral-900",children:t.period}),e.jsx("td",{className:"px-4 py-3 text-sm text-right font-semibold text-neutral-900",children:a(t.operatingInflow-t.operatingOutflow)}),e.jsx("td",{className:"px-4 py-3 text-sm text-right font-semibold text-neutral-900",children:a(t.investingInflow-t.investingOutflow)}),e.jsx("td",{className:"px-4 py-3 text-sm text-right font-semibold text-neutral-900",children:a(t.financingInflow-t.financingOutflow)}),e.jsx("td",{className:"px-4 py-3 text-sm text-right font-bold text-neutral-900",children:a(t.netChange)})]},s))}),e.jsx("tfoot",{className:"bg-neutral-50 border-t-2 border-neutral-300",children:e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-sm font-bold text-neutral-900",children:"TOPLAM"}),e.jsx("td",{className:"px-4 py-3 text-sm text-right font-bold text-neutral-900",children:a(l.reduce((t,s)=>t+s.operatingInflow-s.operatingOutflow,0))}),e.jsx("td",{className:"px-4 py-3 text-sm text-right font-bold text-neutral-900",children:a(l.reduce((t,s)=>t+s.investingInflow-s.investingOutflow,0))}),e.jsx("td",{className:"px-4 py-3 text-sm text-right font-bold text-neutral-900",children:a(l.reduce((t,s)=>t+s.financingInflow-s.financingOutflow,0))}),e.jsx("td",{className:"px-4 py-3 text-sm text-right font-bold text-neutral-900",children:a(l.reduce((t,s)=>t+s.netChange,0))})]})})]})})]})]}),c==="profitloss"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-neutral-900 rounded-xl p-4 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(K,{size:20}),e.jsx(I,{size:18})]}),e.jsx("div",{className:"text-xl lg:text-2xl font-bold mb-1 truncate",children:a(R)}),e.jsx("div",{className:"text-xs opacity-90",children:"Toplam Gelir"})]}),e.jsxs("div",{className:"bg-neutral-800 rounded-xl p-4 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(Ve,{size:20}),e.jsx(M,{size:18})]}),e.jsx("div",{className:"text-xl lg:text-2xl font-bold mb-1 truncate",children:a(L)}),e.jsx("div",{className:"text-xs opacity-90",children:"Toplam Gider"})]}),e.jsxs("div",{className:`rounded-xl p-4 text-white ${b>=0?"bg-neutral-900":"bg-neutral-700"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(Ee,{size:20}),e.jsx("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:b>=0?"KAR":"ZARAR"})]}),e.jsx("div",{className:"text-xl lg:text-2xl font-bold mb-1 truncate",children:a(Math.abs(b))}),e.jsxs("div",{className:"text-xs opacity-90",children:["Net ",b>=0?"Kar":"Zarar"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4",children:[e.jsxs("div",{className:m("md","sm","default","lg"),children:[e.jsx("h3",{className:"text-base font-semibold text-neutral-900 mb-3",children:"Gelir Dağılımı"}),e.jsx("div",{className:"w-full overflow-hidden",children:e.jsx(Ke,{width:"100%",height:180,children:e.jsxs(Oe,{children:[e.jsx(Re,{data:v,cx:"50%",cy:"50%",labelLine:!1,label:t=>`${t.category}: ${t.percentage}%`,outerRadius:60,fill:"#8884d8",dataKey:"amount",children:v.map((t,s)=>e.jsx(Ie,{fill:A[s%A.length]},`cell-${s}`))}),e.jsx(ze,{formatter:t=>a(t)})]})})})]}),e.jsxs("div",{className:m("md","sm","default","lg"),children:[e.jsx("h3",{className:"text-base font-semibold text-neutral-900 mb-3",children:"Gider Dağılımı"}),e.jsx("div",{className:"w-full overflow-hidden",children:e.jsx(Ke,{width:"100%",height:180,children:e.jsxs(Oe,{children:[e.jsx(Re,{data:y,cx:"50%",cy:"50%",labelLine:!1,label:t=>`${t.percentage}%`,outerRadius:60,fill:"#8884d8",dataKey:"amount",children:y.map((t,s)=>e.jsx(Ie,{fill:A[s%A.length]},`cell-${s}`))}),e.jsx(ze,{formatter:t=>a(t)})]})})})]})]}),e.jsxs("div",{className:m("md","sm","default","lg"),children:[e.jsx("h3",{className:"text-base font-semibold text-neutral-900 mb-4",children:"Kar-Zarar Tablosu"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b-2 border-neutral-900",children:[e.jsx("h4",{className:"font-semibold text-neutral-900",children:"GELİRLER"}),e.jsx("span",{className:"font-bold text-neutral-900",children:a(R)})]}),v.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between py-2 px-4 hover:bg-neutral-50 rounded-lg",children:[e.jsx("span",{className:"text-neutral-700",children:t.category}),e.jsx("span",{className:"font-semibold text-neutral-900",children:a(t.amount)})]},s))]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b-2 border-neutral-700",children:[e.jsx("h4",{className:"font-semibold text-neutral-900",children:"GİDERLER"}),e.jsxs("span",{className:"font-bold text-neutral-900",children:["(",a(L),")"]})]}),y.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between py-2 px-4 hover:bg-neutral-50 rounded-lg",children:[e.jsx("span",{className:"text-neutral-700",children:t.category}),e.jsxs("span",{className:"font-semibold text-neutral-900",children:["(",a(t.amount),")"]})]},s))]}),e.jsx("div",{className:"p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-lg font-bold text-neutral-900",children:["NET ",b>=0?"KAR":"ZARAR"]}),e.jsx("span",{className:"text-2xl font-bold text-neutral-900 truncate",children:a(Math.abs(b))})]})})]})]})]}),c==="balance"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-neutral-900 rounded-xl p-4 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(ke,{size:20}),e.jsx("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:"AKTİF"})]}),e.jsx("div",{className:"text-xl lg:text-2xl font-bold mb-1 truncate",children:a(h)}),e.jsx("div",{className:"text-xs opacity-90",children:"Toplam Varlıklar"})]}),e.jsxs("div",{className:"bg-neutral-800 rounded-xl p-4 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(De,{size:20}),e.jsx("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:"PASİF"})]}),e.jsx("div",{className:"text-xl lg:text-2xl font-bold mb-1 truncate",children:a(p)}),e.jsx("div",{className:"text-xs opacity-90",children:"Kaynak Toplam"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:m("md","none","default","lg"),children:[e.jsx("div",{className:"p-3 border-b border-neutral-200 bg-neutral-50",children:e.jsx("h3",{className:"text-sm font-semibold text-neutral-900",children:"AKTİFLER (Varlıklar)"})}),e.jsxs("div",{className:"p-4 space-y-4",children:[P.map((t,s)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b border-neutral-200",children:[e.jsx("h4",{className:"font-semibold text-neutral-900",children:t.category}),e.jsx("span",{className:"font-bold text-neutral-900",children:a(t.total)})]}),e.jsx("div",{className:"space-y-2",children:t.subcategories.map((u,f)=>e.jsxs("div",{className:"flex items-center justify-between py-1 px-3 hover:bg-neutral-50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-neutral-700",children:u.name}),e.jsx("span",{className:"text-sm font-medium text-neutral-900",children:a(u.amount)})]},f))})]},s)),e.jsx("div",{className:"pt-4 border-t-2 border-neutral-900",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-lg font-bold text-neutral-900",children:"TOPLAM AKTİF"}),e.jsx("span",{className:E((se=(te=V)==null?void 0:te.typography)==null?void 0:se.stat.md,"text-neutral-900"),children:a(h)})]})})]})]}),e.jsxs("div",{className:m("md","none","default","lg"),children:[e.jsx("div",{className:"p-3 border-b border-neutral-200 bg-neutral-50",children:e.jsx("h3",{className:"text-sm font-semibold text-neutral-900",children:"PASİFLER (Kaynaklar)"})}),e.jsxs("div",{className:"p-4 space-y-4",children:[Y.map((t,s)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b border-neutral-200",children:[e.jsx("h4",{className:"font-semibold text-neutral-900",children:t.category}),e.jsx("span",{className:"font-bold text-neutral-900",children:a(t.total)})]}),e.jsx("div",{className:"space-y-2",children:t.subcategories.map((u,f)=>e.jsxs("div",{className:"flex items-center justify-between py-1 px-3 hover:bg-neutral-50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-neutral-700",children:u.name}),e.jsx("span",{className:"text-sm font-medium text-neutral-900",children:a(u.amount)})]},f))})]},s)),e.jsx("div",{className:"pt-4 border-t-2 border-neutral-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-lg font-bold text-neutral-900",children:"TOPLAM PASİF"}),e.jsx("span",{className:E((le=(ae=V)==null?void 0:ae.typography)==null?void 0:le.stat.md,"text-neutral-900"),children:a(p)})]})})]})]})]}),e.jsx("div",{className:`p-6 rounded-xl ${Math.abs(h-p)<.01?"bg-neutral-50 border border-neutral-300":"bg-neutral-100 border border-neutral-400"}`,children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[Math.abs(h-p)<.01?e.jsx(I,{className:"text-neutral-900",size:32}):e.jsx(M,{className:"text-neutral-700",size:32}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-neutral-900",children:Math.abs(h-p)<.01?"Bilanço Dengede ✓":"Bilanço Farkı Var!"}),e.jsx("p",{className:"text-sm text-neutral-700",children:Math.abs(h-p)<.01?"Aktif ve Pasif toplamları eşittir":`Fark: ${a(Math.abs(h-p))}`})]})]})})})]}),c==="vat"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-neutral-900 rounded-xl p-4 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(K,{size:20}),e.jsx(I,{size:18})]}),e.jsx("div",{className:"text-xl lg:text-2xl font-bold mb-1 truncate",children:a(n.reduce((t,s)=>t+s.outputVAT,0))}),e.jsx("div",{className:"text-xs opacity-90",children:"Hesaplanan KDV (Çıkan)"})]}),e.jsxs("div",{className:"bg-neutral-800 rounded-xl p-4 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(Ve,{size:20}),e.jsx(Ue,{size:18})]}),e.jsx("div",{className:"text-xl lg:text-2xl font-bold mb-1 truncate",children:a(n.reduce((t,s)=>t+s.inputVAT,0))}),e.jsx("div",{className:"text-xs opacity-90",children:"İndirilecek KDV (Giren)"})]}),e.jsxs("div",{className:`rounded-xl p-4 text-white ${n.reduce((t,s)=>t+s.netVAT,0)>=0?"bg-neutral-900":"bg-neutral-700"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(Ee,{size:20}),e.jsx("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:n.reduce((t,s)=>t+s.netVAT,0)>=0?"ÖDENECEK":"İADE"})]}),e.jsx("div",{className:"text-xl lg:text-2xl font-bold mb-1 truncate",children:a(Math.abs(n.reduce((t,s)=>t+s.netVAT,0)))}),e.jsx("div",{className:"text-xs opacity-90",children:"Net KDV"})]})]}),e.jsxs("div",{className:m("md","sm","default","lg"),children:[e.jsx("h3",{className:"text-base font-semibold text-neutral-900 mb-4",children:"KDV Beyannamesi"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b-2 border-neutral-900",children:[e.jsx("h4",{className:"font-semibold text-neutral-900",children:"VERGİYE TABİ İŞLEMLER (Satışlar)"}),e.jsx("span",{className:"font-bold text-neutral-900",children:a(n.reduce((t,s)=>t+s.sales,0))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between py-2 px-4 hover:bg-neutral-50 rounded-lg",children:[e.jsx("span",{className:"text-neutral-700",children:"Toplam Satış Tutarı (Matrah)"}),e.jsx("span",{className:"font-semibold text-neutral-900",children:a(n.reduce((t,s)=>t+s.sales,0))})]}),e.jsxs("div",{className:"flex items-center justify-between py-2 px-4 bg-neutral-50 rounded-lg",children:[e.jsx("span",{className:"text-neutral-700 font-medium",children:"Hesaplanan KDV (% 20)"}),e.jsx("span",{className:"font-bold text-neutral-900",children:a(n.reduce((t,s)=>t+s.outputVAT,0))})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b-2 border-neutral-900",children:[e.jsx("h4",{className:"font-semibold text-neutral-900",children:"İNDİRİLECEK KDV (Alışlar)"}),e.jsx("span",{className:"font-bold text-neutral-900",children:a(n.reduce((t,s)=>t+s.purchases,0))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between py-2 px-4 hover:bg-neutral-50 rounded-lg",children:[e.jsx("span",{className:"text-neutral-700",children:"Toplam Alış Tutarı"}),e.jsx("span",{className:"font-semibold text-neutral-900",children:a(n.reduce((t,s)=>t+s.purchases,0))})]}),e.jsxs("div",{className:"flex items-center justify-between py-2 px-4 bg-neutral-50 rounded-lg",children:[e.jsx("span",{className:"text-neutral-700 font-medium",children:"İndirilecek KDV"}),e.jsxs("span",{className:"font-bold text-neutral-900",children:["(",a(n.reduce((t,s)=>t+s.inputVAT,0)),")"]})]})]})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-lg font-bold text-neutral-900",children:n.reduce((t,s)=>t+s.netVAT,0)>=0?"ÖDENECEK KDV":"İADE ALINACAK KDV"}),e.jsx("span",{className:"text-2xl font-bold truncate text-neutral-900",children:a(Math.abs(n.reduce((t,s)=>t+s.netVAT,0)))})]}),e.jsx("div",{className:"mt-2 text-sm",children:e.jsx("p",{className:"text-neutral-700",children:n.reduce((t,s)=>t+s.netVAT,0)>=0?"Hesaplanan KDV > İndirilecek KDV - Hazine'ye ödenecek":"İndirilecek KDV > Hesaplanan KDV - Hazine'den iade alınacak"})})]})]})]}),e.jsxs("div",{className:E(m("md","sm","default","lg"),"overflow-hidden"),children:[e.jsx("div",{className:"p-3 border-b border-neutral-200",children:e.jsx("h3",{className:"text-sm font-semibold text-neutral-900",children:"Dönemsel KDV Detayı"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-neutral-700 uppercase",children:"Dönem"}),e.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-neutral-700 uppercase",children:"Satış Matrahı"}),e.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-neutral-700 uppercase",children:"Hesaplanan KDV"}),e.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-neutral-700 uppercase",children:"Alış Tutarı"}),e.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-neutral-700 uppercase",children:"İndirilecek KDV"}),e.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-neutral-700 uppercase",children:"Ödenecek/İade KDV"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-100",children:n.map((t,s)=>e.jsxs("tr",{className:"hover:bg-neutral-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-neutral-900",children:t.period}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-neutral-900",children:a(t.sales)}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-neutral-900 font-semibold",children:a(t.outputVAT)}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-neutral-900",children:a(t.purchases)}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-neutral-900 font-semibold",children:a(t.inputVAT)}),e.jsxs("td",{className:"px-4 py-3 text-sm text-right font-bold text-neutral-900",children:[a(Math.abs(t.netVAT))," ",t.netVAT>=0?"(Ö)":"(İ)"]})]},s))}),e.jsx("tfoot",{className:"bg-neutral-50 border-t-2 border-neutral-300",children:e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-sm font-bold text-neutral-900",children:"TOPLAM"}),e.jsx("td",{className:"px-4 py-3 text-sm text-right font-bold text-neutral-900",children:a(n.reduce((t,s)=>t+s.sales,0))}),e.jsx("td",{className:"px-4 py-3 text-sm text-right font-bold text-neutral-900",children:a(n.reduce((t,s)=>t+s.outputVAT,0))}),e.jsx("td",{className:"px-4 py-3 text-sm text-right font-bold text-neutral-900",children:a(n.reduce((t,s)=>t+s.purchases,0))}),e.jsx("td",{className:"px-4 py-3 text-sm text-right font-bold text-neutral-900",children:a(n.reduce((t,s)=>t+s.inputVAT,0))}),e.jsx("td",{className:"px-4 py-3 text-sm text-right font-bold text-neutral-900",children:a(Math.abs(n.reduce((t,s)=>t+s.netVAT,0)))})]})})]})})]})]})]})}export{at as default};
