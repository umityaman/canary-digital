import{r,j as e}from"./react-vendor-DBHNAGPW.js";import{b as j}from"./index-BB04Wo6n.js";import{R as b,D as p,f as N,u as o,P as f,C as g,W as v,v as y,w}from"./ui-vendor-Vc_pfhQB.js";import"./chart-vendor-R5Y1AjBI.js";import"./state-vendor-JOdu_MDH.js";function T(){const[u,n]=r.useState(!0),[t,h]=r.useState(null),[d,i]=r.useState(null);r.useEffect(()=>{c()},[]);const c=async()=>{var s,a;try{n(!0),i(null);const l=await j.get("/api/dashboard/stats");h(l.data)}catch(l){console.error("Dashboard stats error:",l),i(((a=(s=l.response)==null?void 0:s.data)==null?void 0:a.message)||"Dashboard verisi yüklenemedi")}finally{n(!1)}},m=s=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(s),x=s=>{const a=s>=0;return e.jsxs("span",{className:`flex items-center ${a?"text-neutral-700":"text-neutral-600"}`,children:[a?e.jsx(y,{size:16}):e.jsx(w,{size:16}),e.jsxs("span",{className:"ml-1",children:[Math.abs(s).toFixed(1),"%"]})]})};return u?e.jsx("div",{className:"min-h-screen bg-neutral-50 p-6",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(b,{className:"animate-spin text-neutral-900",size:32})})}):d?e.jsx("div",{className:"min-h-screen bg-neutral-50 p-6",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[e.jsx("p",{className:"text-red-800 font-medium",children:d}),e.jsx("button",{onClick:c,className:"mt-4 px-6 py-2 bg-neutral-900 text-white rounded-lg hover:bg-neutral-800 transition-colors font-medium",children:"Tekrar Dene"})]})}):t?e.jsx("div",{className:"min-h-screen bg-neutral-50 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-neutral-900",children:"Dashboard"}),e.jsx("p",{className:"text-neutral-600 mt-2",children:"Genel Bakış ve İstatistikler"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-neutral-900 rounded-lg",children:e.jsx(p,{className:"text-white",size:24})}),x(t.revenue.change)]}),e.jsx("h3",{className:"text-neutral-600 text-sm font-medium",children:"Aylık Gelir"}),e.jsx("p",{className:"text-2xl font-bold text-neutral-900 mt-2",children:m(t.revenue.monthly)}),e.jsxs("p",{className:"text-xs text-neutral-500 mt-2",children:["Toplam: ",m(t.revenue.total)]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-neutral-800 rounded-lg",children:e.jsx(N,{className:"text-white",size:24})}),x(t.reservations.change)]}),e.jsx("h3",{className:"text-neutral-600 text-sm font-medium",children:"Toplam Rezervasyon"}),e.jsx("p",{className:"text-2xl font-bold text-neutral-900 mt-2",children:t.reservations.total}),e.jsxs("p",{className:"text-xs text-neutral-500 mt-2",children:["Tamamlanan: ",t.reservations.completed]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"p-3 bg-neutral-700 rounded-lg",children:e.jsx(o,{className:"text-white",size:24})})}),e.jsx("h3",{className:"text-neutral-600 text-sm font-medium",children:"Aktif Rezervasyon"}),e.jsx("p",{className:"text-2xl font-bold text-neutral-900 mt-2",children:t.reservations.active}),e.jsx("p",{className:"text-xs text-neutral-500 mt-2",children:"Devam eden işlemler"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"p-3 bg-neutral-600 rounded-lg",children:e.jsx(f,{className:"text-white",size:24})})}),e.jsx("h3",{className:"text-neutral-600 text-sm font-medium",children:"Toplam Ekipman"}),e.jsx("p",{className:"text-2xl font-bold text-neutral-900 mt-2",children:t.equipment.total}),e.jsxs("p",{className:"text-xs text-neutral-500 mt-2",children:["Uygun: ",t.equipment.available]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Ekipman Durumu"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-neutral-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(g,{className:"text-neutral-900 mr-3",size:20}),e.jsx("span",{className:"text-neutral-700 font-medium",children:"Uygun"})]}),e.jsx("span",{className:"font-bold text-neutral-900",children:t.equipment.available})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-neutral-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(o,{className:"text-neutral-700 mr-3",size:20}),e.jsx("span",{className:"text-neutral-700 font-medium",children:"Kullanımda"})]}),e.jsx("span",{className:"font-bold text-neutral-900",children:t.equipment.inUse})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-neutral-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(v,{className:"text-neutral-600 mr-3",size:20}),e.jsx("span",{className:"text-neutral-700 font-medium",children:"Bakımda"})]}),e.jsx("span",{className:"font-bold text-neutral-900",children:t.equipment.maintenance})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Son Rezervasyonlar"}),e.jsx("div",{className:"space-y-3",children:t.recentReservations.length>0?t.recentReservations.map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between py-3 px-2 border-b last:border-b-0 hover:bg-neutral-50 rounded transition-colors",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-neutral-900",children:s.reservationNo||`#${s.id}`}),e.jsx("p",{className:"text-sm text-neutral-600",children:s.customerName||"Müşteri"})]}),e.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${s.status==="CONFIRMED"?"bg-neutral-900 text-white":s.status==="PENDING"?"bg-neutral-300 text-neutral-800":"bg-neutral-100 text-neutral-800"}`,children:s.status})]},a)):e.jsx("p",{className:"text-neutral-500 text-center py-4",children:"Henüz rezervasyon yok"})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Yaklaşan Rezervasyonlar"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-neutral-200",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-neutral-700",children:"Rezervasyon No"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-neutral-700",children:"Müşteri"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-neutral-700",children:"Başlangıç"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-neutral-700",children:"Durum"})]})}),e.jsx("tbody",{children:t.upcomingReservations.length>0?t.upcomingReservations.map((s,a)=>e.jsxs("tr",{className:"border-b border-neutral-100 last:border-b-0 hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"py-3 px-4 text-sm text-neutral-900 font-medium",children:s.reservationNo||`#${s.id}`}),e.jsx("td",{className:"py-3 px-4 text-sm text-neutral-900",children:s.customerName||"Müşteri"}),e.jsx("td",{className:"py-3 px-4 text-sm text-neutral-600",children:new Date(s.startDate).toLocaleDateString("tr-TR")}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${s.status==="CONFIRMED"?"bg-neutral-900 text-white":"bg-neutral-300 text-neutral-800"}`,children:s.status})})]},a)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"py-4 text-center text-neutral-500",children:"Yaklaşan rezervasyon yok"})})})]})})]})]})}):null}export{T as default};
