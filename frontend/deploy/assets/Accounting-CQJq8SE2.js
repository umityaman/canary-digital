const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/IncomeTab-B8tITPMG.js","assets/react-vendor-DBHNAGPW.js","assets/chart-vendor-R5Y1AjBI.js","assets/index-C00KFl1S.js","assets/state-vendor-JOdu_MDH.js","assets/ui-vendor-CIs_GH3f.js","assets/index-B65EtHkh.css","assets/index-C5wiI25D.js","assets/ExpenseTab-CyKvB_bJ.js","assets/AccountingDashboard-BLLOzT1H.js","assets/CategoricalChart-C69NJt_p.js","assets/LineChart-CinkcQtg.js","assets/BarChart-DwvJ3Z4S.js","assets/Legend-DPEPPdzH.js","assets/AreaChart-Brk1GT_L.js","assets/PieChart-B4LqhFyg.js","assets/AccountCardList-DSuT6czP.js","assets/EInvoiceList-BewiPaMj.js","assets/BankReconciliation-DZ1Qn6pA.js","assets/DeliveryNoteList-LHNwdA3U.js","assets/InventoryAccounting-CShHsFzl.js","assets/AdvancedReporting-Dl0EUSkI.js","assets/CompanyInfo-C4UAubW7.js","assets/api-BJY2WxaN.js","assets/CashBankManagement-Crg7gcjR.js","assets/ReminderManagement-Dh7VhWT5.js","assets/StatementSharing-3bprCXok.js","assets/BarcodeScanner-BqDX6mk0.js","assets/NotificationsTab-DI7HG-i7.js","assets/ToolsTab-B_KMsT0V.js","assets/ActionCard-vvPNPFiA.js","assets/IntegrationsTab-CHhqMpPP.js","assets/SupportTab-BN3G7FGn.js","assets/CostAccounting-BBGkmX-Z.js"])))=>i.map(i=>d[i]);
var Ki=Object.defineProperty;var qi=(t,N,i)=>N in t?Ki(t,N,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[N]=i;var Yt=(t,N,i)=>qi(t,typeof N!="symbol"?N+"":N,i);import{c as Ut,p as Kt,d as Qi,i as Xi,o as Wt,e as Zi,f as Ht,_ as Ae}from"./index-C00KFl1S.js";import{r as l,j as e,z as I,R as Wi,a as Hi,q as Ji,t as S}from"./react-vendor-DBHNAGPW.js";import{c as k,D as s,i as L,b as f,a as j,s as _e,t as ls,d as Li}from"./index-C5wiI25D.js";import{X as ht,A as hs,v as Ue,C as ec,u as al,w as Ke,a0 as Xe,F as rs,o as pt,a6 as sc,ac as Vi,aH as Jt,D as Ns,R as vs,ae as ut,b as us,ag as jt,a5 as qt,ap as Qt,e as Vt,aI as fs,aJ as Xt,f as yt,aK as ac,z as sl,E as Ui,a2 as Zt,n as tc,H as lc,aA as el,P as Bi,aL as rc,m as nc,G as Pi,aM as Ii,Q as Fi,aN as _i,a1 as Ri,$ as Mi,c as Oi,a8 as ic,aq as cc}from"./ui-vendor-CIs_GH3f.js";import{e as dc,a as oc,b as mc,c as xc,d as uc}from"./excelExport-CyZjk0TN.js";import"./state-vendor-JOdu_MDH.js";import"./chart-vendor-R5Y1AjBI.js";import"./xlsx-DrgRuPKf.js";function Gi(t,N=500){const[i,c]=l.useState(t);return l.useEffect(()=>{const r=setTimeout(()=>{c(t)},N);return()=>{clearTimeout(r)}},[t,N]),i}function hc({open:t,onClose:N,onSaved:i,initial:c}){var _,v,E,C;const[r,$]=l.useState({checkNumber:"",drawer:"",bank:"",branch:"",accountNumber:"",amount:0,issueDate:"",dueDate:"",status:"pending",customerId:void 0,notes:""}),[h,F]=l.useState(!1);if(l.useEffect(()=>{c&&$({...r,...c})},[c]),!t)return null;const b=D=>{const{name:w,value:Z}=D.target;$(A=>({...A,[w]:w==="amount"?parseFloat(Z||"0"):Z}))},ee=async D=>{D.preventDefault();try{F(!0),c!=null&&c.id?await Ut.update(c.id,r):await Ut.create(r),i&&i(),N()}catch(w){console.error("Check save error",w),alert("Kaydetme sÄ±rasÄ±nda hata oluÅŸtu")}finally{F(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:k(j("lg","sm","elevated"),"w-full max-w-3xl max-h-[90vh] overflow-y-auto"),children:[e.jsx("h3",{className:`${(v=(_=s)==null?void 0:_.typography)==null?void 0:v.h3} ${(C=(E=s)==null?void 0:E.colors)==null?void 0:C.text.primary} mb-6`,children:c!=null&&c.id?"Ã‡ek DÃ¼zenle":"Yeni Ã‡ek"}),e.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("input",{name:"checkNumber",value:r.checkNumber,onChange:b,placeholder:"Ã‡ek No",className:L("md")}),e.jsx("input",{name:"drawer",value:r.drawer,onChange:b,placeholder:"DÃ¼zenleyen",className:L("md")}),e.jsx("input",{name:"bank",value:r.bank,onChange:b,placeholder:"Banka",className:L("md")}),e.jsx("input",{name:"amount",type:"number",value:r.amount,onChange:b,placeholder:"Tutar",className:L("md")}),e.jsx("input",{name:"dueDate",type:"date",value:r.dueDate,onChange:b,className:L("md")})]}),e.jsx("textarea",{name:"notes",value:r.notes,onChange:b,placeholder:"Notlar",rows:4,className:L("md")}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:N,className:f("md","outline","lg"),children:"Kapat"}),e.jsx("button",{type:"submit",disabled:h,className:k(f("md","primary","lg"),"disabled:opacity-50 disabled:cursor-not-allowed"),children:h?"Kaydediliyor...":"Kaydet"})]})]})]})})}function pc({open:t,onClose:N,onSaved:i,initial:c}){var _,v,E,C,D,w,Z,A,Te,Se,te,H,B,W,R,we,he,pe,ye,le,je,M,Q,V,ge,be,re,ne,ie,se,J,ce,U,K,ae,fe,O,X,de,oe,Ne,me,ve,xe,p,o,P,T,g,ue,Ce,G,y,q;const[r,$]=l.useState({noteNumber:"",type:"received",drawer:"",beneficiary:"",amount:0,issueDate:"",dueDate:"",issuePlace:"",paymentPlace:"",status:"pending",customerId:void 0,notes:""}),[h,F]=l.useState(!1);if(l.useEffect(()=>{c&&$({...r,...c})},[c]),!t)return null;const b=ke=>{const{name:Be,value:z}=ke.target;$(ze=>({...ze,[Be]:Be==="amount"?parseFloat(z||"0"):z}))},ee=async ke=>{ke.preventDefault();try{F(!0),c!=null&&c.id?await Kt.update(c.id,r):await Kt.create(r),i&&i(),N()}catch(Be){console.error("Promissory note save error",Be),alert("Kaydetme sÄ±rasÄ±nda hata oluÅŸtu")}finally{F(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:k(j("lg","none","default","xl"),"w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl"),children:[e.jsxs("div",{className:k("sticky top-0 bg-white border-b border-neutral-200",(v=(_=s)==null?void 0:_.spacing)==null?void 0:v.padding.md,"flex items-center justify-between"),children:[e.jsx("h3",{className:`${(C=(E=s)==null?void 0:E.typography)==null?void 0:C.h1} ${(w=(D=s)==null?void 0:D.colors)==null?void 0:w.text.primary}`,children:c!=null&&c.id?"Senet DÃ¼zenle":"Yeni Senet"}),e.jsx("button",{onClick:N,className:"p-2 hover:bg-neutral-100 rounded-lg transition-colors",children:e.jsx(ht,{className:`w-5 h-5 ${(A=(Z=s)==null?void 0:Z.colors)==null?void 0:A.text.secondary}`})})]}),e.jsxs("form",{onSubmit:ee,className:k((Se=(Te=s)==null?void 0:Te.spacing)==null?void 0:Se.padding.md,"space-y-6"),children:[e.jsxs("div",{children:[e.jsxs("label",{className:`block ${(H=(te=s)==null?void 0:te.typography)==null?void 0:H.body.sm} font-medium ${(W=(B=s)==null?void 0:B.colors)==null?void 0:W.text.secondary} mb-2`,children:["Senet Tipi ",e.jsx("span",{className:"text-neutral-900",children:"*"})]}),e.jsxs("select",{name:"type",value:r.type,onChange:b,required:!0,className:L("md","default",void 0,"md"),children:[e.jsx("option",{value:"received",children:"AlÄ±nan Senet"}),e.jsx("option",{value:"issued",children:"Verilen Senet"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:`block ${(we=(R=s)==null?void 0:R.typography)==null?void 0:we.body.sm} font-medium ${(pe=(he=s)==null?void 0:he.colors)==null?void 0:pe.text.secondary} mb-2`,children:["Senet No ",e.jsx("span",{className:"text-neutral-900",children:"*"})]}),e.jsx("input",{type:"text",name:"noteNumber",value:r.noteNumber,onChange:b,placeholder:"SN-2025-001",required:!0,className:L("md","default",void 0,"md")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:`block ${(le=(ye=s)==null?void 0:ye.typography)==null?void 0:le.body.sm} font-medium ${(M=(je=s)==null?void 0:je.colors)==null?void 0:M.text.secondary} mb-2`,children:["DÃ¼zenleyen ",e.jsx("span",{className:"text-neutral-900",children:"*"})]}),e.jsx("input",{type:"text",name:"drawer",value:r.drawer,onChange:b,placeholder:"DÃ¼zenleyen AdÄ±",required:!0,className:L("md","default",void 0,"md")})]}),e.jsxs("div",{children:[e.jsxs("label",{className:`block ${(V=(Q=s)==null?void 0:Q.typography)==null?void 0:V.body.sm} font-medium ${(be=(ge=s)==null?void 0:ge.colors)==null?void 0:be.text.secondary} mb-2`,children:["Lehtar ",e.jsx("span",{className:"text-neutral-900",children:"*"})]}),e.jsx("input",{type:"text",name:"beneficiary",value:r.beneficiary,onChange:b,placeholder:"Lehtar AdÄ±",required:!0,className:L("md","default",void 0,"md")})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:`block ${(ne=(re=s)==null?void 0:re.typography)==null?void 0:ne.body.sm} font-medium ${(se=(ie=s)==null?void 0:ie.colors)==null?void 0:se.text.secondary} mb-2`,children:["Tutar (TRY) ",e.jsx("span",{className:"text-neutral-900",children:"*"})]}),e.jsx("input",{type:"number",step:"0.01",name:"amount",value:r.amount,onChange:b,placeholder:"0.00",required:!0,min:"0",className:L("md","default",void 0,"md")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:`block ${(ce=(J=s)==null?void 0:J.typography)==null?void 0:ce.body.sm} font-medium ${(K=(U=s)==null?void 0:U.colors)==null?void 0:K.text.secondary} mb-2`,children:["DÃ¼zenleme Tarihi ",e.jsx("span",{className:"text-neutral-900",children:"*"})]}),e.jsx("input",{type:"date",name:"issueDate",value:r.issueDate,onChange:b,required:!0,className:L("md","default",void 0,"md")})]}),e.jsxs("div",{children:[e.jsxs("label",{className:`block ${(fe=(ae=s)==null?void 0:ae.typography)==null?void 0:fe.body.sm} font-medium ${(X=(O=s)==null?void 0:O.colors)==null?void 0:X.text.secondary} mb-2`,children:["Vade Tarihi ",e.jsx("span",{className:"text-neutral-900",children:"*"})]}),e.jsx("input",{type:"date",name:"dueDate",value:r.dueDate,onChange:b,required:!0,className:L("md","default",void 0,"md")})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block ${(oe=(de=s)==null?void 0:de.typography)==null?void 0:oe.body.sm} font-medium ${(me=(Ne=s)==null?void 0:Ne.colors)==null?void 0:me.text.secondary} mb-2`,children:"DÃ¼zenleme Yeri"}),e.jsx("input",{type:"text",name:"issuePlace",value:r.issuePlace,onChange:b,placeholder:"Ä°stanbul",className:L("md","default",void 0,"md")})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${(xe=(ve=s)==null?void 0:ve.typography)==null?void 0:xe.body.sm} font-medium ${(o=(p=s)==null?void 0:p.colors)==null?void 0:o.text.secondary} mb-2`,children:"Ã–deme Yeri"}),e.jsx("input",{type:"text",name:"paymentPlace",value:r.paymentPlace,onChange:b,placeholder:"Ä°stanbul",className:L("md","default",void 0,"md")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${(T=(P=s)==null?void 0:P.typography)==null?void 0:T.body.sm} font-medium ${(ue=(g=s)==null?void 0:g.colors)==null?void 0:ue.text.secondary} mb-2`,children:"Durum"}),e.jsxs("select",{name:"status",value:r.status,onChange:b,className:L("md","default",void 0,"md"),children:[e.jsx("option",{value:"pending",children:"Beklemede"}),e.jsx("option",{value:"paid",children:"Ã–dendi"}),e.jsx("option",{value:"cancelled",children:"Ä°ptal Edildi"}),e.jsx("option",{value:"returned",children:"Ä°ade Edildi"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${(G=(Ce=s)==null?void 0:Ce.typography)==null?void 0:G.body.sm} font-medium ${(q=(y=s)==null?void 0:y.colors)==null?void 0:q.text.secondary} mb-2`,children:"Notlar"}),e.jsx("textarea",{name:"notes",value:r.notes,onChange:b,placeholder:"Senet ile ilgili notlar...",rows:4,className:L("md","default",void 0,"md")})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-neutral-200",children:[e.jsx("button",{type:"button",onClick:N,disabled:h,className:k(f("md","outline","lg"),"disabled:opacity-50 disabled:cursor-not-allowed"),children:"Ä°ptal"}),e.jsx("button",{type:"submit",disabled:h,className:k(f("md","primary","lg"),"disabled:opacity-50 disabled:cursor-not-allowed"),children:h?"Kaydediliyor...":c!=null&&c.id?"GÃ¼ncelle":"Kaydet"})]})]})]})})}function yc({data:t,loading:N}){var D,w,Z,A,Te,Se,te,H,B,W,R,we,he,pe,ye,le,je,M,Q,V,ge,be,re,ne,ie,se,J,ce,U,K,ae,fe,O,X,de,oe,Ne,me,ve,xe,p,o,P,T;const[i,c]=l.useState("totalDebt"),[r,$]=l.useState("desc"),h=g=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(g),F=(g,ue)=>ue===0?"0%":`${(g/ue*100).toFixed(1)}%`,b=g=>{i===g?$(r==="asc"?"desc":"asc"):(c(g),$("desc"))},ee=()=>t!=null&&t.customers?[...t.customers].sort((ue,Ce)=>{const G=ue[i],y=Ce[i];return typeof G=="string"&&typeof y=="string"?r==="asc"?G.localeCompare(y,"tr"):y.localeCompare(G,"tr"):r==="asc"?G-y:y-G}):[],_=g=>"bg-neutral-100 text-neutral-800",v=()=>{I.success("Excel dÄ±ÅŸa aktarma Ã¶zelliÄŸi yakÄ±nda eklenecek")},E=()=>{I.success("PDF dÄ±ÅŸa aktarma Ã¶zelliÄŸi yakÄ±nda eklenecek")};if(N)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-neutral-200"})});if(!t||!t.customers||t.customers.length===0)return e.jsxs("div",{className:j("md","xl","default","lg"),children:[e.jsx(hs,{className:"w-12 h-12 text-neutral-400 mx-auto mb-4"}),e.jsx("p",{className:`${(w=(D=s)==null?void 0:D.typography)==null?void 0:w.body.lg} ${(A=(Z=s)==null?void 0:Z.colors)==null?void 0:A.text.primary} mb-2`,children:"YaÅŸlandÄ±rma Verisi BulunamadÄ±"}),e.jsx("p",{className:`${(Se=(Te=s)==null?void 0:Te.typography)==null?void 0:Se.body.sm} ${(H=(te=s)==null?void 0:te.colors)==null?void 0:H.text.tertiary}`,children:"MÃ¼ÅŸterilerinizin borÃ§ durumunu gÃ¶rmek iÃ§in fatura ve tahsilat iÅŸlemlerini kaydedin."})]});const C=ee();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-5 text-white bg-neutral-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(Ue,{className:"w-8 h-8 opacity-80"}),e.jsx("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:"Toplam"})]}),e.jsx("p",{className:`${(W=(B=s)==null?void 0:B.typography)==null?void 0:W.stat.md} mb-1`,children:h(t.summary.totalDebt)}),e.jsxs("p",{className:`${(we=(R=s)==null?void 0:R.typography)==null?void 0:we.body.sm} opacity-90`,children:[t.summary.customerCount," MÃ¼ÅŸteri"]})]}),e.jsxs("div",{className:k(j("md","md","subtle","md"),"border-2 border-neutral-200"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(ec,{className:"w-8 h-8 text-neutral-900"}),e.jsx("span",{className:"text-xs bg-neutral-100 text-neutral-800 px-2 py-1 rounded-full",children:"0-30 GÃ¼n"})]}),e.jsx("p",{className:`${(pe=(he=s)==null?void 0:he.typography)==null?void 0:pe.stat.md} ${(le=(ye=s)==null?void 0:ye.colors)==null?void 0:le.text.primary} mb-1`,children:h(t.summary.totalCurrent)}),e.jsx("p",{className:`${(M=(je=s)==null?void 0:je.typography)==null?void 0:M.body.sm} ${(V=(Q=s)==null?void 0:Q.colors)==null?void 0:V.text.secondary}`,children:F(t.summary.totalCurrent,t.summary.totalDebt)})]}),e.jsxs("div",{className:k(j("md","md","subtle","md"),"border-2 border-neutral-300"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(al,{className:"w-8 h-8 text-neutral-800"}),e.jsx("span",{className:"text-xs bg-neutral-200 text-neutral-800 px-2 py-1 rounded-full",children:"31-60 GÃ¼n"})]}),e.jsx("p",{className:`${(be=(ge=s)==null?void 0:ge.typography)==null?void 0:be.stat.md} ${(ne=(re=s)==null?void 0:re.colors)==null?void 0:ne.text.primary} mb-1`,children:h(t.summary.totalDays30)}),e.jsx("p",{className:`${(se=(ie=s)==null?void 0:ie.typography)==null?void 0:se.body.sm} ${(ce=(J=s)==null?void 0:J.colors)==null?void 0:ce.text.secondary}`,children:F(t.summary.totalDays30,t.summary.totalDebt)})]}),e.jsxs("div",{className:k(j("md","md","subtle","md"),"border-2 border-neutral-400"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(hs,{className:"w-8 h-8 text-neutral-700"}),e.jsx("span",{className:"text-xs bg-neutral-300 text-neutral-800 px-2 py-1 rounded-full",children:"61-90 GÃ¼n"})]}),e.jsx("p",{className:`${(K=(U=s)==null?void 0:U.typography)==null?void 0:K.stat.md} ${(fe=(ae=s)==null?void 0:ae.colors)==null?void 0:fe.text.primary} mb-1`,children:h(t.summary.totalDays60)}),e.jsx("p",{className:`${(X=(O=s)==null?void 0:O.typography)==null?void 0:X.body.sm} ${(oe=(de=s)==null?void 0:de.colors)==null?void 0:oe.text.secondary}`,children:F(t.summary.totalDays60,t.summary.totalDebt)})]}),e.jsxs("div",{className:k(j("md","md","subtle","md"),"border-2 border-neutral-500"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(Ke,{className:"w-8 h-8 text-neutral-600"}),e.jsx("span",{className:"text-xs bg-neutral-300 text-neutral-800 px-2 py-1 rounded-full",children:"90+ GÃ¼n"})]}),e.jsx("p",{className:`${(me=(Ne=s)==null?void 0:Ne.typography)==null?void 0:me.stat.md} ${(xe=(ve=s)==null?void 0:ve.colors)==null?void 0:xe.text.primary} mb-1`,children:h(t.summary.totalDays90Plus)}),e.jsx("p",{className:`${(o=(p=s)==null?void 0:p.typography)==null?void 0:o.body.sm} ${(T=(P=s)==null?void 0:P.colors)==null?void 0:T.text.secondary}`,children:F(t.summary.totalDays90Plus,t.summary.totalDebt)})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsxs("button",{onClick:v,className:k(f("md","primary","md"),"gap-2 bg-neutral-900 hover:bg-neutral-800"),children:[e.jsx(Xe,{className:"w-4 h-4"}),"Excel Ä°ndir"]}),e.jsxs("button",{onClick:E,className:k(f("md","primary","md"),"gap-2 bg-neutral-900 hover:bg-neutral-800"),children:[e.jsx(rs,{className:"w-4 h-4"}),"PDF Ä°ndir"]})]}),e.jsx("div",{className:k(j("md","none","default","lg"),"overflow-hidden"),children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsxs("th",{onClick:()=>b("customerName"),className:"px-6 py-3 text-left text-xs font-medium text-neutral-700 uppercase cursor-pointer hover:bg-neutral-100",children:["MÃ¼ÅŸteri",i==="customerName"&&e.jsx("span",{className:"ml-1",children:r==="asc"?"â†‘":"â†“"})]}),e.jsxs("th",{onClick:()=>b("totalDebt"),className:"px-6 py-3 text-right text-xs font-medium text-neutral-700 uppercase cursor-pointer hover:bg-neutral-100",children:["Toplam BorÃ§",i==="totalDebt"&&e.jsx("span",{className:"ml-1",children:r==="asc"?"â†‘":"â†“"})]}),e.jsxs("th",{onClick:()=>b("current"),className:"px-6 py-3 text-right text-xs font-medium text-neutral-700 uppercase cursor-pointer hover:bg-neutral-50",children:["0-30 GÃ¼n",i==="current"&&e.jsx("span",{className:"ml-1",children:r==="asc"?"â†‘":"â†“"})]}),e.jsxs("th",{onClick:()=>b("days30"),className:"px-6 py-3 text-right text-xs font-medium text-neutral-700 uppercase cursor-pointer hover:bg-neutral-50",children:["31-60 GÃ¼n",i==="days30"&&e.jsx("span",{className:"ml-1",children:r==="asc"?"â†‘":"â†“"})]}),e.jsxs("th",{onClick:()=>b("days60"),className:"px-6 py-3 text-right text-xs font-medium text-neutral-700 uppercase cursor-pointer hover:bg-neutral-50",children:["61-90 GÃ¼n",i==="days60"&&e.jsx("span",{className:"ml-1",children:r==="asc"?"â†‘":"â†“"})]}),e.jsxs("th",{onClick:()=>b("days90Plus"),className:"px-6 py-3 text-right text-xs font-medium text-neutral-700 uppercase cursor-pointer hover:bg-neutral-50",children:["90+ GÃ¼n",i==="days90Plus"&&e.jsx("span",{className:"ml-1",children:r==="asc"?"â†‘":"â†“"})]})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:C.map(g=>{var ue,Ce,G,y;return g.days90Plus>0||g.days60>0||g.days30>0,e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${(Ce=(ue=s)==null?void 0:ue.colors)==null?void 0:Ce.text.primary}`,children:g.customerName}),g.overdueAmount>0&&e.jsxs("p",{className:"text-xs text-neutral-900 flex items-center gap-1",children:[e.jsx(hs,{className:"w-3 h-3"}),h(g.overdueAmount)," vadesi geÃ§miÅŸ"]})]})})}),e.jsxs("td",{className:"px-6 py-4 text-right",children:[e.jsx("p",{className:`font-bold ${(y=(G=s)==null?void 0:G.colors)==null?void 0:y.text.primary}`,children:h(g.totalDebt)}),e.jsx("p",{className:"text-xs text-neutral-500",children:g.currency})]}),e.jsxs("td",{className:"px-6 py-4 text-right",children:[e.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-medium ${_()}`,children:h(g.current)}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:F(g.current,g.totalDebt)})]}),e.jsxs("td",{className:"px-6 py-4 text-right",children:[e.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-medium ${_()}`,children:h(g.days30)}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:F(g.days30,g.totalDebt)})]}),e.jsxs("td",{className:"px-6 py-4 text-right",children:[e.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-medium ${_()}`,children:h(g.days60)}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:F(g.days60,g.totalDebt)})]}),e.jsxs("td",{className:"px-6 py-4 text-right",children:[e.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-medium ${_()}`,children:h(g.days90Plus)}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:F(g.days90Plus,g.totalDebt)})]})]},g.customerId)})})]})})})]})}function jc({open:t,onClose:N,onSaved:i,initialData:c}){var B,W,R,we,he,pe,ye,le,je,M,Q,V,ge,be,re,ne,ie,se,J,ce,U,K,ae,fe,O,X,de,oe,Ne,me,ve,xe;const[r,$]=l.useState({code:"",name:"",type:"ASSET",parentId:null,isActive:!0,description:""}),[h,F]=l.useState([]),[b,ee]=l.useState(!1),[_,v]=l.useState(!1),[E,C]=l.useState(""),[D,w]=l.useState(!1);l.useEffect(()=>{t&&(Z(),$(c?{code:c.code,name:c.name,type:c.type,parentId:c.parentId,isActive:c.isActive!==void 0?c.isActive:!0,description:c.description||""}:{code:"",name:"",type:"ASSET",parentId:null,isActive:!0,description:""}))},[t,c]);const Z=async()=>{try{ee(!0);const p=await fetch("/api/accounting/chart-of-accounts",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!p.ok)throw new Error("Failed to load accounts");const o=await p.json(),P=c?(o.data||o).filter(T=>T.id!==c.id):o.data||o;F(P)}catch(p){console.error("Failed to load accounts:",p),I.error("Hesaplar yÃ¼klenemedi")}finally{ee(!1)}},A=async p=>{if(p.preventDefault(),!r.code.trim()){I.error("Hesap kodu gereklidir");return}if(!r.name.trim()){I.error("Hesap adÄ± gereklidir");return}if(!/^\d{3}(\.\d{2}(\.\d{2})?)?$/.test(r.code)){I.error("Hesap kodu formatÄ±: 100 veya 100.01 veya 100.01.01");return}try{v(!0);const o=c?`/api/accounting/chart-of-accounts/${c.id}`:"/api/accounting/chart-of-accounts",T=await fetch(o,{method:c?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(r)});if(!T.ok){const g=await T.json();throw new Error(g.message||"Failed to save account")}I.success(c?"Hesap gÃ¼ncellendi":"Hesap oluÅŸturuldu"),i(),N()}catch(o){I.error(o.message||"Kaydetme baÅŸarÄ±sÄ±z")}finally{v(!1)}},Te=p=>{$({...r,parentId:p.id}),w(!1),C("")},Se=()=>{if(!r.parentId)return"Ana Hesap (Ãœst hesap yok)";const p=h.find(o=>o.id===r.parentId);return p?`${p.code} - ${p.name}`:"SeÃ§ilmedi"},te=()=>{const p=E.toLowerCase();return p?h.filter(o=>o.code.toLowerCase().includes(p)||o.name.toLowerCase().includes(p)):h.slice(0,10)},H=p=>({ASSET:"VarlÄ±k (Aktif)",LIABILITY:"BorÃ§ (Pasif)",EQUITY:"Ã–zkaynak (Sermaye)",REVENUE:"Gelir",EXPENSE:"Gider"})[p]||p;return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"border-b border-neutral-200 p-6 sticky top-0 bg-white z-10",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`${(W=(B=s)==null?void 0:B.typography)==null?void 0:W.heading.h3} ${(we=(R=s)==null?void 0:R.colors)==null?void 0:we.text.primary}`,children:c?"Hesap DÃ¼zenle":"Yeni Hesap Ekle"}),e.jsx("p",{className:`${(pe=(he=s)==null?void 0:he.typography)==null?void 0:pe.body.sm} ${(le=(ye=s)==null?void 0:ye.colors)==null?void 0:le.text.secondary} mt-1`,children:"Muhasebe hesap planÄ±na hesap ekleyin veya dÃ¼zenleyin"})]}),e.jsx("button",{onClick:N,className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(ht,{className:"w-6 h-6"})})]})}),e.jsxs("form",{onSubmit:A,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:`block ${(M=(je=s)==null?void 0:je.typography)==null?void 0:M.label.md} ${(V=(Q=s)==null?void 0:Q.colors)==null?void 0:V.text.primary} mb-2`,children:["Hesap Kodu ",e.jsx("span",{className:"text-neutral-900",children:"*"})]}),e.jsx("input",{type:"text",value:r.code,onChange:p=>$({...r,code:p.target.value}),placeholder:"Ã–rn: 100 veya 100.01 veya 100.01.01",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-neutral-500 focus:border-neutral-500 font-mono",required:!0}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"Format: 3 basamak (100) veya 100.01 veya 100.01.01"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:`block ${(be=(ge=s)==null?void 0:ge.typography)==null?void 0:be.label.md} ${(ne=(re=s)==null?void 0:re.colors)==null?void 0:ne.text.primary} mb-2`,children:["Hesap Tipi ",e.jsx("span",{className:"text-neutral-900",children:"*"})]}),e.jsxs("select",{value:r.type,onChange:p=>$({...r,type:p.target.value}),className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-neutral-500 focus:border-neutral-500",required:!0,children:[e.jsx("option",{value:"ASSET",children:H("ASSET")}),e.jsx("option",{value:"LIABILITY",children:H("LIABILITY")}),e.jsx("option",{value:"EQUITY",children:H("EQUITY")}),e.jsx("option",{value:"REVENUE",children:H("REVENUE")}),e.jsx("option",{value:"EXPENSE",children:H("EXPENSE")})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:`block ${(se=(ie=s)==null?void 0:ie.typography)==null?void 0:se.label.md} ${(ce=(J=s)==null?void 0:J.colors)==null?void 0:ce.text.primary} mb-2`,children:["Hesap AdÄ± ",e.jsx("span",{className:"text-neutral-900",children:"*"})]}),e.jsx("input",{type:"text",value:r.name,onChange:p=>$({...r,name:p.target.value}),placeholder:"Ã–rn: Kasa, Banka, MÃ¼ÅŸteriler",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-neutral-500 focus:border-neutral-500",required:!0})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:`block ${(K=(U=s)==null?void 0:U.typography)==null?void 0:K.label.md} ${(fe=(ae=s)==null?void 0:ae.colors)==null?void 0:fe.text.primary} mb-2`,children:"Ãœst Hesap (Parent Account)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:r.parentId?Se():E,onChange:p=>{C(p.target.value),r.parentId&&$({...r,parentId:null}),w(!0)},onFocus:()=>w(!0),placeholder:"Ãœst hesap ara veya boÅŸ bÄ±rak (ana hesap)",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-neutral-500 focus:border-neutral-500 pr-8"}),e.jsx(pt,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-neutral-400 w-4 h-4"})]}),r.parentId&&e.jsx("button",{type:"button",onClick:()=>$({...r,parentId:null}),className:"text-sm text-neutral-900 hover:text-neutral-700 mt-1",children:"Ãœst hesabÄ± kaldÄ±r (ana hesap yap)"}),D&&!r.parentId&&e.jsxs("div",{className:"absolute z-20 w-full mt-1 bg-white border border-neutral-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[e.jsxs("button",{type:"button",onClick:()=>{$({...r,parentId:null}),w(!1)},className:"w-full px-4 py-2 text-left hover:bg-neutral-100 transition-colors border-b",children:[e.jsx("div",{className:"font-medium text-neutral-700",children:"Ana Hesap (Ãœst hesap yok)"}),e.jsx("div",{className:"text-sm text-neutral-500",children:"En Ã¼st seviyede hesap oluÅŸtur"})]}),b?e.jsx("div",{className:"p-4 text-center text-neutral-500",children:"YÃ¼kleniyor..."}):te().length===0?e.jsx("div",{className:"p-4 text-center text-neutral-500",children:"Hesap bulunamadÄ±"}):te().map(p=>e.jsxs("button",{type:"button",onClick:()=>Te(p),className:"w-full px-4 py-2 text-left hover:bg-neutral-100 transition-colors",children:[e.jsx("div",{className:"font-mono text-sm text-neutral-700",children:p.code}),e.jsx("div",{className:"text-sm text-neutral-600",children:p.name})]},p.id))]}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"Alt hesap oluÅŸturmak iÃ§in bir Ã¼st hesap seÃ§in. BoÅŸ bÄ±rakÄ±rsanÄ±z ana hesap olur."})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${(X=(O=s)==null?void 0:O.typography)==null?void 0:X.label.md} ${(oe=(de=s)==null?void 0:de.colors)==null?void 0:oe.text.primary} mb-2`,children:"AÃ§Ä±klama"}),e.jsx("textarea",{value:r.description,onChange:p=>$({...r,description:p.target.value}),placeholder:"Hesap hakkÄ±nda ek bilgi...",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-neutral-500 focus:border-neutral-500",rows:3})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-neutral-50 rounded-lg",children:[e.jsx("input",{type:"checkbox",id:"isActive",checked:r.isActive,onChange:p=>$({...r,isActive:p.target.checked}),className:"w-5 h-5 text-neutral-900 rounded focus:ring-2 focus:ring-neutral-500"}),e.jsx("label",{htmlFor:"isActive",className:`${(me=(Ne=s)==null?void 0:Ne.typography)==null?void 0:me.body.md} ${(xe=(ve=s)==null?void 0:ve.colors)==null?void 0:xe.text.primary} cursor-pointer`,children:"Hesap Aktif"}),e.jsx("span",{className:"text-sm text-neutral-500",children:"(Pasif hesaplar yeni iÅŸlemlerde kullanÄ±lamaz)"})]}),e.jsxs("div",{className:"bg-neutral-50 border border-neutral-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-neutral-900 mb-2",children:"ðŸ’¡ Hesap PlanÄ± HiyerarÅŸisi"}),e.jsxs("ul",{className:"text-sm text-neutral-800 space-y-1",children:[e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"1xx:"})," VarlÄ±k HesaplarÄ± (DÃ¶nen/Duran VarlÄ±klar)"]}),e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"2xx:"})," BorÃ§ HesaplarÄ± (KÄ±sa/Uzun Vadeli YÃ¼kÃ¼mlÃ¼lÃ¼kler)"]}),e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"3xx:"})," Ã–zkaynak HesaplarÄ± (Sermaye, Yedekler)"]}),e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"6xx:"})," Gelir HesaplarÄ± (SatÄ±ÅŸ, Faiz Gelirleri)"]}),e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"7xx:"})," Gider HesaplarÄ± (Maliyet, Ä°ÅŸletme Giderleri)"]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-neutral-200",children:[e.jsx("button",{type:"button",onClick:N,className:f("secondary","md","md"),disabled:_,children:"Ä°ptal"}),e.jsx("button",{type:"submit",className:f("primary","md","md"),disabled:_,children:_?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Kaydediliyor..."]}):e.jsxs(e.Fragment,{children:[e.jsx(sc,{className:"w-4 h-4"}),c?"GÃ¼ncelle":"Kaydet"]})})]})]})]})}):null}function gc(){var we,he,pe,ye,le,je,M,Q,V,ge,be,re,ne,ie,se,J,ce,U,K,ae,fe,O,X,de,oe,Ne,me,ve,xe,p,o,P,T,g,ue,Ce,G,y,q,ke,Be,z,ze,He,ns,is;const[t,N]=l.useState([]),[i,c]=l.useState(!1),[r,$]=l.useState(""),[h,F]=l.useState("ALL"),[b,ee]=l.useState(new Set),[_,v]=l.useState(!1),[E,C]=l.useState(null);l.useEffect(()=>{D()},[h]);const D=async()=>{try{c(!0);const u=new URLSearchParams;h!=="ALL"&&u.append("type",h);const Y=await fetch(`/api/accounting/chart-of-accounts?${u}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!Y.ok)throw new Error("Failed to load accounts");const Ee=await Y.json();N(w(Ee.data||Ee))}catch(u){console.error("Failed to load accounts:",u),I.error("Hesap planÄ± yÃ¼klenemedi: "+(u.message||"Bilinmeyen hata"))}finally{c(!1)}},w=u=>{const Y=new Map,Ee=[];u.forEach($e=>{Y.set($e.id,{...$e,children:[]})}),u.forEach($e=>{const Pe=Y.get($e.id);if($e.parentId){const Me=Y.get($e.parentId);Me?Me.children.push(Pe):Ee.push(Pe)}else Ee.push(Pe)});const Re=($e,Pe)=>$e.code.localeCompare(Pe.code);return Ee.sort(Re),Ee.forEach($e=>{$e.children&&$e.children.sort(Re)}),Ee},Z=u=>{const Y=new Set(b);Y.has(u)?Y.delete(u):Y.add(u),ee(Y)},A=async u=>{if(confirm("Bu hesabÄ± silmek istediÄŸinize emin misiniz?"))try{if(!(await fetch(`/api/accounting/chart-of-accounts/${u}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Failed to delete account");I.success("Hesap silindi"),D()}catch(Y){I.error("Hesap silinemedi: "+(Y.message||"Bilinmeyen hata"))}},Te=u=>({ASSET:"VarlÄ±k",LIABILITY:"BorÃ§",EQUITY:"Ã–zkaynak",REVENUE:"Gelir",EXPENSE:"Gider"})[u]||u,Se=u=>{const Ee={ASSET:{color:"bg-neutral-100 text-neutral-800"},LIABILITY:{color:"bg-neutral-100 text-neutral-800"},EQUITY:{color:"bg-neutral-100 text-neutral-800"},REVENUE:{color:"bg-neutral-100 text-neutral-800"},EXPENSE:{color:"bg-neutral-100 text-neutral-800"}}[u]||{color:"bg-neutral-100 text-neutral-700"};return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ee.color}`,children:Te(u)})},te=u=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(u),H=(u,Y=0)=>{var Pe,Me,cs,Je,es,Ze,ds,ss,Le,We;const Ee=u.children&&u.children.length>0,Re=b.has(u.id);return!(u.code.toLowerCase().includes(r.toLowerCase())||u.name.toLowerCase().includes(r.toLowerCase()))&&r?null:e.jsxs(Wi.Fragment,{children:[e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",style:{paddingLeft:`${Y*24}px`},children:[Ee?e.jsx("button",{onClick:()=>Z(u.id),className:"mr-2 text-neutral-400 hover:text-neutral-600",children:Re?e.jsx(ut,{className:"w-4 h-4"}):e.jsx(us,{className:"w-4 h-4"})}):e.jsx("span",{className:"mr-2 w-4"}),e.jsx(Jt,{className:"w-4 h-4 text-neutral-400 mr-2"}),e.jsx("span",{className:`${(Me=(Pe=s)==null?void 0:Pe.typography)==null?void 0:Me.body.sm} font-mono font-medium ${(Je=(cs=s)==null?void 0:cs.colors)==null?void 0:Je.text.primary}`,children:u.code})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:`${(Ze=(es=s)==null?void 0:es.typography)==null?void 0:Ze.body.sm} ${(ss=(ds=s)==null?void 0:ds.colors)==null?void 0:ss.text.primary} font-medium`,children:u.name}),!u.isActive&&e.jsx("span",{className:"text-xs text-neutral-400",children:"(Pasif)"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:Se(u.type)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("span",{className:`${(We=(Le=s)==null?void 0:Le.typography)==null?void 0:We.body.sm} font-medium text-neutral-900`,children:te(u.balance)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>I.success("Detay gÃ¶rÃ¼ntÃ¼leme Ã¶zelliÄŸi yakÄ±nda eklenecek"),className:"p-2 text-neutral-900 hover:bg-neutral-50 rounded-lg transition-colors",title:"DetaylarÄ± GÃ¶rÃ¼ntÃ¼le",children:e.jsx(jt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{C(u),v(!0)},className:"p-2 text-neutral-900 hover:bg-neutral-50 rounded-lg transition-colors",title:"DÃ¼zenle",children:e.jsx(qt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>A(u.id),className:"p-2 text-neutral-800 hover:bg-neutral-50 rounded-lg transition-colors",title:"Sil",children:e.jsx(Qt,{className:"w-4 h-4"})})]})})]}),Ee&&Re&&u.children.map(Ie=>H(Ie,Y+1))]},u.id)},W=(u=>{const Y=[],Ee=Re=>{Re.forEach($e=>{Y.push($e),$e.children&&$e.children.length>0&&Ee($e.children)})};return Ee(u),Y})(t),R=W.reduce((u,Y)=>u+Y.balance,0);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:`${(he=(we=s)==null?void 0:we.typography)==null?void 0:he.heading.h2} ${(ye=(pe=s)==null?void 0:pe.colors)==null?void 0:ye.text.primary}`,children:"Hesap PlanÄ± YÃ¶netimi"}),e.jsx("p",{className:`${(je=(le=s)==null?void 0:le.typography)==null?void 0:je.body.sm} ${(Q=(M=s)==null?void 0:M.colors)==null?void 0:Q.text.secondary} mt-1`,children:"Muhasebe hesaplarÄ±nÄ± gÃ¶rÃ¼ntÃ¼leyin ve yÃ¶netin"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{className:f("secondary","md","md"),onClick:()=>{try{dc(W),I.success("Hesap planÄ± Excel olarak indirildi")}catch{I.error("Excel export baÅŸarÄ±sÄ±z oldu")}},children:[e.jsx(Xe,{className:"w-4 h-4"}),"Excel Ä°ndir"]}),e.jsxs("button",{className:f("primary","md","md"),onClick:()=>{C(null),v(!0)},children:[e.jsx(Vi,{className:"w-4 h-4"}),"Yeni Hesap"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:j("md","md","default","lg"),children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(Jt,{className:"w-8 h-8 text-neutral-900"})}),e.jsx("p",{className:`${(ge=(V=s)==null?void 0:V.typography)==null?void 0:ge.stat.md} ${(re=(be=s)==null?void 0:be.colors)==null?void 0:re.text.primary}`,children:W.length}),e.jsx("p",{className:`${(ie=(ne=s)==null?void 0:ne.typography)==null?void 0:ie.body.sm} ${(J=(se=s)==null?void 0:se.colors)==null?void 0:J.text.secondary}`,children:"Toplam Hesap"})]}),e.jsxs("div",{className:j("md","md","default","lg"),children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(Ue,{className:"w-8 h-8 text-neutral-900"})}),e.jsx("p",{className:`${(U=(ce=s)==null?void 0:ce.typography)==null?void 0:U.stat.md} ${(ae=(K=s)==null?void 0:K.colors)==null?void 0:ae.text.primary}`,children:W.filter(u=>u.balance>0).length}),e.jsx("p",{className:`${(O=(fe=s)==null?void 0:fe.typography)==null?void 0:O.body.sm} ${(de=(X=s)==null?void 0:X.colors)==null?void 0:de.text.secondary}`,children:"Pozitif Bakiye"})]}),e.jsxs("div",{className:j("md","md","default","lg"),children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(Ke,{className:"w-8 h-8 text-neutral-800"})}),e.jsx("p",{className:`${(Ne=(oe=s)==null?void 0:oe.typography)==null?void 0:Ne.stat.md} ${(ve=(me=s)==null?void 0:me.colors)==null?void 0:ve.text.primary}`,children:W.filter(u=>u.balance<0).length}),e.jsx("p",{className:`${(p=(xe=s)==null?void 0:xe.typography)==null?void 0:p.body.sm} ${(P=(o=s)==null?void 0:o.colors)==null?void 0:P.text.secondary}`,children:"Negatif Bakiye"})]}),e.jsxs("div",{className:j("md","md","default","lg"),children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(Ns,{className:"w-8 h-8 text-neutral-900"})}),e.jsx("p",{className:`${(g=(T=s)==null?void 0:T.typography)==null?void 0:g.stat.md} text-neutral-900`,children:te(R)}),e.jsx("p",{className:`${(Ce=(ue=s)==null?void 0:ue.typography)==null?void 0:Ce.body.sm} ${(y=(G=s)==null?void 0:G.colors)==null?void 0:y.text.secondary}`,children:"Net Bakiye"})]})]}),e.jsxs("div",{className:j("md","md","default","lg"),children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative md:col-span-2",children:[e.jsx(pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-neutral-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Hesap kodu veya adÄ± ara...",value:r,onChange:u=>$(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-neutral-500 focus:border-neutral-500"})]}),e.jsxs("select",{value:h,onChange:u=>F(u.target.value),className:"px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-neutral-500 focus:border-neutral-500",children:[e.jsx("option",{value:"ALL",children:"TÃ¼m Hesap Tipleri"}),e.jsx("option",{value:"ASSET",children:"VarlÄ±k"}),e.jsx("option",{value:"LIABILITY",children:"BorÃ§"}),e.jsx("option",{value:"EQUITY",children:"Ã–zkaynak"}),e.jsx("option",{value:"REVENUE",children:"Gelir"}),e.jsx("option",{value:"EXPENSE",children:"Gider"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[e.jsxs("button",{onClick:D,className:f("secondary","sm","md"),children:[e.jsx(vs,{className:"w-4 h-4"}),"Yenile"]}),e.jsx("button",{onClick:()=>{const u=new Set(W.map(Y=>Y.id));ee(u)},className:f("secondary","sm","md"),children:"TÃ¼mÃ¼nÃ¼ AÃ§"}),e.jsx("button",{onClick:()=>ee(new Set),className:f("secondary","sm","md"),children:"TÃ¼mÃ¼nÃ¼ Kapat"}),e.jsxs("button",{onClick:()=>I.success("Excel export Ã¶zelliÄŸi yakÄ±nda eklenecek"),className:f("secondary","sm","md"),children:[e.jsx(Xe,{className:"w-4 h-4"}),"Excel Ä°ndir"]})]})]}),e.jsx("div",{className:j("none","none","default","lg"),children:i?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-neutral-600"})}):t.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center p-6",children:[e.jsx(Jt,{className:"w-16 h-16 text-neutral-300 mb-4"}),e.jsx("p",{className:`${(ke=(q=s)==null?void 0:q.typography)==null?void 0:ke.body.lg} ${(z=(Be=s)==null?void 0:Be.colors)==null?void 0:z.text.primary} mb-2`,children:"Hesap BulunamadÄ±"}),e.jsx("p",{className:`${(He=(ze=s)==null?void 0:ze.typography)==null?void 0:He.body.sm} ${(is=(ns=s)==null?void 0:ns.colors)==null?void 0:is.text.tertiary}`,children:"HenÃ¼z hesap eklenmemiÅŸ"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b-2 border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Hesap Kodu"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Hesap AdÄ±"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Tip"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Bakiye"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Ä°ÅŸlemler"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(u=>H(u,0))})]})})}),e.jsx(jc,{open:_,onClose:()=>{v(!1),C(null)},onSaved:()=>{D(),v(!1),C(null)},initialData:E})]})}function bc(){var je,M,Q,V,ge,be,re,ne,ie,se,J,ce,U,K,ae,fe,O,X,de,oe,Ne,me,ve,xe,p,o,P,T,g,ue,Ce,G,y,q,ke,Be,z,ze,He,ns,is,u,Y,Ee,Re,$e,Pe,Me,cs,Je,es,Ze,ds,ss,Le,We,Ie,os,qe,ws,gt,ms,ks,as,$s,ps,bt,ft,Nt,vt,wt,kt,$t,St,Ct,Tt,Et,Dt,At,zt,Lt,Bt,Pt,It,Ft,ys,js,_t,Rt,Mt,Oe,ts,Ot,Gt,Ss,Cs,Ts,Es,Ds,As,zs,Ls,Bs,Ps,Is,Fs,_s,Rs,Ms,Os,Gs,Ys;const t=Hi(),[N,i]=l.useState([]),[c,r]=l.useState(!1),[$,h]=l.useState(""),[F,b]=l.useState("ALL"),[ee,_]=l.useState("ALL"),[v,E]=l.useState(null),[C,D]=l.useState(!1),[w,Z]=l.useState(!1);l.useEffect(()=>{A()},[F,ee]);const A=async()=>{try{r(!0);const d=new URLSearchParams;F!=="ALL"&&d.append("type",F),ee!=="ALL"&&d.append("balanceType",ee);const De=await fetch(`/api/accounting/current-accounts?${d}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!De.ok)throw new Error("Failed to load current accounts");const Ve=await De.json();i(Ve.data||Ve)}catch(d){console.error("Failed to load current accounts:",d),I.error("Cari hesaplar yÃ¼klenemedi: "+(d.message||"Bilinmeyen hata"))}finally{r(!1)}},Te=d=>{t(`/accounting/current-account/${d.id}`)},Se=async d=>{if(confirm("Bu cari hesabÄ± silmek istediÄŸinize emin misiniz?"))try{if(!(await fetch(`/api/accounting/current-accounts/${d}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Failed to delete account");I.success("Cari hesap silindi"),A()}catch(De){I.error("Cari hesap silinemedi: "+(De.message||"Bilinmeyen hata"))}},te=d=>{const De=d==="CUSTOMER"?{label:"MÃ¼ÅŸteri",color:"bg-neutral-50 text-neutral-800"}:{label:"TedarikÃ§i",color:"bg-neutral-50 text-neutral-800"};return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${De.color}`,children:De.label})},H=d=>d>0?"text-neutral-900":d<0?"text-neutral-800":"text-neutral-600",B=d=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(d),W=d=>new Date(d).toLocaleDateString("tr-TR",{year:"numeric",month:"short",day:"numeric"}),R=N.filter(d=>{var Ve;return d.name.toLowerCase().includes($.toLowerCase())||d.code.toLowerCase().includes($.toLowerCase())||((Ve=d.taxNumber)==null?void 0:Ve.includes($))}),we=R.reduce((d,De)=>d+De.totalDebit,0),he=R.reduce((d,De)=>d+De.totalCredit,0),pe=R.reduce((d,De)=>d+De.balance,0),ye=R.filter(d=>d.type==="CUSTOMER").length,le=R.filter(d=>d.type==="SUPPLIER").length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:`${(M=(je=s)==null?void 0:je.typography)==null?void 0:M.heading.h2} ${(V=(Q=s)==null?void 0:Q.colors)==null?void 0:V.text.primary}`,children:"Cari Hesap YÃ¶netimi"}),e.jsx("p",{className:`${(be=(ge=s)==null?void 0:ge.typography)==null?void 0:be.body.sm} ${(ne=(re=s)==null?void 0:re.colors)==null?void 0:ne.text.secondary} mt-1`,children:"MÃ¼ÅŸteri ve tedarikÃ§i cari hesaplarÄ±nÄ± yÃ¶netin"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{className:f("secondary","md","md"),onClick:()=>{try{oc(N),I.success("Cari hesaplar Excel olarak indirildi")}catch{I.error("Excel export baÅŸarÄ±sÄ±z oldu")}},children:[e.jsx(Xe,{className:"w-4 h-4"}),"Excel Ä°ndir"]}),e.jsxs("button",{className:f("primary","md","md"),onClick:()=>I.success("Yeni cari hesap ekleme Ã¶zelliÄŸi yakÄ±nda eklenecek"),children:[e.jsx(Vi,{className:"w-4 h-4"}),"Yeni Cari Hesap"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:j("md","md","default","lg"),children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(Vt,{className:"w-8 h-8 text-neutral-900"})}),e.jsx("p",{className:`${(se=(ie=s)==null?void 0:ie.typography)==null?void 0:se.stat.md} ${(ce=(J=s)==null?void 0:J.colors)==null?void 0:ce.text.primary}`,children:R.length}),e.jsx("p",{className:`${(K=(U=s)==null?void 0:U.typography)==null?void 0:K.body.sm} ${(fe=(ae=s)==null?void 0:ae.colors)==null?void 0:fe.text.secondary}`,children:"Toplam Cari"}),e.jsxs("p",{className:`${(X=(O=s)==null?void 0:O.typography)==null?void 0:X.body.xs} ${(oe=(de=s)==null?void 0:de.colors)==null?void 0:oe.text.tertiary} mt-1`,children:[ye," MÃ¼ÅŸteri, ",le," TedarikÃ§i"]})]}),e.jsxs("div",{className:j("md","md","default","lg"),children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(Ue,{className:"w-8 h-8 text-neutral-900"})}),e.jsx("p",{className:`${(me=(Ne=s)==null?void 0:Ne.typography)==null?void 0:me.stat.md} text-neutral-900`,children:B(we)}),e.jsx("p",{className:`${(xe=(ve=s)==null?void 0:ve.typography)==null?void 0:xe.body.sm} ${(o=(p=s)==null?void 0:p.colors)==null?void 0:o.text.secondary}`,children:"Toplam BorÃ§"})]}),e.jsxs("div",{className:j("md","md","default","lg"),children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(Ke,{className:"w-8 h-8 text-neutral-800"})}),e.jsx("p",{className:`${(T=(P=s)==null?void 0:P.typography)==null?void 0:T.stat.md} text-neutral-800`,children:B(he)}),e.jsx("p",{className:`${(ue=(g=s)==null?void 0:g.typography)==null?void 0:ue.body.sm} ${(G=(Ce=s)==null?void 0:Ce.colors)==null?void 0:G.text.secondary}`,children:"Toplam Alacak"})]}),e.jsxs("div",{className:j("md","md","default","lg"),children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(Ns,{className:"w-8 h-8 text-neutral-900"})}),e.jsx("p",{className:`${(q=(y=s)==null?void 0:y.typography)==null?void 0:q.stat.md} ${H(pe)}`,children:B(pe)}),e.jsx("p",{className:`${(Be=(ke=s)==null?void 0:ke.typography)==null?void 0:Be.body.sm} ${(ze=(z=s)==null?void 0:z.colors)==null?void 0:ze.text.secondary}`,children:"Net Bakiye"})]}),e.jsxs("div",{className:j("md","md","default","lg"),children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(al,{className:"w-8 h-8 text-neutral-900"})}),e.jsx("p",{className:`${(ns=(He=s)==null?void 0:He.typography)==null?void 0:ns.stat.md} ${(u=(is=s)==null?void 0:is.colors)==null?void 0:u.text.primary}`,children:R.filter(d=>Math.abs(d.balance)>0).length}),e.jsx("p",{className:`${(Ee=(Y=s)==null?void 0:Y.typography)==null?void 0:Ee.body.sm} ${($e=(Re=s)==null?void 0:Re.colors)==null?void 0:$e.text.secondary}`,children:"AÃ§Ä±k Bakiye"})]})]}),e.jsxs("div",{className:j("md","md","default","lg"),children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative md:col-span-2",children:[e.jsx(pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-neutral-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Cari adÄ±, kodu veya vergi no ara...",value:$,onChange:d=>h(d.target.value),className:"w-full pl-10 pr-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-neutral-500 focus:border-neutral-500"})]}),e.jsxs("select",{value:F,onChange:d=>b(d.target.value),className:"px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-neutral-500 focus:border-neutral-500",children:[e.jsx("option",{value:"ALL",children:"TÃ¼m Tipler"}),e.jsx("option",{value:"CUSTOMER",children:"MÃ¼ÅŸteri"}),e.jsx("option",{value:"SUPPLIER",children:"TedarikÃ§i"})]}),e.jsxs("select",{value:ee,onChange:d=>_(d.target.value),className:"px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-neutral-500 focus:border-neutral-500",children:[e.jsx("option",{value:"ALL",children:"TÃ¼m Bakiyeler"}),e.jsx("option",{value:"POSITIVE",children:"AlacaklÄ± (Pozitif)"}),e.jsx("option",{value:"NEGATIVE",children:"BorÃ§lu (Negatif)"}),e.jsx("option",{value:"ZERO",children:"SÄ±fÄ±r Bakiye"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[e.jsxs("button",{onClick:A,className:f("secondary","sm","md"),children:[e.jsx(vs,{className:"w-4 h-4"}),"Yenile"]}),e.jsxs("button",{onClick:()=>{h(""),b("ALL"),_("ALL")},className:f("secondary","sm","md"),children:[e.jsx(fs,{className:"w-4 h-4"}),"Filtreleri Temizle"]}),e.jsxs("button",{onClick:()=>I.success("Excel export Ã¶zelliÄŸi yakÄ±nda eklenecek"),className:f("secondary","sm","md"),children:[e.jsx(Xe,{className:"w-4 h-4"}),"Excel Ä°ndir"]})]})]}),e.jsx("div",{className:j("none","none","default","lg"),children:c?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-neutral-600"})}):R.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center p-6",children:[e.jsx(Vt,{className:"w-16 h-16 text-neutral-300 mb-4"}),e.jsx("p",{className:`${(Me=(Pe=s)==null?void 0:Pe.typography)==null?void 0:Me.body.lg} ${(Je=(cs=s)==null?void 0:cs.colors)==null?void 0:Je.text.primary} mb-2`,children:"Cari Hesap BulunamadÄ±"}),e.jsx("p",{className:`${(Ze=(es=s)==null?void 0:es.typography)==null?void 0:Ze.body.sm} ${(ss=(ds=s)==null?void 0:ds.colors)==null?void 0:ss.text.tertiary}`,children:$||F!=="ALL"||ee!=="ALL"?"Arama kriterlerinize uygun cari hesap bulunamadÄ±":"HenÃ¼z cari hesap eklenmemiÅŸ"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b-2 border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Cari Kodu"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Cari AdÄ±"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Tip"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"BorÃ§"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Alacak"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Bakiye"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Ä°ÅŸlemler"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:R.map(d=>{var De,Ve,Hs,Vs,Us,Ks,qs,Qs,Xs,Zs,Ws,Js,ea,sa,aa,ta,la,ra;return e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Vt,{className:"w-4 h-4 text-neutral-400 mr-2"}),e.jsx("span",{className:`${(Ve=(De=s)==null?void 0:De.typography)==null?void 0:Ve.body.sm} ${(Vs=(Hs=s)==null?void 0:Hs.colors)==null?void 0:Vs.text.primary} font-medium font-mono`,children:d.code})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:`${(Ks=(Us=s)==null?void 0:Us.typography)==null?void 0:Ks.body.sm} ${(Qs=(qs=s)==null?void 0:qs.colors)==null?void 0:Qs.text.primary} font-medium`,children:d.name}),d.taxNumber&&e.jsxs("p",{className:`${(Zs=(Xs=s)==null?void 0:Xs.typography)==null?void 0:Zs.body.xs} ${(Js=(Ws=s)==null?void 0:Ws.colors)==null?void 0:Js.text.tertiary}`,children:["VKN: ",d.taxNumber]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:te(d.type)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("span",{className:`${(sa=(ea=s)==null?void 0:ea.typography)==null?void 0:sa.body.sm} text-neutral-900 font-medium`,children:B(d.totalDebit)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("span",{className:`${(ta=(aa=s)==null?void 0:aa.typography)==null?void 0:ta.body.sm} text-neutral-800 font-medium`,children:B(d.totalCredit)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("span",{className:`${(ra=(la=s)==null?void 0:la.typography)==null?void 0:ra.body.sm} font-bold ${H(d.balance)}`,children:B(d.balance)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>Te(d),className:"p-2 text-neutral-900 hover:bg-neutral-50 rounded-lg transition-colors",title:"DetaylarÄ± GÃ¶rÃ¼ntÃ¼le",children:e.jsx(jt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>I.success("DÃ¼zenleme Ã¶zelliÄŸi yakÄ±nda eklenecek"),className:"p-2 text-neutral-900 hover:bg-neutral-50 rounded-lg transition-colors",title:"DÃ¼zenle",children:e.jsx(qt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Se(d.id),className:"p-2 text-neutral-800 hover:bg-neutral-50 rounded-lg transition-colors",title:"Sil",children:e.jsx(Qt,{className:"w-4 h-4"})})]})})]},d.id)})})]})})}),C&&v&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"border-b border-neutral-200 p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`${(We=(Le=s)==null?void 0:Le.typography)==null?void 0:We.heading.h3} ${(os=(Ie=s)==null?void 0:Ie.colors)==null?void 0:os.text.primary}`,children:"Cari Hesap DetayÄ±"}),e.jsxs("p",{className:`${(ws=(qe=s)==null?void 0:qe.typography)==null?void 0:ws.body.sm} ${(ms=(gt=s)==null?void 0:gt.colors)==null?void 0:ms.text.secondary} mt-1`,children:[v.code," - ",v.name]})]}),e.jsx("button",{onClick:()=>D(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(hs,{className:"w-6 h-6"})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${(as=(ks=s)==null?void 0:ks.typography)==null?void 0:as.label.sm} ${(ps=($s=s)==null?void 0:$s.colors)==null?void 0:ps.text.tertiary} mb-1`,children:"Tip"}),te(v.type)]}),e.jsxs("div",{children:[e.jsx("p",{className:`${(ft=(bt=s)==null?void 0:bt.typography)==null?void 0:ft.label.sm} ${(vt=(Nt=s)==null?void 0:Nt.colors)==null?void 0:vt.text.tertiary} mb-1`,children:"Vergi No"}),e.jsx("p",{className:`${(kt=(wt=s)==null?void 0:wt.typography)==null?void 0:kt.body.md} ${(St=($t=s)==null?void 0:$t.colors)==null?void 0:St.text.primary}`,children:v.taxNumber||"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:`${(Tt=(Ct=s)==null?void 0:Ct.typography)==null?void 0:Tt.label.sm} ${(Dt=(Et=s)==null?void 0:Et.colors)==null?void 0:Dt.text.tertiary} mb-1`,children:"Telefon"}),e.jsx("p",{className:`${(zt=(At=s)==null?void 0:At.typography)==null?void 0:zt.body.md} ${(Bt=(Lt=s)==null?void 0:Lt.colors)==null?void 0:Bt.text.primary}`,children:v.phone||"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:`${(It=(Pt=s)==null?void 0:Pt.typography)==null?void 0:It.label.sm} ${(ys=(Ft=s)==null?void 0:Ft.colors)==null?void 0:ys.text.tertiary} mb-1`,children:"Email"}),e.jsx("p",{className:`${(_t=(js=s)==null?void 0:js.typography)==null?void 0:_t.body.md} ${(Mt=(Rt=s)==null?void 0:Rt.colors)==null?void 0:Mt.text.primary}`,children:v.email||"-"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:j("md","md","default","lg"),children:[e.jsx("p",{className:`${(ts=(Oe=s)==null?void 0:Oe.typography)==null?void 0:ts.label.sm} ${(Gt=(Ot=s)==null?void 0:Ot.colors)==null?void 0:Gt.text.tertiary} mb-2`,children:"Toplam BorÃ§"}),e.jsx("p",{className:`${(Cs=(Ss=s)==null?void 0:Ss.typography)==null?void 0:Cs.stat.md} text-neutral-900`,children:B(v.totalDebit)})]}),e.jsxs("div",{className:j("md","md","default","lg"),children:[e.jsx("p",{className:`${(Es=(Ts=s)==null?void 0:Ts.typography)==null?void 0:Es.label.sm} ${(As=(Ds=s)==null?void 0:Ds.colors)==null?void 0:As.text.tertiary} mb-2`,children:"Toplam Alacak"}),e.jsx("p",{className:`${(Ls=(zs=s)==null?void 0:zs.typography)==null?void 0:Ls.stat.md} text-neutral-800`,children:B(v.totalCredit)})]}),e.jsxs("div",{className:j("md","md","default","lg"),children:[e.jsx("p",{className:`${(Ps=(Bs=s)==null?void 0:Bs.typography)==null?void 0:Ps.label.sm} ${(Fs=(Is=s)==null?void 0:Is.colors)==null?void 0:Fs.text.tertiary} mb-2`,children:"Net Bakiye"}),e.jsx("p",{className:`${(Rs=(_s=s)==null?void 0:_s.typography)==null?void 0:Rs.stat.md} ${H(v.balance)}`,children:B(v.balance)})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`${(Os=(Ms=s)==null?void 0:Ms.typography)==null?void 0:Os.heading.h4} ${(Ys=(Gs=s)==null?void 0:Gs.colors)==null?void 0:Ys.text.primary} mb-4`,children:"Hesap Hareketleri"}),w?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-neutral-600"})}):!v.transactions||v.transactions.length===0?e.jsx("div",{className:"text-center py-8 text-neutral-500",children:"HenÃ¼z hareket bulunmamaktadÄ±r"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border border-neutral-200 rounded-lg",children:[e.jsx("thead",{className:"bg-neutral-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-neutral-500 uppercase",children:"Tarih"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-neutral-500 uppercase",children:"AÃ§Ä±klama"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-neutral-500 uppercase",children:"Fatura No"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-neutral-500 uppercase",children:"BorÃ§"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-neutral-500 uppercase",children:"Alacak"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-neutral-500 uppercase",children:"Bakiye"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:v.transactions.map(d=>e.jsxs("tr",{className:"hover:bg-neutral-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-900 whitespace-nowrap",children:W(d.date)}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-900",children:d.description}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-600 text-center",children:d.invoiceNumber||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-900 font-medium text-right",children:d.type==="DEBIT"?B(d.amount):"-"}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-800 font-medium text-right",children:d.type==="CREDIT"?B(d.amount):"-"}),e.jsx("td",{className:`px-4 py-3 text-sm font-medium text-right ${H(d.balance)}`,children:B(d.balance)})]},d.id))})]})})]})]}),e.jsxs("div",{className:"border-t border-neutral-200 p-6 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>D(!1),className:f("secondary","md","md"),children:"Kapat"}),e.jsxs("button",{onClick:()=>I.success("Ekstre yazdÄ±rma Ã¶zelliÄŸi yakÄ±nda eklenecek"),className:f("primary","md","md"),children:[e.jsx(rs,{className:"w-4 h-4"}),"Ekstre YazdÄ±r"]})]})]})})]})}const gs="px-6 py-3 text-left text-xs font-medium text-neutral-600 uppercase tracking-wider bg-neutral-50",bs="px-6 py-4 text-sm text-neutral-900";function fc(){var te,H,B,W,R,we,he,pe,ye,le,je,M,Q,V,ge,be,re,ne,ie,se,J,ce,U,K,ae,fe,O,X,de,oe,Ne,me,ve,xe,p,o,P,T,g,ue,Ce,G;const[t,N]=l.useState([]),[i,c]=l.useState({totalDebit:0,totalCredit:0,difference:0,isBalanced:!0}),[r,$]=l.useState(!1),[h,F]=l.useState(""),[b,ee]=l.useState(new Date().toISOString().split("T")[0]),[_,v]=l.useState("ALL"),[E,C]=l.useState(!1);l.useEffect(()=>{D()},[h,b,_,E]);const D=async()=>{try{$(!0);const y=new URLSearchParams;h&&y.append("startDate",h),b&&y.append("endDate",b),_!=="ALL"&&y.append("accountType",_),y.append("includeZeroBalance",E.toString());const q=await fetch(`/api/accounting/reports/trial-balance?${y}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!q.ok)throw new Error("Failed to load trial balance");const ke=await q.json();N(ke.items||[]),c(ke.summary||{totalDebit:0,totalCredit:0,difference:0,isBalanced:!0})}catch(y){console.error("Failed to load trial balance:",y),I.error("Mizan raporu yÃ¯Â¿Â½klenemedi")}finally{$(!1)}},w=()=>{try{mc(t,i,{from:h,to:b}),I.success("Mizan raporu Excel olarak indirildi")}catch{I.error("Excel export baÃ¯Â¿Â½arÃ¯Â¿Â½sÃ¯Â¿Â½z oldu")}},Z=()=>{window.print()},A=y=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(y),Te=y=>({ASSET:"text-neutral-900",LIABILITY:"text-neutral-900",EQUITY:"text-neutral-900",REVENUE:"text-neutral-900",EXPENSE:"text-orange-600"})[y]||"text-neutral-600",Se=y=>({ASSET:"VarlÃ¯Â¿Â½k",LIABILITY:"BorÃ¯Â¿Â½",EQUITY:"Ã¯Â¿Â½zkaynak",REVENUE:"Gelir",EXPENSE:"Gider"})[y]||y;return e.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex justify-end items-center gap-2",children:[e.jsxs("button",{onClick:D,className:k(f("md","outline","lg"),"gap-2"),children:[e.jsx(vs,{className:"w-4 h-4"}),"Yenile"]}),e.jsxs("button",{onClick:Z,className:k(f("md","outline","lg"),"gap-2"),children:[e.jsx(jt,{className:"w-4 h-4"}),"YazdÄ±r"]}),e.jsxs("button",{onClick:w,className:k(f("md","primary","lg"),"gap-2"),children:[e.jsx(Xe,{className:"w-4 h-4"}),"Excel Ä°ndir"]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[e.jsxs("div",{className:j("sm","md","default","lg"),children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("div",{className:_e("primary"),children:e.jsx(Ue,{className:"w-4 h-4 text-white"})})}),e.jsx("p",{className:`${(H=(te=s)==null?void 0:te.typography)==null?void 0:H.stat.lg} text-neutral-900 mb-1`,children:A(i.totalDebit)}),e.jsx("p",{className:`${(W=(B=s)==null?void 0:B.typography)==null?void 0:W.body.sm} ${(we=(R=s)==null?void 0:R.colors)==null?void 0:we.text.secondary}`,children:"Toplam BorÃ§"})]}),e.jsxs("div",{className:j("sm","md","default","lg"),children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("div",{className:_e("primary"),children:e.jsx(Ke,{className:"w-4 h-4 text-white"})})}),e.jsx("p",{className:`${(pe=(he=s)==null?void 0:he.typography)==null?void 0:pe.stat.lg} text-neutral-900 mb-1`,children:A(i.totalCredit)}),e.jsx("p",{className:`${(le=(ye=s)==null?void 0:ye.typography)==null?void 0:le.body.sm} ${(M=(je=s)==null?void 0:je.colors)==null?void 0:M.text.secondary}`,children:"Toplam Alacak"})]}),e.jsxs("div",{className:j("sm","md","default","lg"),children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("div",{className:_e("primary"),children:e.jsx(Ns,{className:"w-4 h-4 text-white"})})}),e.jsx("p",{className:`${(V=(Q=s)==null?void 0:Q.typography)==null?void 0:V.stat.lg} ${i.difference===0,"text-neutral-900"} mb-1`,children:A(Math.abs(i.difference))}),e.jsx("p",{className:`${(be=(ge=s)==null?void 0:ge.typography)==null?void 0:be.body.sm} ${(ne=(re=s)==null?void 0:re.colors)==null?void 0:ne.text.secondary}`,children:"Fark"})]}),e.jsxs("div",{className:j("sm","md","default","lg"),children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("div",{className:_e("primary"),children:e.jsx(Xt,{className:"w-4 h-4 text-white"})})}),e.jsx("p",{className:`${(se=(ie=s)==null?void 0:ie.typography)==null?void 0:se.stat.lg} ${i.isBalanced,"text-neutral-900"} mb-1`,children:(i.isBalanced,"?")}),e.jsx("p",{className:`${(ce=(J=s)==null?void 0:J.typography)==null?void 0:ce.body.sm} ${(K=(U=s)==null?void 0:U.colors)==null?void 0:K.text.secondary}`,children:i.isBalanced?"Dengede":"Dengesiz"})]})]}),e.jsx("div",{className:j("md","md","default","lg"),children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:`block ${(fe=(ae=s)==null?void 0:ae.typography)==null?void 0:fe.label.sm} ${(X=(O=s)==null?void 0:O.colors)==null?void 0:X.text.primary} mb-1`,children:[e.jsx(yt,{className:"w-4 h-4 inline mr-1"}),"BaÃ¯Â¿Â½langÃ¯Â¿Â½Ã¯Â¿Â½ Tarihi"]}),e.jsx("input",{type:"date",value:h,onChange:y=>F(y.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-neutral-500 focus:border-neutral-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:`block ${(oe=(de=s)==null?void 0:de.typography)==null?void 0:oe.label.sm} ${(me=(Ne=s)==null?void 0:Ne.colors)==null?void 0:me.text.primary} mb-1`,children:[e.jsx(yt,{className:"w-4 h-4 inline mr-1"}),"BitiÃ¯Â¿Â½ Tarihi"]}),e.jsx("input",{type:"date",value:b,onChange:y=>ee(y.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-neutral-500 focus:border-neutral-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:`block ${(xe=(ve=s)==null?void 0:ve.typography)==null?void 0:xe.label.sm} ${(o=(p=s)==null?void 0:p.colors)==null?void 0:o.text.primary} mb-1`,children:[e.jsx(fs,{className:"w-4 h-4 inline mr-1"}),"Hesap Tipi"]}),e.jsxs("select",{value:_,onChange:y=>v(y.target.value),className:L("md","default",void 0,"lg"),children:[e.jsx("option",{value:"ALL",children:"TÃ¯Â¿Â½mÃ¯Â¿Â½"}),e.jsx("option",{value:"ASSET",children:"VarlÃ¯Â¿Â½k"}),e.jsx("option",{value:"LIABILITY",children:"BorÃ¯Â¿Â½"}),e.jsx("option",{value:"EQUITY",children:"Ã¯Â¿Â½zkaynak"}),e.jsx("option",{value:"REVENUE",children:"Gelir"}),e.jsx("option",{value:"EXPENSE",children:"Gider"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:E,onChange:y=>C(y.target.checked),className:"w-4 h-4 text-neutral-900 rounded focus:ring-2 focus:ring-neutral-500"}),e.jsx("span",{className:`${(T=(P=s)==null?void 0:P.typography)==null?void 0:T.body.sm}`,children:"SÃ¯Â¿Â½fÃ¯Â¿Â½r bakiye gÃ¯Â¿Â½ster"})]})})]})}),e.jsxs("div",{className:j("md","md","default","lg"),children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:`${(ue=(g=s)==null?void 0:g.typography)==null?void 0:ue.heading.h4} ${(G=(Ce=s)==null?void 0:Ce.colors)==null?void 0:G.text.primary}`,children:"Hesap DetaylarÃ¯Â¿Â½"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-600",children:[e.jsx(ac,{className:"w-4 h-4"}),e.jsxs("span",{children:[t.length," hesap"]})]})]}),r?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-neutral-600"})}):t.length===0?e.jsxs("div",{className:"text-center py-12 text-neutral-500",children:[e.jsx(Xt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"SeÃ¯Â¿Â½ilen kriterlere uygun kayÃ¯Â¿Â½t bulunamadÃ¯Â¿Â½"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:gs,children:"Hesap Kodu"}),e.jsx("th",{className:gs,children:"Hesap AdÃ¯Â¿Â½"}),e.jsx("th",{className:`${gs} text-center`,children:"Tip"}),e.jsx("th",{className:`${gs} text-right`,children:"BorÃ¯Â¿Â½"}),e.jsx("th",{className:`${gs} text-right`,children:"Alacak"}),e.jsx("th",{className:`${gs} text-right`,children:"Bakiye"})]})}),e.jsx("tbody",{children:t.map((y,q)=>{const ke=y.debit-y.credit;return e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:bs,children:e.jsx("span",{className:"font-mono text-sm font-medium text-neutral-900",children:y.accountCode})}),e.jsx("td",{className:bs,children:e.jsx("p",{className:"text-sm text-neutral-900 font-medium",children:y.accountName})}),e.jsx("td",{className:`${bs} text-center`,children:e.jsx("span",{className:`text-xs font-medium ${Te(y.accountType)}`,children:Se(y.accountType)})}),e.jsx("td",{className:`${bs} text-right`,children:e.jsx("span",{className:"text-sm text-neutral-900 font-medium",children:y.debit>0?A(y.debit):"-"})}),e.jsx("td",{className:`${bs} text-right`,children:e.jsx("span",{className:"text-sm text-neutral-900 font-medium",children:y.credit>0?A(y.credit):"-"})}),e.jsx("td",{className:`${bs} text-right`,children:e.jsxs("span",{className:`text-sm font-bold ${ke>0||ke<0?"text-neutral-900":"text-neutral-600"}`,children:[A(Math.abs(ke)),ke>0?" B":ke<0?" A":""]})})]},q)})}),e.jsx("tfoot",{className:"bg-neutral-100 border-t-2 border-neutral-300",children:e.jsxs("tr",{className:"font-bold",children:[e.jsx("td",{colSpan:3,className:"px-4 py-3 text-right text-sm",children:"TOPLAM:"}),e.jsx("td",{className:"px-4 py-3 text-right text-neutral-900",children:A(i.totalDebit)}),e.jsx("td",{className:"px-4 py-3 text-right text-neutral-900",children:A(i.totalCredit)}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsx("span",{className:(i.difference===0,"text-neutral-900"),children:i.isBalanced?"? Dengede":"? Dengesiz"})})]})})]})})]}),!i.isBalanced&&e.jsx("div",{className:"bg-neutral-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-neutral-50 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-neutral-900 text-lg font-bold",children:"!"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-neutral-900 font-semibold mb-1",children:"Mizan Dengesi UyuÃ¯Â¿Â½muyor"}),e.jsxs("p",{className:"text-neutral-900 text-sm mb-2",children:["Toplam borÃ¯Â¿Â½ ve alacak tutarlarÃ¯Â¿Â½ eÃ¯Â¿Â½it deÃ¯Â¿Â½il. Fark:"," ",A(Math.abs(i.difference))]}),e.jsx("p",{className:"text-neutral-900 text-xs",children:"LÃ¯Â¿Â½tfen yevmiye kayÃ¯Â¿Â½tlarÃ¯Â¿Â½nÃ¯Â¿Â½zÃ¯Â¿Â½ kontrol edin. Her kayÃ¯Â¿Â½tta borÃ¯Â¿Â½ ve alacak toplamlarÃ¯Â¿Â½ eÃ¯Â¿Â½it olmalÃ¯Â¿Â½dÃ¯Â¿Â½r."})]})]})})]})}function Nc(){var Z,A,Te,Se,te,H,B,W,R,we,he,pe,ye,le,je,M,Q,V,ge,be,re,ne,ie,se,J,ce,U,K,ae,fe,O,X,de,oe,Ne,me,ve,xe,p,o,P,T,g,ue,Ce,G,y,q,ke,Be;const[t,N]=l.useState({revenues:[],expenses:[],summary:{totalRevenue:0,totalExpense:0,grossProfit:0,netProfit:0,profitMargin:0}}),[i,c]=l.useState(!1),[r,$]=l.useState(new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0]),[h,F]=l.useState(new Date().toISOString().split("T")[0]),[b,ee]=l.useState("detailed");l.useEffect(()=>{_()},[r,h]);const _=async()=>{try{c(!0);const z=new URLSearchParams({startDate:r,endDate:h}),ze=await fetch(`/api/accounting/reports/income-statement?${z}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!ze.ok)throw new Error("Failed to load income statement");const He=await ze.json();N(He.data||He)}catch(z){console.error("Failed to load income statement:",z),I.error("Gelir-Gider Tablosu yÃ¼klenemedi")}finally{c(!1)}},v=()=>{try{xc(t.revenues,t.expenses,t.summary,{from:r,to:h}),I.success("Gelir-Gider tablosu Excel olarak indirildi")}catch{I.error("Excel export baÅŸarÄ±sÄ±z oldu")}},E=()=>{window.print()},C=z=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(z),D=z=>`${z.toFixed(2)}%`,w=t.summary.netProfit>=0;return e.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex justify-end items-center gap-2",children:[e.jsxs("button",{onClick:_,className:k(f("md","outline","lg"),"gap-2"),children:[e.jsx(vs,{className:"w-4 h-4"}),"Yenile"]}),e.jsxs("button",{onClick:E,className:k(f("md","outline","lg"),"gap-2"),children:[e.jsx(jt,{className:"w-4 h-4"}),"YazdÄ±r"]}),e.jsxs("button",{onClick:v,className:k(f("md","primary","lg"),"gap-2"),children:[e.jsx(Xe,{className:"w-4 h-4"}),"Excel Ä°ndir"]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-4",children:[e.jsxs("div",{className:j("sm","md","default","lg"),children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("div",{className:_e("primary"),children:e.jsx(Ue,{className:"w-4 h-4 text-white"})})}),e.jsx("p",{className:`${(A=(Z=s)==null?void 0:Z.typography)==null?void 0:A.stat.lg} text-neutral-900 mb-1`,children:C(t.summary.totalRevenue)}),e.jsx("p",{className:`${(Se=(Te=s)==null?void 0:Te.typography)==null?void 0:Se.body.sm} ${(H=(te=s)==null?void 0:te.colors)==null?void 0:H.text.secondary}`,children:"Toplam Gelir"})]}),e.jsxs("div",{className:j("sm","md","default","lg"),children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("div",{className:_e("primary"),children:e.jsx(Ke,{className:"w-4 h-4 text-white"})})}),e.jsx("p",{className:`${(W=(B=s)==null?void 0:B.typography)==null?void 0:W.stat.lg} text-neutral-900 mb-1`,children:C(t.summary.totalExpense)}),e.jsx("p",{className:`${(we=(R=s)==null?void 0:R.typography)==null?void 0:we.body.sm} ${(pe=(he=s)==null?void 0:he.colors)==null?void 0:pe.text.secondary}`,children:"Toplam Gider"})]}),e.jsxs("div",{className:j("sm","md","default","lg"),children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("div",{className:_e("primary"),children:e.jsx(sl,{className:"w-4 h-4 text-white"})})}),e.jsx("p",{className:`${(le=(ye=s)==null?void 0:ye.typography)==null?void 0:le.stat.lg} ${t.summary.grossProfit>=0,"text-neutral-900"} mb-1`,children:C(Math.abs(t.summary.grossProfit))}),e.jsx("p",{className:`${(M=(je=s)==null?void 0:je.typography)==null?void 0:M.body.sm} ${(V=(Q=s)==null?void 0:Q.colors)==null?void 0:V.text.secondary}`,children:"BrÃ¼t Kar/Zarar"})]}),e.jsxs("div",{className:j("sm","md","default","lg"),children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("div",{className:_e("primary"),children:e.jsx(Ns,{className:"w-4 h-4 text-white"})})}),e.jsx("p",{className:`${(be=(ge=s)==null?void 0:ge.typography)==null?void 0:be.stat.lg} text-neutral-900 mb-1`,children:C(Math.abs(t.summary.netProfit))}),e.jsx("p",{className:`${(ne=(re=s)==null?void 0:re.typography)==null?void 0:ne.body.sm} ${(se=(ie=s)==null?void 0:ie.colors)==null?void 0:se.text.secondary}`,children:"Net Kar/Zarar"})]}),e.jsxs("div",{className:j("sm","md","default","lg"),children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("div",{className:_e("primary"),children:e.jsx(Ui,{className:"w-4 h-4 text-white"})})}),e.jsx("p",{className:`${(ce=(J=s)==null?void 0:J.typography)==null?void 0:ce.stat.lg} ${t.summary.profitMargin>=0,"text-neutral-900"} mb-1`,children:D(t.summary.profitMargin)}),e.jsx("p",{className:`${(K=(U=s)==null?void 0:U.typography)==null?void 0:K.body.sm} ${(fe=(ae=s)==null?void 0:ae.colors)==null?void 0:fe.text.secondary}`,children:"Kar MarjÄ±"})]})]}),e.jsx("div",{className:j("md","md","default","lg"),children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:`block ${(X=(O=s)==null?void 0:O.typography)==null?void 0:X.label.sm} ${(oe=(de=s)==null?void 0:de.colors)==null?void 0:oe.text.primary} mb-1`,children:[e.jsx(yt,{className:"w-4 h-4 inline mr-1"}),"BaÅŸlangÄ±Ã§ Tarihi"]}),e.jsx("input",{type:"date",value:r,onChange:z=>$(z.target.value),className:L("md","default",void 0,"lg")})]}),e.jsxs("div",{children:[e.jsxs("label",{className:`block ${(me=(Ne=s)==null?void 0:Ne.typography)==null?void 0:me.label.sm} ${(xe=(ve=s)==null?void 0:ve.colors)==null?void 0:xe.text.primary} mb-1`,children:[e.jsx(yt,{className:"w-4 h-4 inline mr-1"}),"BitiÅŸ Tarihi"]}),e.jsx("input",{type:"date",value:h,onChange:z=>F(z.target.value),className:L("md","default",void 0,"lg")})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${(o=(p=s)==null?void 0:p.typography)==null?void 0:o.label.sm} ${(T=(P=s)==null?void 0:P.colors)==null?void 0:T.text.primary} mb-1`,children:"GÃ¶rÃ¼nÃ¼m Tipi"}),e.jsxs("select",{value:b,onChange:z=>ee(z.target.value),className:L("md","default",void 0,"lg"),children:[e.jsx("option",{value:"detailed",children:"DetaylÄ±"}),e.jsx("option",{value:"summary",children:"Ã–zet"})]})]})]})}),i?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-neutral-600"})}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:j("md","md","default","lg"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:`${(ue=(g=s)==null?void 0:g.typography)==null?void 0:ue.heading.h4} ${(G=(Ce=s)==null?void 0:Ce.colors)==null?void 0:G.text.primary}`,children:"Gelirler (Revenue)"}),e.jsx("span",{className:"text-neutral-900 font-bold text-lg",children:C(t.summary.totalRevenue)})]}),t.revenues.length===0?e.jsxs("div",{className:"text-center py-8 text-neutral-500",children:[e.jsx(Ue,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"Gelir kaydÄ± bulunamadÄ±"})]}):e.jsx("div",{className:"space-y-2",children:t.revenues.map((z,ze)=>e.jsxs("div",{className:"flex justify-between items-center py-2 px-3 hover:bg-neutral-50 rounded-lg transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-900",children:z.accountName}),b==="detailed"&&e.jsx("p",{className:"text-xs text-neutral-500 font-mono",children:z.accountCode})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-bold text-neutral-900",children:C(z.amount)}),b==="detailed"&&e.jsx("p",{className:"text-xs text-neutral-500",children:D(z.percentage)})]})]},ze))})]}),e.jsxs("div",{className:j("md","md","default","lg"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:`${(q=(y=s)==null?void 0:y.typography)==null?void 0:q.heading.h4} ${(Be=(ke=s)==null?void 0:ke.colors)==null?void 0:Be.text.primary}`,children:"Giderler (Expenses)"}),e.jsx("span",{className:"text-neutral-900 font-bold text-lg",children:C(t.summary.totalExpense)})]}),t.expenses.length===0?e.jsxs("div",{className:"text-center py-8 text-neutral-500",children:[e.jsx(Ke,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"Gider kaydÄ± bulunamadÄ±"})]}):e.jsx("div",{className:"space-y-2",children:t.expenses.map((z,ze)=>e.jsxs("div",{className:"flex justify-between items-center py-2 px-3 hover:bg-neutral-50 rounded-lg transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-900",children:z.accountName}),b==="detailed"&&e.jsx("p",{className:"text-xs text-neutral-500 font-mono",children:z.accountCode})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-bold text-neutral-900",children:C(z.amount)}),b==="detailed"&&e.jsx("p",{className:"text-xs text-neutral-500",children:D(z.percentage)})]})]},ze))})]})]}),e.jsx("div",{className:`${j("md","md","default","lg")} ${w?"bg-neutral-50 border-green-200":"bg-neutral-50 border-red-200"}`,children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center bg-neutral-50",children:w?e.jsx(Ue,{className:"w-6 h-6 text-neutral-900"}):e.jsx(Ke,{className:"w-6 h-6 text-neutral-900"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-bold mb-1 text-neutral-900",children:w?"Kar (Profit)":"Zarar (Loss)"}),e.jsxs("p",{className:"text-sm text-neutral-900",children:["DÃ¶nem sonucu: ",C(Math.abs(t.summary.netProfit))]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-3xl font-bold text-neutral-900",children:[w?"+":"-",C(Math.abs(t.summary.netProfit))]}),e.jsxs("p",{className:"text-sm text-neutral-900",children:["Kar MarjÄ±: ",D(t.summary.profitMargin)]})]})]})}),e.jsx("div",{className:"bg-neutral-50 border border-neutral-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(hs,{className:"w-5 h-5 text-neutral-900 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-neutral-900 font-semibold mb-1",children:"Rapor DÃ¶nemi"}),e.jsxs("p",{className:"text-neutral-900 text-sm",children:[new Date(r).toLocaleDateString("tr-TR",{year:"numeric",month:"long",day:"numeric"})," ","-"," ",new Date(h).toLocaleDateString("tr-TR",{year:"numeric",month:"long",day:"numeric"})]}),e.jsx("p",{className:"text-neutral-900 text-xs mt-1",children:"Bu rapor seÃ§ilen tarih aralÄ±ÄŸÄ±ndaki tÃ¼m gelir ve gider HesaplarÄ±nÄ± iÃ§erir."})]})]})})]})}function vc(){var w,Z,A,Te,Se,te,H,B,W,R,we,he,pe,ye,le,je,M,Q,V,ge,be,re,ne,ie,se,J,ce,U,K,ae,fe,O,X,de,oe,Ne,me,ve,xe,p;const[t,N]=l.useState({assets:[],liabilities:[],equity:[],summary:{totalAssets:0,totalLiabilities:0,totalEquity:0,totalLiabilitiesAndEquity:0,isBalanced:!0,difference:0}}),[i,c]=l.useState(!1),[r,$]=l.useState(new Date().toISOString().split("T")[0]),[h,F]=l.useState(new Set(["assets","liabilities","equity"]));l.useEffect(()=>{b()},[r]);const b=async()=>{try{c(!0);const o=new URLSearchParams({date:r}),P=await fetch(`/api/accounting/reports/balance-sheet?${o}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!P.ok)throw new Error("Failed to load balance sheet");const T=await P.json();N(T.data||T)}catch(o){console.error("Failed to load balance sheet:",o),I.error("BilanÃ§o yÃ¼klenemedi")}finally{c(!1)}},ee=()=>{try{uc(t.assets,t.liabilities,t.equity,t.summary,r),I.success("BilanÃ§o Excel olarak indirildi")}catch{I.error("Excel export baÅŸarÄ±sÄ±z oldu")}},_=()=>{window.print()},v=o=>{F(P=>{const T=new Set(P);return T.has(o)?T.delete(o):T.add(o),T})},E=o=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(o),C=o=>`${o.toFixed(1)}%`,D=(o,P=0)=>{const T=o.children&&o.children.length>0,g=h.has(o.accountCode);return e.jsxs("div",{children:[e.jsxs("div",{className:`flex justify-between items-center py-2 px-3 hover:bg-neutral-50 transition-colors ${P>0?"border-l-2 border-neutral-200":""}`,style:{paddingLeft:`${(P+1)*12}px`},children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[T&&e.jsx("button",{onClick:()=>v(o.accountCode),className:"p-1 hover:bg-neutral-200 rounded",children:g?e.jsx(ut,{className:"w-4 h-4 text-neutral-600"}):e.jsx(us,{className:"w-4 h-4 text-neutral-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`text-sm ${P===0?"font-bold text-neutral-900":"font-medium text-neutral-700"}`,children:o.accountName}),e.jsx("p",{className:"text-xs text-neutral-500 font-mono",children:o.accountCode})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:`text-sm ${P===0?"font-bold text-neutral-900":"font-medium text-neutral-700"}`,children:E(o.amount)}),e.jsx("p",{className:"text-xs text-neutral-500",children:C(o.percentage)})]})]}),T&&g&&e.jsx("div",{children:o.children.map(ue=>D(ue,P+1))})]},o.accountCode)};return e.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex justify-end items-center gap-2",children:[e.jsxs("button",{onClick:b,className:k(f("md","outline","lg"),"gap-2"),children:[e.jsx(vs,{className:"w-4 h-4"}),"Yenile"]}),e.jsxs("button",{onClick:_,className:k(f("md","outline","lg"),"gap-2"),children:[e.jsx(jt,{className:"w-4 h-4"}),"YazdÄ±r"]}),e.jsxs("button",{onClick:ee,className:k(f("md","primary","lg"),"gap-2"),children:[e.jsx(Xe,{className:"w-4 h-4"}),"Excel Ä°ndir"]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[e.jsxs("div",{className:j("md","md","default","lg"),children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx(Zt,{className:"w-8 h-8 text-neutral-900"})}),e.jsx("p",{className:`${(Z=(w=s)==null?void 0:w.typography)==null?void 0:Z.stat.lg} text-neutral-900 mb-1`,children:E(t.summary.totalAssets)}),e.jsx("p",{className:`${(Te=(A=s)==null?void 0:A.typography)==null?void 0:Te.body.sm} ${(te=(Se=s)==null?void 0:Se.colors)==null?void 0:te.text.secondary}`,children:"Toplam VarlÄ±klar"})]}),e.jsxs("div",{className:j("md","md","default","lg"),children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx(Ke,{className:"w-8 h-8 text-neutral-800"})}),e.jsx("p",{className:`${(B=(H=s)==null?void 0:H.typography)==null?void 0:B.stat.lg} text-neutral-900 mb-1`,children:E(t.summary.totalLiabilities)}),e.jsx("p",{className:`${(R=(W=s)==null?void 0:W.typography)==null?void 0:R.body.sm} ${(he=(we=s)==null?void 0:we.colors)==null?void 0:he.text.secondary}`,children:"Toplam BorÃ§lar"})]}),e.jsxs("div",{className:j("md","md","default","lg"),children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx(Ue,{className:"w-8 h-8 text-neutral-700"})}),e.jsx("p",{className:`${(ye=(pe=s)==null?void 0:pe.typography)==null?void 0:ye.stat.lg} text-neutral-900 mb-1`,children:E(t.summary.totalEquity)}),e.jsx("p",{className:`${(je=(le=s)==null?void 0:le.typography)==null?void 0:je.body.sm} ${(Q=(M=s)==null?void 0:M.colors)==null?void 0:Q.text.secondary}`,children:"Ã–zkaynak"})]}),e.jsxs("div",{className:j("md","md","default","lg"),children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx(Xt,{className:"w-8 h-8 text-neutral-600"})}),e.jsx("p",{className:`${(ge=(V=s)==null?void 0:V.typography)==null?void 0:ge.stat.lg} text-neutral-900 mb-1`,children:t.summary.isBalanced?"âœ“":"âœ—"}),e.jsx("p",{className:`${(re=(be=s)==null?void 0:be.typography)==null?void 0:re.body.sm} ${(ie=(ne=s)==null?void 0:ne.colors)==null?void 0:ie.text.secondary}`,children:t.summary.isBalanced?"Dengede":"Dengesiz"})]})]}),e.jsx("div",{className:j("md","md","default","lg"),children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("label",{className:`block ${(J=(se=s)==null?void 0:se.typography)==null?void 0:J.label.sm} ${(U=(ce=s)==null?void 0:ce.colors)==null?void 0:U.text.primary} mb-1`,children:[e.jsx(yt,{className:"w-4 h-4 inline mr-1"}),"Rapor Tarihi"]}),e.jsx("input",{type:"date",value:r,onChange:o=>$(o.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-neutral-500 focus:border-neutral-500"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-neutral-600 mb-1",children:"BilanÃ§o Denklemi:"}),e.jsx("p",{className:"text-lg font-mono font-bold text-neutral-900",children:"VarlÄ±klar = BorÃ§lar + Ã–zkaynak"})]})]})}),i?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-neutral-600"})}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:j("md","md","default","lg"),children:[e.jsxs("div",{className:"border-b border-neutral-200 pb-3 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:`${(ae=(K=s)==null?void 0:K.typography)==null?void 0:ae.heading.h3} ${(O=(fe=s)==null?void 0:fe.colors)==null?void 0:O.text.primary}`,children:"VarlÄ±klar (Assets)"}),e.jsx("button",{onClick:()=>v("assets"),className:"p-1 hover:bg-neutral-100 rounded",children:h.has("assets")?e.jsx(ut,{className:"w-5 h-5"}):e.jsx(us,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"text-neutral-900 font-bold text-xl mt-1",children:E(t.summary.totalAssets)})]}),h.has("assets")&&e.jsx("div",{className:"space-y-1",children:t.assets.length===0?e.jsxs("div",{className:"text-center py-8 text-neutral-500",children:[e.jsx(Zt,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"VarlÄ±k kaydÄ± bulunamadÄ±"})]}):t.assets.map(o=>D(o))})]}),e.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:j("md","md","default","lg"),children:[e.jsxs("div",{className:"border-b border-neutral-200 pb-3 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:`${(de=(X=s)==null?void 0:X.typography)==null?void 0:de.heading.h3} ${(Ne=(oe=s)==null?void 0:oe.colors)==null?void 0:Ne.text.primary}`,children:"BorÃ§lar (Liabilities)"}),e.jsx("button",{onClick:()=>v("liabilities"),className:"p-1 hover:bg-neutral-100 rounded",children:h.has("liabilities")?e.jsx(ut,{className:"w-5 h-5"}):e.jsx(us,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"text-neutral-900 font-bold text-xl mt-1",children:E(t.summary.totalLiabilities)})]}),h.has("liabilities")&&e.jsx("div",{className:"space-y-1",children:t.liabilities.length===0?e.jsxs("div",{className:"text-center py-8 text-neutral-500",children:[e.jsx(Ke,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"BorÃ§ kaydÄ± bulunamadÄ±"})]}):t.liabilities.map(o=>D(o))})]}),e.jsxs("div",{className:j("md","md","default","lg"),children:[e.jsxs("div",{className:"border-b border-neutral-200 pb-3 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:`${(ve=(me=s)==null?void 0:me.typography)==null?void 0:ve.heading.h3} ${(p=(xe=s)==null?void 0:xe.colors)==null?void 0:p.text.primary}`,children:"Ã–zkaynak (Equity)"}),e.jsx("button",{onClick:()=>v("equity"),className:"p-1 hover:bg-neutral-100 rounded",children:h.has("equity")?e.jsx(ut,{className:"w-5 h-5"}):e.jsx(us,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"text-neutral-900 font-bold text-xl mt-1",children:E(t.summary.totalEquity)})]}),h.has("equity")&&e.jsx("div",{className:"space-y-1",children:t.equity.length===0?e.jsxs("div",{className:"text-center py-8 text-neutral-500",children:[e.jsx(Ue,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"Ã–zkaynak kaydÄ± bulunamadÄ±"})]}):t.equity.map(o=>D(o))})]})]})]}),e.jsx("div",{className:`${j("md","md","default","lg")} bg-neutral-50 border-neutral-200`,children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center bg-neutral-100",children:e.jsx(Xt,{className:"w-6 h-6 text-neutral-900"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-bold mb-1 text-neutral-900",children:t.summary.isBalanced?"BilanÃ§o Dengede":"BilanÃ§o Dengesiz"}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-neutral-700",children:[e.jsxs("span",{children:["VarlÄ±klar: ",E(t.summary.totalAssets)]}),e.jsx("span",{children:"="}),e.jsxs("span",{children:["BorÃ§lar + Ã–zkaynak:"," ",E(t.summary.totalLiabilitiesAndEquity)]}),!t.summary.isBalanced&&e.jsxs("span",{className:"font-bold",children:["(Fark: ",E(Math.abs(t.summary.difference)),")"]})]})]})]})}),!t.summary.isBalanced&&e.jsx("div",{className:"bg-neutral-50 border border-neutral-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(hs,{className:"w-5 h-5 text-neutral-900 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-neutral-900 font-semibold mb-1",children:"BilanÃ§o Dengesi UyuÅŸmuyor"}),e.jsxs("p",{className:"text-neutral-700 text-sm mb-2",children:["VarlÄ±klar toplamÄ±, borÃ§lar ve Ã¶zkaynak toplamÄ±na eÅŸit deÄŸil. Fark:"," ",E(Math.abs(t.summary.difference))]}),e.jsx("p",{className:"text-neutral-600 text-xs",children:"LÃ¼tfen hesap kayÄ±tlarÄ±nÄ±zÄ± ve yevmiye defterini kontrol edin. Muhasebenin temel denklemi: VarlÄ±klar = BorÃ§lar + Ã–zkaynak"})]})]})}),e.jsx("div",{className:"bg-neutral-50 border border-neutral-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(hs,{className:"w-5 h-5 text-neutral-900 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-neutral-900 font-semibold mb-1",children:"Rapor Tarihi"}),e.jsx("p",{className:"text-neutral-700 text-sm",children:new Date(r).toLocaleDateString("tr-TR",{year:"numeric",month:"long",day:"numeric"})}),e.jsx("p",{className:"text-neutral-600 text-xs mt-1",children:"Bu bilanÃ§o, belirtilen tarih itibariyle ÅŸirketin finansal durumunu gÃ¶sterir."})]})]})})]})}const wc=({count:t=4,height:N="h-32"})=>e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:Array.from({length:t}).map((i,c)=>e.jsxs("div",{className:`bg-white rounded-2xl border border-neutral-200 p-6 ${N}`,children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 bg-neutral-200 rounded-xl animate-pulse"})}),e.jsx("div",{className:"h-4 bg-neutral-200 rounded w-24 mb-3 animate-pulse"}),e.jsx("div",{className:"h-8 bg-neutral-200 rounded w-32 animate-pulse"})]},c))}),Yi=({rows:t=5,columns:N=5,showHeader:i=!0})=>e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-neutral-200",children:[i&&e.jsx("thead",{className:"bg-neutral-50",children:e.jsx("tr",{children:Array.from({length:N}).map((c,r)=>e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsx("div",{className:"h-4 bg-neutral-200 rounded animate-pulse"})},r))})}),e.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:Array.from({length:t}).map((c,r)=>e.jsx("tr",{className:"hover:bg-neutral-50",children:Array.from({length:N}).map(($,h)=>e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"h-4 bg-neutral-200 rounded animate-pulse"})},h))},r))})]})}),kc=({message:t="YÃ¼kleniyor..."})=>e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-neutral-600"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:e.jsx("div",{className:"animate-ping rounded-full h-4 w-4 bg-blue-400"})})]}),e.jsx("p",{className:"mt-6 text-neutral-600 font-medium animate-pulse",children:t}),e.jsx("div",{className:"mt-4 w-64 h-1 bg-neutral-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-600 animate-progress"})}),e.jsx("style",{jsx:!0,children:`
        @keyframes progress {
          0% { width: 0%; }
          50% { width: 70%; }
          100% { width: 100%; }
        }
        .animate-progress {
          animation: progress 1.5s ease-in-out infinite;
        }
      `})]});class Qe extends l.Component{constructor(i){super(i);Yt(this,"handleReload",()=>{window.location.reload()});Yt(this,"handleGoHome",()=>{window.location.href="/"});Yt(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(i){return{hasError:!0,error:i,errorInfo:null}}componentDidCatch(i,c){console.error("ErrorBoundary caught an error:",i,c),this.setState({error:i,errorInfo:c})}render(){if(this.state.hasError){const{fallbackTitle:i,fallbackMessage:c}=this.props,r=!1;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-neutral-50 to-neutral-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-2xl shadow-xl border border-neutral-200 p-8",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(tc,{className:"text-red-600",size:40})})}),e.jsx("h1",{className:"text-3xl font-bold text-neutral-900 text-center mb-4",children:i||"Bir Hata OluÅŸtu"}),e.jsx("p",{className:"text-neutral-600 text-center mb-8",children:c||"ÃœzgÃ¼nÃ¼z, bir ÅŸeyler ters gitti. LÃ¼tfen sayfayÄ± yenileyin veya ana sayfaya dÃ¶nÃ¼n."}),r,e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsxs("button",{onClick:this.handleReload,className:"px-6 py-3 bg-neutral-900 text-white rounded-xl hover:bg-neutral-800 transition-colors flex items-center justify-center gap-2 font-medium",children:[e.jsx(vs,{size:18}),"SayfayÄ± Yenile"]}),e.jsxs("button",{onClick:this.handleGoHome,className:"px-6 py-3 bg-white text-neutral-900 border border-neutral-300 rounded-xl hover:bg-neutral-50 transition-colors flex items-center justify-center gap-2 font-medium",children:[e.jsx(lc,{size:18}),"Ana Sayfaya DÃ¶n"]}),r]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-neutral-200 text-center",children:[e.jsx("p",{className:"text-sm text-neutral-500",children:"Sorun devam ederse, lÃ¼tfen destek ekibiyle iletiÅŸime geÃ§in."}),e.jsxs("p",{className:"text-sm text-neutral-400 mt-2",children:["Hata ID: ",Date.now().toString(36)]})]})]})})}return this.props.children}}const Ge="px-6 py-3 text-left text-xs font-medium text-neutral-600 uppercase tracking-wider bg-neutral-50",Ye="px-6 py-4 text-sm text-neutral-900",$c=l.lazy(()=>Ae(()=>import("./IncomeTab-B8tITPMG.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),Sc=l.lazy(()=>Ae(()=>import("./ExpenseTab-CyKvB_bJ.js"),__vite__mapDeps([8,1,2,3,4,5,6,7]))),Cc=l.lazy(()=>Ae(()=>import("./AccountingDashboard-BLLOzT1H.js"),__vite__mapDeps([9,1,2,3,4,5,6,7,10,11,12,13,14,15])));l.lazy(()=>Ae(()=>import("./AccountCardList-DSuT6czP.js"),__vite__mapDeps([16,1,2,3,4,5,6,10,12,13,15,7])));l.lazy(()=>Ae(()=>import("./EInvoiceList-BewiPaMj.js"),__vite__mapDeps([17,1,2,5,7])));const Tc=l.lazy(()=>Ae(()=>import("./BankReconciliation-DZ1Qn6pA.js"),__vite__mapDeps([18,1,2,7,5]))),Ec=l.lazy(()=>Ae(()=>import("./DeliveryNoteList-LHNwdA3U.js"),__vite__mapDeps([19,1,2,3,4,5,6,7]))),Dc=l.lazy(()=>Ae(()=>import("./InventoryAccounting-CShHsFzl.js"),__vite__mapDeps([20,1,2,7,5]))),Ac=l.lazy(()=>Ae(()=>import("./AdvancedReporting-Dl0EUSkI.js"),__vite__mapDeps([21,1,2,3,4,5,6,7,10,15]))),zc=l.lazy(()=>Ae(()=>import("./CompanyInfo-C4UAubW7.js"),__vite__mapDeps([22,1,2,23,3,4,5,6,7]))),Lc=l.lazy(()=>Ae(()=>import("./CashBankManagement-Crg7gcjR.js"),__vite__mapDeps([24,1,2,23,3,4,5,6,7]))),Bc=l.lazy(()=>Ae(()=>import("./ReminderManagement-Dh7VhWT5.js"),__vite__mapDeps([25,1,2,3,4,5,6]))),Pc=l.lazy(()=>Ae(()=>import("./StatementSharing-3bprCXok.js"),__vite__mapDeps([26,1,2,3,4,5,6]))),Ic=l.lazy(()=>Ae(()=>import("./BarcodeScanner-BqDX6mk0.js"),__vite__mapDeps([27,1,2,5]))),Fc=l.lazy(()=>Ae(()=>import("./NotificationsTab-DI7HG-i7.js"),__vite__mapDeps([28,1,2,7,5]))),_c=l.lazy(()=>Ae(()=>import("./ToolsTab-B_KMsT0V.js"),__vite__mapDeps([29,1,2,30,23,3,4,5,6,7,31]))),Rc=l.lazy(()=>Ae(()=>import("./SupportTab-BN3G7FGn.js"),__vite__mapDeps([32,1,2,30,7,5])));l.lazy(()=>Ae(()=>import("./IntegrationsTab-CHhqMpPP.js"),__vite__mapDeps([31,1,2,5,7])));l.lazy(()=>Ae(()=>import("./CostAccounting-BBGkmX-Z.js"),__vite__mapDeps([33,1,2,7,5])));function Qc(){var Cs,Ts,Es,Ds,As,zs,Ls,Bs,Ps,Is,Fs,_s,Rs,Ms,Os,Gs,Ys,d,De,Ve,Hs,Vs,Us,Ks,qs,Qs,Xs,Zs,Ws,Js,ea,sa,aa,ta,la,ra,tl,ll,rl,nl,il,cl,dl,ol,ml,xl,ul,hl,pl,yl,jl,gl,bl,fl,Nl,vl,wl,kl,$l,Sl,Cl,Tl,El,Dl,Al,zl,Ll,Bl,Pl,Il,Fl,_l,Rl,Ml,Ol,Gl,Yl,Hl,Vl,Ul,Kl,ql,Ql,Xl,Zl,Wl,Jl,er,sr,ar,tr,lr,rr,nr,ir,cr,dr,or,mr,xr,ur,hr,pr,yr,jr,gr,br,fr,Nr,vr,wr,kr,$r,Sr,Cr,Tr,Er,Dr,Ar,zr,Lr,Br,Pr,Ir,Fr,_r,Rr,Mr,Or,Gr,Yr,Hr,Vr,Ur,Kr,qr,Qr,Xr,Zr,Wr,Jr,en,sn,an,tn,ln,rn,nn,cn,dn,on,mn,xn,un,hn,pn,yn,jn,gn,bn,fn,Nn,vn,wn,kn,$n,Sn,Cn,Tn,En,Dn,An,zn,Ln,Bn,Pn,In,Fn,_n,Rn,Mn,On,Gn,Yn,Hn,Vn,Un,Kn,qn,Qn,Xn,Zn,Wn,Jn,ei,si,ai,ti,li,ri,ni,ii,ci,di,oi,mi,xi,ui,hi,pi;if(!s||!s.typography||!s.typography.h2)return console.error("? DESIGN_TOKENS is undefined or incomplete!"),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50",children:e.jsxs("div",{className:"text-center p-8 bg-white rounded-xl shadow-lg max-w-md",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Design System Error"}),e.jsx("p",{className:"text-neutral-700 mb-4",children:"DESIGN_TOKENS failed to load. Please refresh the page."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-neutral-900 text-white rounded-lg hover:bg-neutral-800",children:"Refresh Page"})]})});const[t,N]=l.useState("dashboard"),[i,c]=l.useState(null),[r,$]=l.useState(!0),[h,F]=l.useState([]),[b,ee]=l.useState(!1),[_,v]=l.useState(""),E=Gi(_,500),[C,D]=l.useState(""),[w,Z]=l.useState(1),[A,Te]=l.useState(1),[Se,te]=l.useState("all"),[H,B]=l.useState(""),[W,R]=l.useState(""),[we,he]=l.useState(""),[pe,ye]=l.useState(""),[le,je]=l.useState(!1),[M,Q]=l.useState([]),[V,ge]=l.useState([]),[be,re]=l.useState(!1),[ne,ie]=l.useState(""),se=Gi(ne,500),[J,ce]=l.useState(""),[U,K]=l.useState(1),[ae,fe]=l.useState(1),[O,X]=l.useState([]),[de,oe]=l.useState("all"),[Ne,me]=l.useState(""),[ve,xe]=l.useState(""),[p,o]=l.useState(""),[P,T]=l.useState(""),[g,ue]=l.useState(!1),[Ce,G]=l.useState(null),[y,q]=l.useState(null),[ke,Be]=l.useState([]),[z,ze]=l.useState(!1),[He,ns]=l.useState([]),[is,u]=l.useState(!1),[Y,Ee]=l.useState(null),[Re,$e]=l.useState(!1),[Pe,Me]=l.useState(!1),[cs,Je]=l.useState(null),[es,Ze]=l.useState(!1),[ds,ss]=l.useState(null),[Le,We]=l.useState("checks"),[Ie,os]=l.useState("advanced"),qe=Hi(),[ws]=Ji();l.useEffect(()=>{gt()},[]),l.useEffect(()=>{const a=ws.get("tab");a&&Ss.some(n=>n.id===a)&&N(a)},[ws]),l.useEffect(()=>{t==="invoice"&&(Z(1),ms())},[t,E,C]),l.useEffect(()=>{t==="invoice"&&ms()},[w]),l.useEffect(()=>{t==="offer"&&(K(1),as())},[t,se,J]),l.useEffect(()=>{t==="offer"&&as()},[U]),l.useEffect(()=>{t==="receivables"&&(Le==="checks"?ys():Le==="promissory"?js():Le==="aging"&&Mt())},[t,Le]);const gt=async()=>{var a,n,x;try{$(!0),console.log("?? Loading accounting stats...");const m=await Qi.getStats();console.log("? Stats response:",m.data),c(m.data.data)}catch(m){console.error("? Failed to load accounting stats:",m),console.error("Error details:",(a=m.response)==null?void 0:a.data),S.error("Ä°statistikler yÃ¼klenemedi: "+(((x=(n=m.response)==null?void 0:n.data)==null?void 0:x.message)||m.message))}finally{$(!1)}},ms=async()=>{var a,n,x;try{ee(!0),console.log("?? Loading invoices...",{invoiceStatusFilter:C,debouncedInvoiceSearch:E,currentPage:w});const m=await Xi.getAll({status:C||void 0,search:E||void 0,page:w,limit:10});console.log("? Invoices response:",m.data),F(m.data.data),Te(m.data.pagination.totalPages)}catch(m){console.error("? Failed to load invoices:",m),console.error("Error details:",(a=m.response)==null?void 0:a.data),S.error("Faturalar yÃ¼klenemedi: "+(((x=(n=m.response)==null?void 0:n.data)==null?void 0:x.message)||m.message))}finally{ee(!1)}},ks=()=>{Z(1),ms()},as=async()=>{var a,n,x;try{re(!0),console.log("?? Loading offers...",{offerStatusFilter:J,debouncedOfferSearch:se,offerCurrentPage:U});const m=await Wt.getAll({status:J||void 0,search:se||void 0,page:U,limit:10});console.log("? Offers response:",m.data),ge(m.data.data),fe(m.data.pagination.totalPages)}catch(m){console.error("? Failed to load offers:",m),console.error("Error details:",(a=m.response)==null?void 0:a.data),S.error("Teklifler yÃ¼klenemedi: "+(((x=(n=m.response)==null?void 0:n.data)==null?void 0:x.message)||m.message))}finally{re(!1)}},$s=()=>{K(1),as()},ps=async(a,n)=>{try{await Wt.updateStatus(a,n),S.success("Teklif durumu gÃ¼ncellendi"),as()}catch(x){console.error("Failed to update offer status:",x),S.error("Durum gÃ¼ncellenemedi")}},bt=async a=>{var n,x;if(confirm("Bu teklifi faturaya dÃ¶nÃ¼ÅŸtÃ¼rmek istediÄŸinizden emin misiniz?"))try{const m=new Date().toISOString().split("T")[0],Fe=new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString().split("T")[0],xs=await Wt.convertToInvoice(a,{orderId:a,startDate:m,endDate:Fe,notes:"Tekliften otomatik oluÅŸturuldu"});S.success("Teklif baÅŸarÄ±yla faturaya dÃ¶nÃ¼ÅŸtÃ¼rÃ¼ldÃ¼"),qe(`/accounting/invoice/${xs.data.invoice.id}`)}catch(m){console.error("Failed to convert offer:",m),S.error("DÃ¶nÃ¼ÅŸtÃ¼rme baÅŸarÄ±sÄ±z: "+(((x=(n=m.response)==null?void 0:n.data)==null?void 0:x.message)||m.message))}},ft=a=>{Q(n=>n.includes(a)?n.filter(x=>x!==a):[...n,a])},Nt=()=>{M.length===h.length?Q([]):Q(h.map(a=>a.id))},vt=async()=>{if(confirm(`${M.length} faturayÄ± silmek istediÄŸinizden emin misiniz?`))try{const a="http://localhost:3000/api";for(const n of M)await Ht.delete(`${a}/invoices/${n}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});S.success(`${M.length} fatura silindi`),Q([]),ms()}catch(a){console.error("Bulk delete failed:",a),S.error("Toplu silme baÅŸarÄ±sÄ±z")}},wt=a=>{X(n=>n.includes(a)?n.filter(x=>x!==a):[...n,a])},kt=()=>{O.length===V.length?X([]):X(V.map(a=>a.id))},$t=async()=>{if(confirm(`${O.length} teklifi silmek istediÄŸinizden emin misiniz?`))try{const a="http://localhost:3000/api";for(const n of O)await Ht.delete(`${a}/quotes/${n}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});S.success(`${O.length} teklif silindi`),X([]),as()}catch(a){console.error("Bulk delete failed:",a),S.error("Toplu silme baÅŸarÄ±sÄ±z")}},St=()=>{D(""),v(""),te("all"),B(""),R(""),he(""),ye(""),Z(1)},Ct=()=>{oe("all"),me(""),xe(""),o(""),T(""),ie(""),ce(""),K(1)},Tt=async a=>{try{S.loading("PDF indiriliyor...");const n=await Ht.get(`/api/invoices/${a.id}/pdf`,{responseType:"blob",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),x=window.URL.createObjectURL(new Blob([n.data])),m=document.createElement("a");m.href=x,m.setAttribute("download",`fatura-${a.invoiceNumber||a.id}.pdf`),document.body.appendChild(m),m.click(),m.remove(),S.dismiss(),S.success("PDF indirildi!")}catch(n){S.dismiss(),S.error("PDF indirilemedi"),console.error("Download error:",n)}G(null)},Et=a=>{S("Email gÃ¶nderme Ã¶zelliÄŸi yakÄ±nda eklenecek!",{icon:"??"}),G(null)},Dt=a=>{var Fe;const n=a.customer;if(!(n!=null&&n.phone)){S.error("MÃ¼ÅŸterinin telefon numarasÄ± bulunamadÄ±");return}const x=`Merhaba, ${a.invoiceNumber} numaralÄ± faturanÄ±z hazÄ±r. Toplam: ${(Fe=a.total)==null?void 0:Fe.toFixed(2)} TL`,m=`https://wa.me/${n.phone.replace(/\D/g,"")}?text=${encodeURIComponent(x)}`;window.open(m,"_blank"),S.success("WhatsApp aÃ§Ä±lÄ±yor..."),G(null)},At=a=>{qe(`/accounting/invoice/${a.id}`),setTimeout(()=>window.print(),500),G(null)},zt=async a=>{var n,x;try{const m=`Fatura No: ${a.invoiceNumber}
MÃ¼ÅŸteri: ${(n=a.customer)==null?void 0:n.name}
Tutar: ${(x=a.total)==null?void 0:x.toFixed(2)} TL`;await navigator.clipboard.writeText(m),S.success("Fatura bilgileri kopyalandÄ±!")}catch{S.error("Kopyalama baÅŸarÄ±sÄ±z")}G(null)},Lt=async a=>{try{S.loading("PDF indiriliyor...");const n=await Ht.get(`/api/offers/${a.id}/pdf`,{responseType:"blob",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),x=window.URL.createObjectURL(new Blob([n.data])),m=document.createElement("a");m.href=x,m.setAttribute("download",`teklif-${a.offerNumber||a.id}.pdf`),document.body.appendChild(m),m.click(),m.remove(),S.dismiss(),S.success("PDF indirildi!")}catch(n){S.dismiss(),S.error("PDF indirilemedi"),console.error("Download error:",n)}q(null)},Bt=a=>{S("Email gÃ¶nderme Ã¶zelliÄŸi yakÄ±nda eklenecek!",{icon:"??"}),q(null)},Pt=a=>{var Fe;const n=a.customer;if(!(n!=null&&n.phone)){S.error("MÃ¼ÅŸterinin telefon numarasÄ± bulunamadÄ±");return}const x=`Merhaba, ${a.offerNumber} numaralÄ± teklifimiz hazÄ±r. Toplam: ${(Fe=a.total)==null?void 0:Fe.toFixed(2)} TL`,m=`https://wa.me/${n.phone.replace(/\D/g,"")}?text=${encodeURIComponent(x)}`;window.open(m,"_blank"),S.success("WhatsApp aÃ§Ä±lÄ±yor..."),q(null)},It=a=>{qe(`/accounting/quote/${a.id}`),setTimeout(()=>window.print(),500),q(null)},Ft=async a=>{var n,x;try{const m=`Teklif No: ${a.offerNumber}
MÃ¼ÅŸteri: ${(n=a.customer)==null?void 0:n.name}
Tutar: ${(x=a.total)==null?void 0:x.toFixed(2)} TL`;await navigator.clipboard.writeText(m),S.success("Teklif bilgileri kopyalandÄ±!")}catch{S.error("Kopyalama baÅŸarÄ±sÄ±z")}q(null)},ys=async()=>{var a,n;try{ze(!0);const x=await Ut.getAll({limit:50});Be(x.data.data||x.data)}catch(x){console.error("Failed to load checks:",x),S.error("Ã‡ekler yÃ¯Â¿Â½klenemedi: "+(((n=(a=x.response)==null?void 0:a.data)==null?void 0:n.message)||x.message))}finally{ze(!1)}},js=async()=>{var a,n;try{u(!0);const x=await Kt.getAll({limit:50});ns(x.data.data||x.data)}catch(x){console.error("Failed to load promissory notes:",x),S.error("Senetler yÃ¯Â¿Â½klenemedi: "+(((n=(a=x.response)==null?void 0:a.data)==null?void 0:n.message)||x.message))}finally{u(!1)}},_t=async a=>{var n,x;if(confirm("Bu Ã§eki silmek istediÄŸinizden emin misiniz?"))try{await Ut.delete(a),S.success("Ã‡ek baÅŸarÄ±yla silindi"),ys()}catch(m){console.error("Failed to delete check:",m),S.error("Ã‡ek silinemedi: "+(((x=(n=m.response)==null?void 0:n.data)==null?void 0:x.message)||m.message))}},Rt=async a=>{var n,x;if(confirm("Bu senedi silmek istediÄŸinizden emin misiniz?"))try{await Kt.delete(a),S.success("Senet baÅŸarÄ±yla silindi"),js()}catch(m){console.error("Failed to delete promissory note:",m),S.error("Senet silinemedi: "+(((x=(n=m.response)==null?void 0:n.data)==null?void 0:x.message)||m.message))}},Mt=async()=>{var a,n;try{$e(!0);const x=await Zi.getCombinedAging();Ee(x.data.data||x.data)}catch(x){console.error("Failed to load aging data:",x),S.error("YaÅŸlandÄ±rma verisi alÄ±namadÄ±: "+(((n=(a=x.response)==null?void 0:a.data)==null?void 0:n.message)||x.message))}finally{$e(!1)}},Oe=a=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",minimumFractionDigits:0,maximumFractionDigits:0}).format(a),ts=a=>new Date(a).toLocaleDateString("tr-TR",{year:"numeric",month:"short",day:"numeric"}),Ot=a=>{const n=Li(a,"invoice","md","solid");return e.jsx("span",{className:n.className,children:n.label})},Gt=a=>{const n=Li(a,"offer","md","solid");return e.jsx("span",{className:n.className,children:n.label})},Ss=[{id:"dashboard",label:"Ana Sayfa",icon:e.jsx(sl,{size:18})},{id:"income",label:"Gelirler",icon:e.jsx(Ue,{size:18})},{id:"expense",label:"Giderler",icon:e.jsx(Ke,{size:18})},{id:"reports",label:"Raporlar",icon:e.jsx(Ui,{size:18})},{id:"invoice",label:"Fatura Takibi",icon:e.jsx(rs,{size:18})},{id:"offer",label:"Teklif YÃ¶netimi",icon:e.jsx(el,{size:18})},{id:"current-accounts",label:"Cari Hesaplar",icon:e.jsx(Vt,{size:18})},{id:"receivables",label:"Alacak YÃ¶netimi",icon:e.jsx(Ns,{size:18})},{id:"chart-of-accounts",label:"Hesap PlanÄ±",icon:e.jsx(sl,{size:18})},{id:"inventory",label:"Stok Muhasebesi",icon:e.jsx(Bi,{size:18})},{id:"company",label:"Åžirket Bilgileri",icon:e.jsx(Zt,{size:18})},{id:"cash-bank",label:"Kasa & Banka",icon:e.jsx(rc,{size:18})},{id:"delivery",label:"Ä°rsaliye",icon:e.jsx(Bi,{size:18})},{id:"reconciliation",label:"Banka Mutabakat",icon:e.jsx(Zt,{size:18})},{id:"tools",label:"Ä°ÅŸletme KolaylÄ±klarÄ±",icon:e.jsx(nc,{size:18})},{id:"support",label:"YardÄ±m & AraÃ§lar",icon:e.jsx(Pi,{size:18})}];return e.jsxs("div",{className:"max-w-full mx-auto px-2 sm:px-4 lg:px-6 space-y-4 pb-10",children:[r?e.jsx(wc,{count:4}):e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:j("sm","sm","default","xl"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:_e("success"),children:e.jsx(Ue,{size:20})}),i&&i.invoiceCount>0&&e.jsxs("span",{className:(Ts=(Cs=s)==null?void 0:Cs.statCard)==null?void 0:Ts.badge,children:[i.invoiceCount," fatura"]})]}),e.jsx("h3",{className:(Ds=(Es=s)==null?void 0:Es.statCard)==null?void 0:Ds.value,children:i?Oe(i.totalRevenue):"?0"}),e.jsx("p",{className:(zs=(As=s)==null?void 0:As.statCard)==null?void 0:zs.label,children:"Bu Ay Gelir"})]}),e.jsxs("div",{className:j("sm","sm","default","xl"),children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("div",{className:_e("error"),children:e.jsx(Ke,{size:20})})}),e.jsx("h3",{className:(Bs=(Ls=s)==null?void 0:Ls.statCard)==null?void 0:Bs.value,children:i?Oe(i.totalExpenses):"?0"}),e.jsx("p",{className:(Is=(Ps=s)==null?void 0:Ps.statCard)==null?void 0:Is.label,children:"Bu Ay Gider"})]}),e.jsxs("div",{className:j("sm","sm","default","xl"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:_e("info"),children:e.jsx(Ns,{size:20})}),e.jsx("span",{className:(_s=(Fs=s)==null?void 0:Fs.statCard)==null?void 0:_s.badge,children:"Net"})]}),e.jsx("h3",{className:(Ms=(Rs=s)==null?void 0:Rs.statCard)==null?void 0:Ms.value,children:i?Oe(i.netProfit):"?0"}),e.jsx("p",{className:(Gs=(Os=s)==null?void 0:Os.statCard)==null?void 0:Gs.label,children:"Net KÃ¢r"})]}),e.jsxs("div",{className:j("sm","sm","default","xl"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:_e("warning"),children:e.jsx(al,{size:20})}),e.jsx("span",{className:(d=(Ys=s)==null?void 0:Ys.statCard)==null?void 0:d.badge,children:"Bekleyen"})]}),e.jsx("h3",{className:(Ve=(De=s)==null?void 0:De.statCard)==null?void 0:Ve.value,children:i?Oe(i.totalOverdue):"?0"}),e.jsx("p",{className:(Vs=(Hs=s)==null?void 0:Hs.statCard)==null?void 0:Vs.label,children:"Vade GeÃ§miÅŸ"}),i&&i.totalCollections>0&&e.jsxs("p",{className:(Ks=(Us=s)==null?void 0:Us.statCard)==null?void 0:Ks.subtitle,children:["Bu ay: ",Oe(i.totalCollections)]})]})]}),e.jsx("div",{className:j("none","sm","default","xl"),children:e.jsxs("div",{className:"flex flex-col lg:flex-row",children:[e.jsx("nav",{className:"flex flex-row gap-1 overflow-x-auto border-b border-neutral-200 lg:border-b-0 lg:border-r lg:w-56 lg:flex-col p-2 flex-shrink-0",children:Ss.map(a=>e.jsxs("button",{onClick:()=>N(a.id),className:ls(t===a.id,"vertical"),children:[a.icon,e.jsx("span",{className:"whitespace-nowrap",children:a.label})]},a.id))}),e.jsx("div",{className:"flex-1 p-6 lg:p-8 max-w-7xl mx-auto w-full",children:e.jsx(Qe,{fallbackTitle:"Muhasebe ModÃ¼lÃ¼ HatasÄ±",fallbackMessage:"Muhasebe modÃ¼lÃ¼nde bir sorun oluÅŸtu. LÃ¼tfen sayfayÄ± yenileyin.",children:e.jsxs(l.Suspense,{fallback:e.jsx(kc,{message:"Ä°Ã§erik yÃ¼kleniyor..."}),children:[t==="dashboard"&&e.jsx(Cc,{}),t==="income"&&e.jsx($c,{}),t==="expense"&&e.jsx(Sc,{}),t==="chart-of-accounts"&&e.jsx(gc,{}),t==="current-accounts"&&e.jsx(bc,{}),t==="reports"&&e.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[e.jsx("h2",{className:(Qs=(qs=s)==null?void 0:qs.typography)==null?void 0:Qs.h2,children:"Raporlar"}),e.jsxs("div",{className:"flex gap-4 border-b border-neutral-200 mb-6",children:[e.jsx("button",{onClick:()=>os("advanced"),className:ls(Ie==="advanced","underline"),children:"GeliÅŸmiÅŸ Raporlar"}),e.jsx("button",{onClick:()=>os("trial-balance"),className:ls(Ie==="trial-balance","underline"),children:"Mizan"}),e.jsx("button",{onClick:()=>os("income-statement"),className:ls(Ie==="income-statement","underline"),children:"Gelir-Gider Tablosu"}),e.jsx("button",{onClick:()=>os("balance-sheet"),className:ls(Ie==="balance-sheet","underline"),children:"BilanÃ§o"})]}),Ie==="advanced"&&e.jsx(Ac,{}),Ie==="trial-balance"&&e.jsx(fc,{}),Ie==="income-statement"&&e.jsx(Nc,{}),Ie==="balance-sheet"&&e.jsx(vc,{})]}),t==="receivables"&&e.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[e.jsx("h2",{className:(Zs=(Xs=s)==null?void 0:Xs.typography)==null?void 0:Zs.h2,children:"Alacak YÃ¶netimi"}),e.jsxs("div",{className:"flex gap-4 border-b border-neutral-200 mb-6",children:[e.jsx("button",{onClick:()=>We("checks"),className:ls(Le==="checks","underline"),children:"Ã‡ekler"}),e.jsx("button",{onClick:()=>We("promissory"),className:ls(Le==="promissory","underline"),children:"Senetler"}),e.jsx("button",{onClick:()=>We("aging"),className:ls(Le==="aging","underline"),children:"YaÅŸlandÄ±rma Raporu"})]}),Le==="checks"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:(Js=(Ws=s)==null?void 0:Ws.typography)==null?void 0:Js.h3,children:"Ã‡ekler"}),e.jsxs("button",{onClick:()=>{Je(null),Me(!0)},className:k(f("md","primary","xl"),"gap-2"),children:[e.jsx(rs,{size:18}),"Yeni Ã¯Â¿Â½ek"]})]}),e.jsx("div",{className:j("none","sm","default","xl"),children:z?e.jsx("div",{className:"p-12 text-center text-neutral-600",children:"Ã‡ekler yÃ¼kleniyor..."}):ke.length===0?e.jsx("div",{className:"p-12 text-center text-neutral-600",children:"Ã‡ek bulunamadÄ±"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:Ge,children:"No"}),e.jsx("th",{className:Ge,children:"MÃ¼ÅŸteri"}),e.jsx("th",{className:Ge,children:"Tutar"}),e.jsx("th",{className:Ge,children:"Vade"}),e.jsx("th",{className:Ge,children:"Durum"}),e.jsx("th",{className:Ge,children:"Ä°ÅŸlemler"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-neutral-100",children:ke.map(a=>{var n;return e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:Ye,children:a.documentNumber||`#${a.id}`}),e.jsx("td",{className:Ye,children:((n=a.customer)==null?void 0:n.name)||a.customerName||"-"}),e.jsx("td",{className:Ye,children:Oe(a.amount||0)}),e.jsx("td",{className:Ye,children:a.dueDate?ts(a.dueDate):"-"}),e.jsx("td",{className:Ye,children:a.status||"-"}),e.jsx("td",{className:`${Ye} whitespace-nowrap`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{Je(a),Me(!0)},className:"text-blue-600 hover:text-blue-800 transition-colors p-1 rounded hover:bg-blue-50",title:"DÃ¼zenle",children:e.jsx(qt,{size:16})}),e.jsx("button",{onClick:()=>_t(a.id),className:"text-red-600 hover:text-red-800 transition-colors p-1 rounded hover:bg-red-50",title:"Sil",children:e.jsx(Qt,{size:16})})]})})]},a.id)})})]})})})]}),Le==="promissory"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:(sa=(ea=s)==null?void 0:ea.typography)==null?void 0:sa.h3,children:"Senetler"}),e.jsxs("button",{onClick:()=>{ss(null),Ze(!0)},className:k(f("md","primary","xl"),"gap-2"),children:[e.jsx(rs,{size:18}),"Yeni Senet"]})]}),e.jsx("div",{className:j("none","sm","default","xl"),children:is?e.jsx("div",{className:"p-12 text-center text-neutral-600",children:"Senetler yÃ¼kleniyor..."}):He.length===0?e.jsx("div",{className:"p-12 text-center text-neutral-600",children:"Senet bulunamadÄ±"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full w-full",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:Ge,children:"No"}),e.jsx("th",{className:Ge,children:"MÃ¼ÅŸteri"}),e.jsx("th",{className:Ge,children:"Tutar"}),e.jsx("th",{className:Ge,children:"Vade"}),e.jsx("th",{className:Ge,children:"Durum"}),e.jsx("th",{className:Ge,children:"Ä°ÅŸlemler"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-neutral-100",children:He.map(a=>{var n;return e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:Ye,children:a.documentNumber||`#${a.id}`}),e.jsx("td",{className:Ye,children:((n=a.customer)==null?void 0:n.name)||a.customerName||"-"}),e.jsx("td",{className:Ye,children:Oe(a.amount||0)}),e.jsx("td",{className:Ye,children:a.dueDate?ts(a.dueDate):"-"}),e.jsx("td",{className:Ye,children:a.status||"-"}),e.jsx("td",{className:`${Ye} whitespace-nowrap`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{ss(a),Ze(!0)},className:"text-blue-600 hover:text-blue-800 transition-colors p-1 rounded hover:bg-blue-50",title:"DÃ¼zenle",children:e.jsx(qt,{size:16})}),e.jsx("button",{onClick:()=>Rt(a.id),className:"text-red-600 hover:text-red-800 transition-colors p-1 rounded hover:bg-red-50",title:"Sil",children:e.jsx(Qt,{size:16})})]})})]},a.id)})})]})})})]}),Le==="aging"&&e.jsx("div",{children:e.jsx(yc,{data:Y,loading:Re})})]}),t==="invoice"&&e.jsx(Qe,{fallbackTitle:"Fatura Listesi HatasÄ±",fallbackMessage:"Fatura listesi yÃ¯Â¿Â½klenirken bir sorun oluÅŸtu.",children:e.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:`${((ta=(aa=s)==null?void 0:aa.typography)==null?void 0:ta.h2)||"text-xl font-semibold"} ${((tl=(ra=(la=s)==null?void 0:la.colors)==null?void 0:ra.text)==null?void 0:tl.primary)||"text-neutral-900"}`,children:"Fatura YÃ¶netimi"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>N("ebelge"),className:k(f("md","outline","md"),"gap-2"),title:"E-Fatura oluÅŸtur ve gÃ¯Â¿Â½nder",children:[e.jsx(Pi,{size:18}),"E-Belge"]}),e.jsxs("button",{onClick:()=>qe("/accounting/invoice/new"),className:k(f("md","primary","md"),"gap-2"),children:[e.jsx(rs,{size:18}),"Yeni Fatura"]})]})]}),e.jsxs("div",{className:"bg-white border border-neutral-200 rounded-lg p-4 shadow-sm space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(pt,{className:`absolute left-3 top-3 ${(nl=(rl=(ll=s)==null?void 0:ll.colors)==null?void 0:rl.text)==null?void 0:nl.muted}`,size:18}),e.jsx("input",{type:"text",placeholder:"Fatura no veya mÃ¼ÅŸteri ara...",value:_,onChange:a=>v(a.target.value),onKeyPress:a=>a.key==="Enter"&&ks(),className:k(L("md","default",void 0,"md"),"pl-10")})]}),e.jsxs("div",{className:"relative",children:[e.jsx(fs,{className:`absolute left-3 top-3 ${(dl=(cl=(il=s)==null?void 0:il.colors)==null?void 0:cl.text)==null?void 0:dl.muted}`,size:18}),e.jsxs("select",{value:C,onChange:a=>{D(a.target.value),Z(1)},className:k(L("md","default",void 0,"md"),"pl-10 appearance-none"),children:[e.jsx("option",{value:"",children:"TÃ¼m Durumlar"}),e.jsx("option",{value:"draft",children:"Taslak"}),e.jsx("option",{value:"sent",children:"GÃ¶nderildi"}),e.jsx("option",{value:"paid",children:"Ã–dendi"}),e.jsx("option",{value:"partial_paid",children:"KÄ±smi Ã–deme"}),e.jsx("option",{value:"cancelled",children:"Ä°ptal"})]})]}),e.jsxs("button",{onClick:()=>je(!le),className:k(f("md","outline","md"),"gap-2 justify-center"),children:[e.jsx(fs,{size:18}),le?"Filtreleri Gizle":"GeliÅŸmiÅŸ Filtre"]}),e.jsx("button",{onClick:ks,className:f("md","primary","md"),children:"Ara"})]}),le&&e.jsxs("div",{className:`pt-4 ${(xl=(ml=(ol=s)==null?void 0:ol.colors)==null?void 0:ml.border)==null?void 0:xl.light} border-t space-y-4`,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block ${(pl=(hl=(ul=s)==null?void 0:ul.typography)==null?void 0:hl.label)==null?void 0:pl.lg} ${(gl=(jl=(yl=s)==null?void 0:yl.colors)==null?void 0:jl.text)==null?void 0:gl.secondary} mb-2`,children:"Tarih AralÄ±ÄŸÄ±"}),e.jsxs("select",{value:Se,onChange:a=>te(a.target.value),className:L("md","default",void 0,"md"),children:[e.jsx("option",{value:"all",children:"TÃ¼m Zamanlar"}),e.jsx("option",{value:"7days",children:"Son 7 GÃ¼n"}),e.jsx("option",{value:"30days",children:"Son 30 GÃ¼n"}),e.jsx("option",{value:"custom",children:"Ã–zel Tarih"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${(Nl=(fl=(bl=s)==null?void 0:bl.typography)==null?void 0:fl.label)==null?void 0:Nl.lg} ${(kl=(wl=(vl=s)==null?void 0:vl.colors)==null?void 0:wl.text)==null?void 0:kl.secondary} mb-2`,children:"Min. Tutar (?)"}),e.jsx("input",{type:"number",value:we,onChange:a=>he(a.target.value),placeholder:"0",min:"0",step:"0.01",className:L("md","default",void 0,"md")})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${(Cl=(Sl=($l=s)==null?void 0:$l.typography)==null?void 0:Sl.label)==null?void 0:Cl.lg} ${(Dl=(El=(Tl=s)==null?void 0:Tl.colors)==null?void 0:El.text)==null?void 0:Dl.secondary} mb-2`,children:"Max. Tutar (?)"}),e.jsx("input",{type:"number",value:pe,onChange:a=>ye(a.target.value),placeholder:"999999",min:"0",step:"0.01",className:L("md","default",void 0,"md")})]})]}),Se==="custom"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block ${(Ll=(zl=(Al=s)==null?void 0:Al.typography)==null?void 0:zl.label)==null?void 0:Ll.lg} ${(Il=(Pl=(Bl=s)==null?void 0:Bl.colors)==null?void 0:Pl.text)==null?void 0:Il.secondary} mb-2`,children:"BaÅŸlangÄ±Ã§ Tarihi"}),e.jsx("input",{type:"date",value:H,onChange:a=>B(a.target.value),className:L("md","default",void 0,"md")})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${(Rl=(_l=(Fl=s)==null?void 0:Fl.typography)==null?void 0:_l.label)==null?void 0:Rl.lg} ${(Gl=(Ol=(Ml=s)==null?void 0:Ml.colors)==null?void 0:Ol.text)==null?void 0:Gl.secondary} mb-2`,children:"BitiÅŸ Tarihi"}),e.jsx("input",{type:"date",value:W,onChange:a=>R(a.target.value),className:L("md","default",void 0,"md")})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:St,className:k(f("md","ghost","md"),"gap-2"),children:[e.jsx(ht,{size:18}),"Filtreleri Temizle"]})})]})]}),e.jsx("div",{className:"bg-white border border-neutral-200 rounded-lg shadow-sm overflow-hidden",children:b?e.jsx(Yi,{rows:10,columns:8,showHeader:!0}):h.length===0?e.jsxs("div",{className:`p-12 text-center ${(Vl=(Hl=(Yl=s)==null?void 0:Yl.colors)==null?void 0:Hl.text)==null?void 0:Vl.tertiary}`,children:[e.jsx(rs,{className:`mx-auto mb-4 ${(ql=(Kl=(Ul=s)==null?void 0:Ul.colors)==null?void 0:Kl.text)==null?void 0:ql.muted}`,size:48}),e.jsx("p",{className:`${(Xl=(Ql=s)==null?void 0:Ql.typography)==null?void 0:Xl.h3} ${(Jl=(Wl=(Zl=s)==null?void 0:Zl.colors)==null?void 0:Wl.text)==null?void 0:Jl.secondary}`,children:"Fatura bulunamadÄ±"}),e.jsx("p",{className:`${(ar=(sr=(er=s)==null?void 0:er.typography)==null?void 0:sr.body)==null?void 0:ar.md} mt-2`,children:"Yeni fatura oluÅŸturarak baÅŸlayÄ±n"})]}):e.jsxs(e.Fragment,{children:[M.length>0&&e.jsxs("div",{className:`${(rr=(lr=(tr=s)==null?void 0:tr.colors)==null?void 0:lr.interactive)==null?void 0:rr.default} px-6 py-3 flex items-center justify-between ${(ir=(nr=s)==null?void 0:nr.radius)==null?void 0:ir.lg} rounded-b-none`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:(or=(dr=(cr=s)==null?void 0:cr.typography)==null?void 0:dr.label)==null?void 0:or.lg,children:[M.length," fatura seÃ§ildi"]}),e.jsx("button",{onClick:()=>Q([]),className:`${(ur=(xr=(mr=s)==null?void 0:mr.typography)==null?void 0:xr.body)==null?void 0:ur.md} text-neutral-300 hover:text-white`,children:"SeÃ§imi Temizle"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{onClick:vt,className:f("md","danger","md"),children:"Toplu Sil"})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full w-full",children:[e.jsx("thead",{className:`${(yr=(pr=(hr=s)==null?void 0:hr.colors)==null?void 0:pr.bg)==null?void 0:yr.subtle} ${(br=(gr=(jr=s)==null?void 0:jr.colors)==null?void 0:gr.border)==null?void 0:br.light} border-b`,children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:M.length===h.length&&h.length>0,onChange:Nt,className:`${(Nr=(fr=s)==null?void 0:fr.radius)==null?void 0:Nr.sm} border-neutral-300 text-neutral-900 focus:ring-neutral-900`})}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-neutral-600 uppercase",children:"Fatura No"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-neutral-600 uppercase",children:"MÃ¼ÅŸteri"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-neutral-600 uppercase hidden md:table-cell",children:"Ekipman"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-neutral-600 uppercase hidden lg:table-cell",children:"Tarih"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-neutral-600 uppercase",children:"Tutar"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-neutral-600 uppercase hidden md:table-cell",children:"Durum"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-neutral-600 uppercase",children:"Ä°ÅŸlemler"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:h.map(a=>{var n,x,m,Fe,xs,na,ia,ca,da,oa,ma,xa,ua,ha,pa,ya,ja,ga,ba,fa,Na,va,wa,ka,$a,Sa,Ca,Ta,Ea,Da,Aa,za,La,Ba,Pa,Ia,Fa,_a,Ra,Ma,Oa,Ga,Ya,Ha,Va,Ua,Ka,qa,Qa,Xa,Za,Wa,Ja,et,st,at,tt,lt,rt,nt,it,ct,dt,ot,mt,xt;return e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"checkbox",checked:M.includes(a.id),onChange:()=>ft(a.id),className:"rounded border-neutral-300 text-neutral-900 focus:ring-neutral-900"})}),e.jsx("td",{className:"px-3 py-3 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-neutral-900",children:a.invoiceNumber||`#${a.id}`})}),e.jsx("td",{className:"px-3 py-3",children:e.jsx("div",{className:"text-sm font-medium text-neutral-900",children:a.customer.name})}),e.jsx("td",{className:"px-3 py-3 hidden md:table-cell",children:e.jsx("div",{className:"text-sm text-neutral-900",children:((Fe=(m=(x=(n=a.order)==null?void 0:n.orderItems)==null?void 0:x[0])==null?void 0:m.equipment)==null?void 0:Fe.name)||"-"})}),e.jsx("td",{className:"px-3 py-3 whitespace-nowrap hidden lg:table-cell",children:e.jsx("div",{className:"text-sm text-neutral-900",children:ts(a.invoiceDate)})}),e.jsx("td",{className:"px-3 py-3 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-neutral-900",children:Oe(a.grandTotal)})}),e.jsx("td",{className:"px-3 py-3 whitespace-nowrap hidden md:table-cell",children:Ot(a.status)}),e.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>qe(`/accounting/invoice/${a.id}`),className:"text-neutral-900 hover:text-neutral-700 font-medium hover:underline transition-all",children:"Detay"}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>G(Ce===a.id?null:a.id),className:`p-1 hover:${(ia=(na=(xs=s)==null?void 0:xs.colors)==null?void 0:na.bg)==null?void 0:ia.muted} ${(da=(ca=s)==null?void 0:ca.radius)==null?void 0:da.md} transition-colors`,children:e.jsx(Ii,{size:18,className:(ma=(oa=s)==null?void 0:oa.colors)==null?void 0:ma.text.tertiary})}),Ce===a.id&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>G(null)}),e.jsxs("div",{className:`absolute right-0 mt-2 w-48 ${(ha=(ua=(xa=s)==null?void 0:xa.colors)==null?void 0:ua.bg)==null?void 0:ha.base} ${(ya=(pa=s)==null?void 0:pa.radius)==null?void 0:ya.md} ${(ga=(ja=s)==null?void 0:ja.shadow)==null?void 0:ga.lg} ${(Na=(fa=(ba=s)==null?void 0:ba.colors)==null?void 0:fa.border)==null?void 0:Na.light} border py-1 z-20`,children:[e.jsxs("button",{onClick:()=>Tt(a),className:`w-full px-4 py-2 text-left ${(ka=(wa=(va=s)==null?void 0:va.typography)==null?void 0:wa.body)==null?void 0:ka.md} ${(Ca=(Sa=($a=s)==null?void 0:$a.colors)==null?void 0:Sa.text)==null?void 0:Ca.secondary} hover:${(Da=(Ea=(Ta=s)==null?void 0:Ta.colors)==null?void 0:Ea.bg)==null?void 0:Da.subtle} flex items-center gap-2`,children:[e.jsx(Xe,{size:16}),"PDF Ä°ndir"]}),e.jsxs("button",{onClick:()=>Et(),className:`w-full px-4 py-2 text-left ${(La=(za=(Aa=s)==null?void 0:Aa.typography)==null?void 0:za.body)==null?void 0:La.md} ${(Ia=(Pa=(Ba=s)==null?void 0:Ba.colors)==null?void 0:Pa.text)==null?void 0:Ia.secondary} hover:${(Ra=(_a=(Fa=s)==null?void 0:Fa.colors)==null?void 0:_a.bg)==null?void 0:Ra.subtle} flex items-center gap-2`,children:[e.jsx(Fi,{size:16}),"Email GÃ¼nder"]}),e.jsxs("button",{onClick:()=>Dt(a),className:`w-full px-4 py-2 text-left ${(Ga=(Oa=(Ma=s)==null?void 0:Ma.typography)==null?void 0:Oa.body)==null?void 0:Ga.md} ${(Va=(Ha=(Ya=s)==null?void 0:Ya.colors)==null?void 0:Ha.text)==null?void 0:Va.secondary} hover:${(qa=(Ka=(Ua=s)==null?void 0:Ua.colors)==null?void 0:Ka.bg)==null?void 0:qa.subtle} flex items-center gap-2`,children:[e.jsx(_i,{size:16}),"WhatsApp GÃ¼nder"]}),e.jsxs("button",{onClick:()=>At(a),className:`w-full px-4 py-2 text-left ${(Za=(Xa=(Qa=s)==null?void 0:Qa.typography)==null?void 0:Xa.body)==null?void 0:Za.md} ${(et=(Ja=(Wa=s)==null?void 0:Wa.colors)==null?void 0:Ja.text)==null?void 0:et.secondary} hover:${(tt=(at=(st=s)==null?void 0:st.colors)==null?void 0:at.bg)==null?void 0:tt.subtle} flex items-center gap-2`,children:[e.jsx(Ri,{size:16}),"YazdÄ±r"]}),e.jsxs("button",{onClick:()=>zt(a),className:`w-full px-4 py-2 text-left ${(nt=(rt=(lt=s)==null?void 0:lt.typography)==null?void 0:rt.body)==null?void 0:nt.md} ${(dt=(ct=(it=s)==null?void 0:it.colors)==null?void 0:ct.text)==null?void 0:dt.secondary} hover:${(xt=(mt=(ot=s)==null?void 0:ot.colors)==null?void 0:mt.bg)==null?void 0:xt.subtle} flex items-center gap-2`,children:[e.jsx(Mi,{size:16}),"Kopyala"]})]})]})]})]})})]},a.id)})})]})}),e.jsxs("div",{className:`${(kr=(wr=(vr=s)==null?void 0:vr.colors)==null?void 0:wr.bg)==null?void 0:kr.subtle} px-6 py-4 flex items-center justify-between ${(Cr=(Sr=($r=s)==null?void 0:$r.colors)==null?void 0:Sr.border)==null?void 0:Cr.light} border-t`,children:[e.jsxs("div",{className:`${(Dr=(Er=(Tr=s)==null?void 0:Tr.typography)==null?void 0:Er.body)==null?void 0:Dr.md} ${(Lr=(zr=(Ar=s)==null?void 0:Ar.colors)==null?void 0:zr.text)==null?void 0:Lr.tertiary}`,children:["Sayfa ",w," / ",A]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Z(a=>Math.max(1,a-1)),disabled:w===1,className:k(f("md","outline","md"),"disabled:opacity-50 disabled:cursor-not-allowed"),children:e.jsx(Oi,{size:18})}),e.jsx("button",{onClick:()=>Z(a=>Math.min(A,a+1)),disabled:w===A,className:k(f("md","outline","md"),"disabled:opacity-50 disabled:cursor-not-allowed"),children:e.jsx(us,{size:18})})]})]})]})})]})}),t==="offer"&&e.jsx(Qe,{fallbackTitle:"Teklif Listesi HatasÄ±",fallbackMessage:"Teklif listesi yÃ¯Â¿Â½klenirken bir sorun oluÅŸtu.",children:e.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:`${((Pr=(Br=s)==null?void 0:Br.typography)==null?void 0:Pr.h2)||"text-xl font-semibold"} ${((_r=(Fr=(Ir=s)==null?void 0:Ir.colors)==null?void 0:Fr.text)==null?void 0:_r.primary)||"text-neutral-900"}`,children:"Teklif Listesi"}),e.jsxs("button",{onClick:()=>qe("/accounting/quote/new"),className:k(f("md","primary","md"),"gap-2"),children:[e.jsx(el,{size:18}),"Yeni Teklif"]})]}),e.jsxs("div",{className:"bg-white border border-neutral-200 rounded-lg p-4 shadow-sm space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(pt,{className:`absolute left-3 top-3 ${(Or=(Mr=(Rr=s)==null?void 0:Rr.colors)==null?void 0:Mr.text)==null?void 0:Or.muted}`,size:18}),e.jsx("input",{type:"text",placeholder:"Teklif no veya mÃ¼ÅŸteri ara...",value:ne,onChange:a=>ie(a.target.value),onKeyPress:a=>a.key==="Enter"&&$s(),className:k(L("md","default",void 0,"md"),"pl-10")})]}),e.jsxs("div",{className:"relative",children:[e.jsx(fs,{className:`absolute left-3 top-3 ${(Hr=(Yr=(Gr=s)==null?void 0:Gr.colors)==null?void 0:Yr.text)==null?void 0:Hr.muted}`,size:18}),e.jsxs("select",{value:J,onChange:a=>{ce(a.target.value),K(1)},className:k(L("md","default",void 0,"md"),"pl-10 appearance-none"),children:[e.jsx("option",{value:"",children:"TÃ¼m Durumlar"}),e.jsx("option",{value:"draft",children:"Taslak"}),e.jsx("option",{value:"sent",children:"GÃ¶nderildi"}),e.jsx("option",{value:"accepted",children:"Kabul Edildi"}),e.jsx("option",{value:"rejected",children:"Reddedildi"}),e.jsx("option",{value:"converted",children:"Faturaya DÃ¶nÃ¼ÅŸtÃ¼"}),e.jsx("option",{value:"expired",children:"SÃ¼resi Doldu"})]})]}),e.jsxs("button",{onClick:()=>ue(!g),className:k(f("md","outline","md"),"gap-2 justify-center"),children:[e.jsx(fs,{size:18}),g?"Filtreleri Gizle":"GeliÅŸmiÅŸ Filtre"]}),e.jsx("button",{onClick:$s,className:f("md","primary","md"),children:"Ara"})]}),g&&e.jsxs("div",{className:`pt-4 ${(Kr=(Ur=(Vr=s)==null?void 0:Vr.colors)==null?void 0:Ur.border)==null?void 0:Kr.light} border-t space-y-4 max-w-full`,children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block ${(Xr=(Qr=(qr=s)==null?void 0:qr.typography)==null?void 0:Qr.label)==null?void 0:Xr.lg} ${(Jr=(Wr=(Zr=s)==null?void 0:Zr.colors)==null?void 0:Wr.text)==null?void 0:Jr.secondary} mb-2`,children:"Tarih AralÄ±ÄŸÄ±"}),e.jsxs("select",{value:de,onChange:a=>oe(a.target.value),className:L("md","default",void 0,"md"),children:[e.jsx("option",{value:"all",children:"TÃ¼m Zamanlar"}),e.jsx("option",{value:"7days",children:"Son 7 GÃ¼n"}),e.jsx("option",{value:"30days",children:"Son 30 GÃ¼n"}),e.jsx("option",{value:"custom",children:"Ã–zel Tarih"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${(an=(sn=(en=s)==null?void 0:en.typography)==null?void 0:sn.label)==null?void 0:an.lg} ${(rn=(ln=(tn=s)==null?void 0:tn.colors)==null?void 0:ln.text)==null?void 0:rn.secondary} mb-2`,children:"Min. Tutar (?)"}),e.jsx("input",{type:"number",value:p,onChange:a=>o(a.target.value),placeholder:"0",min:"0",step:"0.01",className:L("md","default",void 0,"md")})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${(dn=(cn=(nn=s)==null?void 0:nn.typography)==null?void 0:cn.label)==null?void 0:dn.lg} ${(xn=(mn=(on=s)==null?void 0:on.colors)==null?void 0:mn.text)==null?void 0:xn.secondary} mb-2`,children:"Max. Tutar (?)"}),e.jsx("input",{type:"number",value:P,onChange:a=>T(a.target.value),placeholder:"999999",min:"0",step:"0.01",className:L("md","default",void 0,"md")})]})]}),de==="custom"&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block ${(pn=(hn=(un=s)==null?void 0:un.typography)==null?void 0:hn.label)==null?void 0:pn.lg} ${(gn=(jn=(yn=s)==null?void 0:yn.colors)==null?void 0:jn.text)==null?void 0:gn.secondary} mb-2`,children:"BaÅŸlangÄ±Ã§ Tarihi"}),e.jsx("input",{type:"date",value:Ne,onChange:a=>me(a.target.value),className:L("md","default",void 0,"md")})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block ${(Nn=(fn=(bn=s)==null?void 0:bn.typography)==null?void 0:fn.label)==null?void 0:Nn.lg} ${(kn=(wn=(vn=s)==null?void 0:vn.colors)==null?void 0:wn.text)==null?void 0:kn.secondary} mb-2`,children:"BitiÅŸ Tarihi"}),e.jsx("input",{type:"date",value:ve,onChange:a=>xe(a.target.value),className:L("md","default",void 0,"md")})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:Ct,className:k(f("md","ghost","md"),"gap-2"),children:[e.jsx(ht,{size:18}),"Filtreleri Temizle"]})})]})]}),e.jsx("div",{className:"bg-white border border-neutral-200 rounded-lg shadow-sm overflow-hidden",children:be?e.jsx(Yi,{rows:10,columns:7,showHeader:!0}):V.length===0?e.jsxs("div",{className:`p-12 text-center ${(Cn=(Sn=($n=s)==null?void 0:$n.colors)==null?void 0:Sn.text)==null?void 0:Cn.tertiary}`,children:[e.jsx(el,{className:`mx-auto mb-4 ${(Dn=(En=(Tn=s)==null?void 0:Tn.colors)==null?void 0:En.text)==null?void 0:Dn.muted}`,size:48}),e.jsx("p",{className:`${(zn=(An=s)==null?void 0:An.typography)==null?void 0:zn.h3} ${(Pn=(Bn=(Ln=s)==null?void 0:Ln.colors)==null?void 0:Bn.text)==null?void 0:Pn.secondary}`,children:"Teklif bulunamadÄ±"}),e.jsx("p",{className:`${(_n=(Fn=(In=s)==null?void 0:In.typography)==null?void 0:Fn.body)==null?void 0:_n.md} mt-2`,children:"Yeni teklif oluÅŸturarak baÅŸlayÄ±n"})]}):e.jsxs(e.Fragment,{children:[O.length>0&&e.jsxs("div",{className:`${(On=(Mn=(Rn=s)==null?void 0:Rn.colors)==null?void 0:Mn.interactive)==null?void 0:On.default} text-white px-6 py-3 flex items-center justify-between rounded-t-${(Yn=(Gn=s)==null?void 0:Gn.radius)==null?void 0:Yn.lg}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:(Un=(Vn=(Hn=s)==null?void 0:Hn.typography)==null?void 0:Vn.label)==null?void 0:Un.lg,children:[O.length," teklif seÃ§ildi"]}),e.jsx("button",{onClick:()=>X([]),className:`${(Qn=(qn=(Kn=s)==null?void 0:Kn.typography)==null?void 0:qn.label)==null?void 0:Qn.md} text-neutral-300 hover:text-white`,children:"SeÃ§imi Temizle"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{onClick:$t,className:f("md","danger","md"),children:"Toplu Sil"})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full w-full",children:[e.jsx("thead",{className:`${(Wn=(Zn=(Xn=s)==null?void 0:Xn.colors)==null?void 0:Zn.bg)==null?void 0:Wn.subtle} ${(si=(ei=(Jn=s)==null?void 0:Jn.colors)==null?void 0:ei.border)==null?void 0:si.light} border-b`,children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:O.length===V.length&&V.length>0,onChange:kt,className:`${(ti=(ai=s)==null?void 0:ai.radius)==null?void 0:ti.sm} border-neutral-300 text-neutral-900 focus:ring-neutral-900`})}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-neutral-600 uppercase",children:"Teklif No"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-neutral-600 uppercase",children:"MÃ¼ÅŸteri"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-neutral-600 uppercase hidden lg:table-cell",children:"Tarih"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-neutral-600 uppercase hidden xl:table-cell",children:"GeÃ¯Â¿Â½erlilik"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-neutral-600 uppercase",children:"Tutar"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-neutral-600 uppercase hidden md:table-cell",children:"Durum"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-neutral-600 uppercase",children:"Ä°ÅŸlemler"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:V.map(a=>{var n,x,m,Fe,xs,na,ia,ca,da,oa,ma,xa,ua,ha,pa,ya,ja,ga,ba,fa,Na,va,wa,ka,$a,Sa,Ca,Ta,Ea,Da,Aa,za,La,Ba,Pa,Ia,Fa,_a,Ra,Ma,Oa,Ga,Ya,Ha,Va,Ua,Ka,qa,Qa,Xa,Za,Wa,Ja,et,st,at,tt,lt,rt,nt,it,ct,dt,ot,mt,xt,yi,ji,gi,bi,fi,Ni,vi,wi,ki,$i,Si,Ci,Ti,Ei,Di,Ai,zi;return e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"checkbox",checked:O.includes(a.id),onChange:()=>wt(a.id),className:"rounded border-neutral-300 text-neutral-900 focus:ring-neutral-900"})}),e.jsx("td",{className:"px-3 py-3 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-neutral-900",children:a.offerNumber})}),e.jsx("td",{className:"px-3 py-3",children:e.jsx("div",{className:"text-sm font-medium text-neutral-900",children:a.customer.name})}),e.jsx("td",{className:"px-3 py-3 whitespace-nowrap hidden lg:table-cell",children:e.jsx("div",{className:"text-sm text-neutral-900",children:ts(a.offerDate)})}),e.jsxs("td",{className:"px-3 py-3 whitespace-nowrap hidden xl:table-cell",children:[e.jsx("div",{className:`text-sm ${new Date(a.validUntil)<new Date?"text-red-600 font-medium":"text-neutral-900"}`,children:ts(a.validUntil)}),new Date(a.validUntil)<new Date&&e.jsx("div",{className:"text-xs text-red-500",children:"SÃ¼resi doldu"})]}),e.jsx("td",{className:"px-3 py-3 whitespace-nowrap",children:e.jsx("span",{className:"text-sm font-semibold text-neutral-900",children:Oe(a.grandTotal)})}),e.jsx("td",{className:"px-3 py-3 whitespace-nowrap hidden md:table-cell",children:Gt(a.status)}),e.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>qe(`/accounting/quote/${a.id}`),className:"text-neutral-900 hover:text-neutral-700 font-medium hover:underline transition-all",children:"Detay"}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>q(y===a.id?null:a.id),className:`p-1 hover:${(m=(x=(n=s)==null?void 0:n.colors)==null?void 0:x.bg)==null?void 0:m.subtle} ${(xs=(Fe=s)==null?void 0:Fe.radius)==null?void 0:xs.md} rounded transition-colors`,children:e.jsx(Ii,{size:18,className:(ia=(na=s)==null?void 0:na.colors)==null?void 0:ia.text.tertiary})}),y===a.id&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>q(null)}),e.jsxs("div",{className:`absolute right-0 mt-2 w-48 bg-white ${(da=(ca=s)==null?void 0:ca.radius)==null?void 0:da.md} rounded ${(ma=(oa=s)==null?void 0:oa.shadow)==null?void 0:ma.lg} ${(ha=(ua=(xa=s)==null?void 0:xa.colors)==null?void 0:ua.border)==null?void 0:ha.light} border py-1 z-20`,children:[a.status==="draft"&&e.jsxs("button",{onClick:()=>{ps(a.id,"sent"),q(null)},className:`w-full px-4 py-2 text-left ${(ja=(ya=(pa=s)==null?void 0:pa.typography)==null?void 0:ya.label)==null?void 0:ja.md} text-blue-600 hover:${(fa=(ba=(ga=s)==null?void 0:ga.colors)==null?void 0:ba.bg)==null?void 0:fa.subtle} flex items-center gap-2`,children:[e.jsx(ic,{size:16}),"GÃ¼nder"]}),a.status==="sent"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>{ps(a.id,"accepted"),q(null)},className:`w-full px-4 py-2 text-left ${(wa=(va=(Na=s)==null?void 0:Na.typography)==null?void 0:va.label)==null?void 0:wa.md} text-green-600 hover:${(Sa=($a=(ka=s)==null?void 0:ka.colors)==null?void 0:$a.bg)==null?void 0:Sa.subtle} flex items-center gap-2`,children:[e.jsx(cc,{size:16}),"Kabul Et"]}),e.jsxs("button",{onClick:()=>{ps(a.id,"rejected"),q(null)},className:`w-full px-4 py-2 text-left ${(Ea=(Ta=(Ca=s)==null?void 0:Ca.typography)==null?void 0:Ta.label)==null?void 0:Ea.md} text-red-600 hover:${(za=(Aa=(Da=s)==null?void 0:Da.colors)==null?void 0:Aa.bg)==null?void 0:za.subtle} flex items-center gap-2`,children:[e.jsx(ht,{size:16}),"Reddet"]})]}),(a.status==="accepted"||a.status==="sent")&&e.jsxs("button",{onClick:()=>{bt(a.id),q(null)},className:`w-full px-4 py-2 text-left ${(Pa=(Ba=(La=s)==null?void 0:La.typography)==null?void 0:Ba.label)==null?void 0:Pa.md} text-neutral-900 hover:${(_a=(Fa=(Ia=s)==null?void 0:Ia.colors)==null?void 0:Fa.bg)==null?void 0:_a.subtle} flex items-center gap-2 font-medium`,children:[e.jsx(rs,{size:16}),"Faturaya DÃ¶nÃ¼ÅŸtÃ¼r"]}),e.jsxs("button",{onClick:()=>Lt(a),className:`w-full px-4 py-2 text-left ${(Oa=(Ma=(Ra=s)==null?void 0:Ra.typography)==null?void 0:Ma.label)==null?void 0:Oa.md} ${(Ha=(Ya=(Ga=s)==null?void 0:Ga.colors)==null?void 0:Ya.text)==null?void 0:Ha.secondary} hover:${(Ka=(Ua=(Va=s)==null?void 0:Va.colors)==null?void 0:Ua.bg)==null?void 0:Ka.subtle} flex items-center gap-2`,children:[e.jsx(Xe,{size:16}),"PDF Ä°ndir"]}),e.jsxs("button",{onClick:()=>Bt(),className:`w-full px-4 py-2 text-left ${(Xa=(Qa=(qa=s)==null?void 0:qa.typography)==null?void 0:Qa.label)==null?void 0:Xa.md} ${(Ja=(Wa=(Za=s)==null?void 0:Za.colors)==null?void 0:Wa.text)==null?void 0:Ja.secondary} hover:${(at=(st=(et=s)==null?void 0:et.colors)==null?void 0:st.bg)==null?void 0:at.subtle} flex items-center gap-2`,children:[e.jsx(Fi,{size:16}),"Email GÃ¼nder"]}),e.jsxs("button",{onClick:()=>Pt(a),className:`w-full px-4 py-2 text-left ${(rt=(lt=(tt=s)==null?void 0:tt.typography)==null?void 0:lt.label)==null?void 0:rt.md} ${(ct=(it=(nt=s)==null?void 0:nt.colors)==null?void 0:it.text)==null?void 0:ct.secondary} hover:${(mt=(ot=(dt=s)==null?void 0:dt.colors)==null?void 0:ot.bg)==null?void 0:mt.subtle} flex items-center gap-2`,children:[e.jsx(_i,{size:16}),"WhatsApp GÃ¼nder"]}),e.jsxs("button",{onClick:()=>It(a),className:`w-full px-4 py-2 text-left ${(ji=(yi=(xt=s)==null?void 0:xt.typography)==null?void 0:yi.label)==null?void 0:ji.md} ${(fi=(bi=(gi=s)==null?void 0:gi.colors)==null?void 0:bi.text)==null?void 0:fi.secondary} hover:${(wi=(vi=(Ni=s)==null?void 0:Ni.colors)==null?void 0:vi.bg)==null?void 0:wi.subtle} flex items-center gap-2`,children:[e.jsx(Ri,{size:16}),"YazdÄ±r"]}),e.jsxs("button",{onClick:()=>Ft(a),className:`w-full px-4 py-2 text-left ${(Si=($i=(ki=s)==null?void 0:ki.typography)==null?void 0:$i.label)==null?void 0:Si.md} ${(Ei=(Ti=(Ci=s)==null?void 0:Ci.colors)==null?void 0:Ti.text)==null?void 0:Ei.secondary} hover:${(zi=(Ai=(Di=s)==null?void 0:Di.colors)==null?void 0:Ai.bg)==null?void 0:zi.subtle} flex items-center gap-2`,children:[e.jsx(Mi,{size:16}),"Kopyala"]})]})]})]})]})})]},a.id)})})]})}),e.jsxs("div",{className:`${(ni=(ri=(li=s)==null?void 0:li.colors)==null?void 0:ri.bg)==null?void 0:ni.subtle} px-6 py-4 flex items-center justify-between ${(di=(ci=(ii=s)==null?void 0:ii.colors)==null?void 0:ci.border)==null?void 0:di.light} border-t`,children:[e.jsxs("div",{className:`${(xi=(mi=(oi=s)==null?void 0:oi.typography)==null?void 0:mi.body)==null?void 0:xi.md} ${(pi=(hi=(ui=s)==null?void 0:ui.colors)==null?void 0:hi.text)==null?void 0:pi.tertiary}`,children:["Sayfa ",U," / ",ae]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>K(a=>Math.max(1,a-1)),disabled:U===1,className:k(f("md","outline","md"),"disabled:opacity-50 disabled:cursor-not-allowed"),children:e.jsx(Oi,{size:18})}),e.jsx("button",{onClick:()=>K(a=>Math.min(ae,a+1)),disabled:U===ae,className:k(f("md","outline","md"),"disabled:opacity-50 disabled:cursor-not-allowed"),children:e.jsx(us,{size:18})})]})]})]})})]})}),t==="delivery"&&e.jsx(Ec,{}),t==="reconciliation"&&e.jsx(Tc,{}),t==="inventory"&&e.jsx(Dc,{}),t==="company"&&e.jsx(zc,{}),t==="cash-bank"&&e.jsx(Lc,{}),t==="tools"&&e.jsx(Qe,{children:e.jsx(_c,{onNavigate:a=>N(a)})}),!1,t==="advisor"&&e.jsx(Qe,{children:e.jsx(AdvisorTab,{})}),!1,t==="support"&&e.jsx(Qe,{children:e.jsx(Rc,{})}),!1,t==="reminders"&&e.jsx(Qe,{children:e.jsx(Bc,{})}),t==="statements"&&e.jsx(Qe,{children:e.jsx(Pc,{})}),t==="barcode"&&e.jsx(Qe,{children:e.jsx(Ic,{})}),t==="notifications"&&e.jsx(Qe,{children:e.jsx(Fc,{})}),!1]})})})]})}),Pe&&e.jsx(hc,{open:Pe,onClose:()=>Me(!1),onSaved:()=>ys(),initial:cs||void 0}),es&&e.jsx(pc,{open:es,onClose:()=>Ze(!1),onSaved:()=>js(),initial:ds||void 0})]})}export{Qc as default};
