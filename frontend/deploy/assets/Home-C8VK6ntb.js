const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jspdf.es.min-Dik3v6sZ.js","assets/index-C00KFl1S.js","assets/react-vendor-DBHNAGPW.js","assets/chart-vendor-R5Y1AjBI.js","assets/state-vendor-JOdu_MDH.js","assets/ui-vendor-CIs_GH3f.js","assets/index-B65EtHkh.css"])))=>i.map(i=>d[i]);
import{R as E,j as e,r as g,L as ce}from"./react-vendor-DBHNAGPW.js";import{_ as U,a as z}from"./index-C00KFl1S.js";import{f as y}from"./format-Dpnjph-B.js";import{t as oe,c as xe}from"./longFormatters-CHeuiwJ9.js";import{C as ue,a as me,b as he,P as be,c as ge,p as je,d as pe,e as fe,i as Ne}from"./chart-vendor-R5Y1AjBI.js";import{D as S,v as N,R as k,w as ve,x as ye,f as w,y as q,z as H,E as V,J as W,K as we,N as Z,P as ke,Z as De,S as J,e as Ce,A as Q,i as ze}from"./ui-vendor-CIs_GH3f.js";import{R as L,T as A,C as ee}from"./CategoricalChart-C69NJt_p.js";import{L as Se,a as Ee}from"./LineChart-CinkcQtg.js";import{C as te,X as se,Y as ae,B as Te,a as Re}from"./BarChart-DwvJ3Z4S.js";import{L as le}from"./Legend-DPEPPdzH.js";import{P as Pe,a as Le}from"./PieChart-B4LqhFyg.js";import{u as P,w as Ae}from"./xlsx-DrgRuPKf.js";import"./state-vendor-JOdu_MDH.js";function _e(s,r,t){const l=oe(s,t==null?void 0:t.in);return isNaN(r)?xe(s,NaN):(r&&l.setDate(l.getDate()+r),l)}function T(s,r,t){return _e(s,-r,t)}const Me=[{label:"Son 7 GÃ¼n",startDate:T(new Date,7),endDate:new Date},{label:"Son 30 GÃ¼n",startDate:T(new Date,30),endDate:new Date},{label:"Son 90 GÃ¼n",startDate:T(new Date,90),endDate:new Date},{label:"Bu YÄ±l",startDate:new Date(new Date().getFullYear(),0,1),endDate:new Date}],Fe=({selectedRange:s,onRangeChange:r})=>{const[t,l]=E.useState(!1),[d,o]=E.useState(""),[m,n]=E.useState(""),a=i=>{r(i),l(!1)},u=()=>{d&&m&&(r({label:"Ã–zel Tarih",startDate:new Date(d),endDate:new Date(m)}),l(!1))};return e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-neutral-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-neutral-700",children:"ðŸ“… Tarih AralÄ±ÄŸÄ±"}),e.jsxs("span",{className:"text-xs text-gray-500",children:[y(s.startDate,"dd/MM/yyyy")," -"," ",y(s.endDate,"dd/MM/yyyy")]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[Me.map(i=>e.jsx("button",{onClick:()=>a(i),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-colors ${s.label===i.label?"bg-neutral-900 text-white":"bg-neutral-100 text-neutral-700 hover:bg-neutral-200"}`,children:i.label},i.label)),e.jsx("button",{onClick:()=>l(!t),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-colors ${t||s.label==="Ã–zel Tarih"?"bg-neutral-900 text-white":"bg-neutral-100 text-neutral-700 hover:bg-neutral-200"}`,children:"Ã–zel Tarih"})]}),t&&e.jsxs("div",{className:"flex items-end gap-2 p-3 bg-neutral-50 rounded-md",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs font-medium text-neutral-700 mb-1",children:"BaÅŸlangÄ±Ã§"}),e.jsx("input",{type:"date",value:d,onChange:i=>o(i.target.value),className:"w-full px-2 py-1.5 text-xs border border-neutral-300 rounded-md focus:ring-2 focus:ring-neutral-900 focus:border-transparent"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs font-medium text-neutral-700 mb-1",children:"BitiÅŸ"}),e.jsx("input",{type:"date",value:m,onChange:i=>n(i.target.value),className:"w-full px-2 py-1.5 text-xs border border-neutral-300 rounded-md focus:ring-2 focus:ring-neutral-900 focus:border-transparent"})]}),e.jsx("button",{onClick:u,disabled:!d||!m,className:"px-4 py-1.5 text-xs font-medium text-white bg-neutral-900 rounded-md hover:bg-neutral-800 disabled:bg-neutral-300 disabled:cursor-not-allowed transition-colors",children:"Uygula"})]})]})};ue.register(me,he,be,ge,je,pe,fe,Ne);const $e=({data:s,loading:r=!1,error:t})=>{const[l,d]=g.useState(null);g.useEffect(()=>{s&&d({labels:s.labels,datasets:[{label:"Gelir (â‚º)",data:s.data,fill:!0,borderColor:"rgb(64, 64, 64)",backgroundColor:"rgba(64, 64, 64, 0.1)",tension:.4,pointRadius:4,pointHoverRadius:6,pointBackgroundColor:"rgb(64, 64, 64)",pointBorderColor:"#fff",pointBorderWidth:2}]})},[s]);const o={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleColor:"#fff",bodyColor:"#fff",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,displayColors:!1,callbacks:{label:function(m){var a;return"â‚º"+(((a=m.parsed)==null?void 0:a.y)??0).toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})}}}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)",drawBorder:!1},ticks:{callback:function(m){return"â‚º"+m.toLocaleString("tr-TR")},color:"#64748b",font:{size:11}}},x:{grid:{display:!1,drawBorder:!1},ticks:{color:"#64748b",font:{size:11}}}}};return r?e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Gelir Analizi"}),e.jsx(S,{className:"w-5 h-5 text-neutral-700"})]}),e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-neutral-900"})})]}):t?e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Gelir Analizi"}),e.jsx(S,{className:"w-5 h-5 text-neutral-700"})]}),e.jsx("div",{className:"flex items-center justify-center h-64 text-neutral-700",children:e.jsx("p",{children:t})})]}):!s||!l?e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Gelir Analizi"}),e.jsx(S,{className:"w-5 h-5 text-neutral-700"})]}),e.jsx("div",{className:"flex items-center justify-center h-64 text-neutral-500",children:e.jsx("p",{children:"Veri bulunamadÄ±"})})]}):e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Gelir Analizi"}),e.jsx("p",{className:"text-sm text-neutral-500 mt-1",children:"Son 6 aylÄ±k gelir trendi"})]}),e.jsx(S,{className:"w-5 h-5 text-neutral-700"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsx("div",{className:"bg-neutral-50 border border-neutral-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-neutral-600",children:"Toplam Gelir"}),e.jsxs("p",{className:"text-2xl font-bold text-neutral-900 mt-1",children:["â‚º",((s==null?void 0:s.total)??0).toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsx(N,{className:"w-8 h-8 text-neutral-700"})]})}),e.jsx("div",{className:"bg-neutral-50 border border-neutral-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-neutral-600",children:"AylÄ±k Ortalama"}),e.jsxs("p",{className:"text-2xl font-bold text-neutral-900 mt-1",children:["â‚º",((s==null?void 0:s.average)??0).toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsx("div",{className:"text-neutral-700 text-sm font-medium",children:"/ay"})]})})]}),e.jsx("div",{className:"h-64",children:e.jsx(ce,{data:l,options:o})})]})},Be=({data:s,isLoading:r})=>{var a,u;if(r)return e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-neutral-200",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-6 bg-neutral-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"h-64 bg-neutral-100 rounded"})]})});const t=s.reduce((i,h)=>i+h.utilizationRate,0)/s.length,l=Math.max(...s.map(i=>i.utilizationRate)),d=((a=s[s.length-1])==null?void 0:a.utilizationRate)||0,o=i=>i>=80?"text-neutral-900":i>=60?"text-neutral-700":"text-neutral-600",m=i=>i>=80?"bg-neutral-100":(i>=60,"bg-neutral-50"),n=({active:i,payload:h})=>{if(i&&h&&h.length){const j=h[0].value;return e.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-lg border border-neutral-200",children:[e.jsx("p",{className:"text-xs font-semibold text-neutral-700 mb-2",children:y(new Date(h[0].payload.date),"dd MMM yyyy")}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-xs",children:["ðŸ“Š KullanÄ±m: ",e.jsxs("span",{className:"font-semibold",children:[j.toFixed(1),"%"]})]}),e.jsxs("p",{className:"text-xs text-neutral-600",children:["ðŸ”§ Aktif: ",h[0].payload.activeRentals," /"," ",h[0].payload.totalEquipment]})]})]})}return null};return e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-neutral-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"ðŸ“Š Ekipman KullanÄ±m OranÄ±"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Kiralanan ekipman yÃ¼zdesi (gÃ¼nlÃ¼k)"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`text-2xl font-bold ${o(d)}`,children:[d.toFixed(1),"%"]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"GÃ¼ncel Oran"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:`p-3 rounded-lg ${m(t)}`,children:[e.jsx("div",{className:"text-xs text-neutral-600 mb-1",children:"Ortalama"}),e.jsxs("div",{className:`text-xl font-bold ${o(t)}`,children:[t.toFixed(1),"%"]})]}),e.jsxs("div",{className:`p-3 rounded-lg ${m(l)}`,children:[e.jsx("div",{className:"text-xs text-neutral-600 mb-1",children:"En YÃ¼ksek"}),e.jsxs("div",{className:`text-xl font-bold ${o(l)}`,children:[l.toFixed(1),"%"]})]}),e.jsxs("div",{className:"bg-neutral-50 p-3 rounded-lg",children:[e.jsx("div",{className:"text-xs text-neutral-600 mb-1",children:"Toplam Ekipman"}),e.jsx("div",{className:"text-xl font-bold text-neutral-700",children:((u=s[s.length-1])==null?void 0:u.totalEquipment)||0})]})]}),e.jsx("div",{className:"mb-4 p-3 bg-neutral-100 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-lg",children:"ðŸ’¡"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-neutral-900 mb-1",children:"Performans Ä°pucu"}),e.jsx("p",{className:"text-xs text-neutral-700",children:t>=80?"KullanÄ±m Ã§ok yÃ¼ksek! Yeni ekipman alÄ±mÄ± dÃ¼ÅŸÃ¼nÃ¼lebilir.":t>=60?"Ä°yi bir kullanÄ±m oranÄ±! Mevcut kapasite yeterli.":"DÃ¼ÅŸÃ¼k kullanÄ±m. Pazarlama ve fiyatlandÄ±rma stratejisi gÃ¶zden geÃ§irilebilir."})]})]})}),e.jsx(L,{width:"100%",height:250,children:e.jsxs(Se,{data:s,children:[e.jsx(te,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(se,{dataKey:"date",tickFormatter:i=>y(new Date(i),"dd MMM"),tick:{fontSize:11,fill:"#6b7280"},stroke:"#e5e7eb"}),e.jsx(ae,{domain:[0,100],tickFormatter:i=>`${i}%`,tick:{fontSize:11,fill:"#6b7280"},stroke:"#e5e7eb"}),e.jsx(A,{content:e.jsx(n,{})}),e.jsx(le,{wrapperStyle:{fontSize:"12px",paddingTop:"10px"},iconType:"circle"}),e.jsx(Ee,{type:"monotone",dataKey:"utilizationRate",name:"KullanÄ±m OranÄ± (%)",stroke:"#171717",strokeWidth:3,dot:{fill:"#171717",r:4},activeDot:{r:6},animationDuration:1e3})]})})]})},Ge=({data:s,isLoading:r})=>{if(r)return e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-neutral-200",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-6 bg-neutral-200 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-64 bg-neutral-100 rounded"})]})});const t=s.reduce((n,a)=>n+a.count,0),l={PENDING:"Beklemede",APPROVED:"OnaylandÄ±",ACTIVE:"Aktif",COMPLETED:"TamamlandÄ±",CANCELLED:"Ä°ptal Edildi"},d={PENDING:"â³",APPROVED:"âœ…",ACTIVE:"ðŸ”„",COMPLETED:"âœ”ï¸",CANCELLED:"âŒ"},o=({active:n,payload:a})=>{if(n&&a&&a.length){const u=(a[0].value/t*100).toFixed(1);return e.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-lg border border-neutral-200",children:[e.jsxs("p",{className:"text-xs font-semibold text-neutral-700 mb-2",children:[d[a[0].payload.status]," ",l[a[0].payload.status]||a[0].payload.status]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-xs",children:["SayÄ±: ",e.jsx("span",{className:"font-semibold",children:a[0].value})]}),e.jsxs("p",{className:"text-xs text-neutral-600",children:["Oran: ",u,"%"]})]})]})}return null},m=n=>`${(n.count/t*100).toFixed(0)}%`;return e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-neutral-200",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"ðŸ“‹ SipariÅŸ Durumu DaÄŸÄ±lÄ±mÄ±"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mevcut sipariÅŸlerin durum analizi"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-neutral-100 to-neutral-200 p-4 rounded-lg",children:[e.jsx("div",{className:"text-xs text-neutral-700 mb-1",children:"Toplam SipariÅŸ"}),e.jsx("div",{className:"text-3xl font-bold text-neutral-900",children:t})]}),e.jsxs("div",{className:"bg-gradient-to-br from-neutral-100 to-neutral-200 p-4 rounded-lg",children:[e.jsx("div",{className:"text-xs text-neutral-700 mb-1",children:"Aktif Durum"}),e.jsx("div",{className:"text-3xl font-bold text-neutral-900",children:s.length})]})]}),e.jsx(L,{width:"100%",height:300,children:e.jsxs(Pe,{children:[e.jsx(Le,{data:s,cx:"50%",cy:"50%",labelLine:!1,label:m,outerRadius:100,innerRadius:60,fill:"#8884d8",dataKey:"count",animationDuration:1e3,children:s.map((n,a)=>e.jsx(ee,{fill:n.color},`cell-${a}`))}),e.jsx(A,{content:e.jsx(o,{})})]})}),e.jsx("div",{className:"mt-6 space-y-2",children:s.map(n=>{const a=(n.count/t*100).toFixed(1);return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-neutral-50 rounded-lg hover:bg-neutral-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:n.color}}),e.jsxs("span",{className:"text-sm font-medium text-neutral-700",children:[d[n.status]," ",l[n.status]||n.status]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-800",children:[n.count," adet"]}),e.jsxs("span",{className:"text-xs text-gray-500 w-12 text-right",children:[a,"%"]})]})]},n.status)})})]})},X=["#171717","#262626","#404040","#525252","#737373","#a3a3a3","#d4d4d4","#525252","#404040","#262626"],Ie=({data:s,isLoading:r})=>{if(r)return e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-neutral-200",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-6 bg-neutral-200 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-64 bg-neutral-100 rounded"})]})});const t=n=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",minimumFractionDigits:0,maximumFractionDigits:0}).format(n),l=s.reduce((n,a)=>n+a.revenue,0),d=s.reduce((n,a)=>n+a.rentCount,0),o=s[0],m=({active:n,payload:a})=>n&&a&&a.length?e.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-lg border border-neutral-200",children:[e.jsxs("p",{className:"text-xs font-semibold text-neutral-700 mb-2",children:["ðŸ”§ ",a[0].payload.name]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-xs",children:["ðŸ“¦ Kiralama: ",e.jsxs("span",{className:"font-semibold",children:[a[0].value," kez"]})]}),e.jsxs("p",{className:"text-xs text-neutral-700",children:["ðŸ’° Gelir: ",t(a[0].payload.revenue)]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Ort: ",t(a[0].payload.revenue/a[0].value)]})]})]}):null;return e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-neutral-200",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"ðŸ† En PopÃ¼ler Ekipmanlar"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Kiralama sÄ±klÄ±ÄŸÄ±na gÃ¶re sÄ±ralama"})]}),o&&e.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-neutral-100 to-neutral-200 border-2 border-neutral-300 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-3xl",children:"ðŸ¥‡"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-gray-800",children:o.name}),e.jsx("div",{className:"text-xs text-neutral-600 mt-1",children:"En Ã§ok kiralanan ekipman"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-neutral-900",children:o.rentCount}),e.jsx("div",{className:"text-xs text-neutral-600",children:"kiralama"})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-neutral-100 p-3 rounded-lg",children:[e.jsx("div",{className:"text-xs text-neutral-600 mb-1",children:"Toplam Kiralama"}),e.jsx("div",{className:"text-xl font-bold text-neutral-900",children:d})]}),e.jsxs("div",{className:"bg-neutral-100 p-3 rounded-lg",children:[e.jsx("div",{className:"text-xs text-neutral-600 mb-1",children:"Toplam Gelir"}),e.jsx("div",{className:"text-xl font-bold text-neutral-900",children:t(l)})]})]}),e.jsx(L,{width:"100%",height:350,children:e.jsxs(Te,{data:s,layout:"horizontal",children:[e.jsx(te,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(se,{type:"number",tick:{fontSize:11,fill:"#6b7280"},stroke:"#e5e7eb"}),e.jsx(ae,{type:"category",dataKey:"name",width:120,tick:{fontSize:10,fill:"#6b7280"},stroke:"#e5e7eb"}),e.jsx(A,{content:e.jsx(m,{})}),e.jsx(le,{wrapperStyle:{fontSize:"12px",paddingTop:"10px"},iconType:"circle"}),e.jsx(Re,{dataKey:"rentCount",name:"Kiralama SayÄ±sÄ±",radius:[0,8,8,0],animationDuration:1e3,children:s.map((n,a)=>e.jsx(ee,{fill:X[a%X.length]},`cell-${a}`))})]})}),e.jsx("div",{className:"mt-6 p-4 bg-neutral-100 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-lg",children:"ðŸ’¡"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-neutral-900 mb-1",children:"Strateji Ã–nerisi"}),e.jsx("p",{className:"text-xs text-neutral-700",children:"En popÃ¼ler ekipmanlarÄ±nÄ±zÄ±n stoÄŸunu artÄ±rarak daha fazla gelir elde edebilirsiniz. AyrÄ±ca benzer ekipman yatÄ±rÄ±mlarÄ± dÃ¼ÅŸÃ¼nÃ¼lebilir."})]})]})})]})},Oe=(s,r)=>{try{const t=P.json_to_sheet(s),l=P.book_new();P.book_append_sheet(l,t,"Data");const d=y(new Date,"yyyy-MM-dd_HH-mm-ss"),o=`${r}_${d}.xlsx`;return Ae(l,o),{success:!0,filename:o}}catch(t){return console.error("Excel export error:",t),{success:!1,error:"Excel dosyasÄ± oluÅŸturulamadÄ±"}}},Ke=async(s,r)=>{try{const t=(await U(async()=>{const{default:p}=await import("./jspdf.es.min-Dik3v6sZ.js");return{default:p}},__vite__mapDeps([0,1,2,3,4,5,6]))).default,l=(await U(async()=>{const{default:p}=await import("./html2canvas.esm-CBrSDip1.js");return{default:p}},[])).default,d=document.getElementById(s);if(!d)throw new Error("Element not found");const o=await l(d,{scale:2,logging:!1,useCORS:!0}),m=o.toDataURL("image/png"),n=210,a=297,u=o.height*n/o.width,i=new t("p","mm","a4");let h=u,j=0;for(i.addImage(m,"PNG",0,j,n,u),h-=a;h>0;)j=h-u,i.addPage(),i.addImage(m,"PNG",0,j,n,u),h-=a;const c=y(new Date,"yyyy-MM-dd_HH-mm-ss"),x=`${r}_${c}.pdf`;return i.save(x),{success:!0}}catch(t){return console.error("PDF export error:",t),{success:!1,error:"PDF dosyasÄ± oluÅŸturulamadÄ±"}}},Ye=s=>{const r=document.getElementById(s);if(!r){console.error("Element not found");return}const t=window.open("","_blank");if(!t){console.error("Could not open print window");return}t.document.write(`
    <!DOCTYPE html>
    <html>
      <head>
        <title>YazdÄ±r</title>
        <style>
          body { 
            margin: 20px; 
            font-family: Arial, sans-serif; 
          }
          @media print {
            body { margin: 0; }
          }
        </style>
      </head>
      <body>
        ${r.innerHTML}
      </body>
    </html>
  `),t.document.close(),t.focus(),setTimeout(()=>{t.print(),t.close()},250)},Ue=({data:s,filename:r,chartElementId:t})=>{const[l,d]=E.useState(!1),o=async()=>{d(!0);try{const a=Oe(s,r);a.success?alert(`âœ… Excel dosyasÄ± indirildi: ${a.filename}`):alert(`âŒ Hata: ${a.error}`)}catch{alert("âŒ Excel dÄ±ÅŸa aktarma hatasÄ±")}finally{d(!1)}},m=async()=>{d(!0);try{const a=await Ke(t,r);a.success?alert("âœ… PDF dosyasÄ± indirildi"):alert(`âŒ Hata: ${a.error}`)}catch{alert("âŒ PDF dÄ±ÅŸa aktarma hatasÄ±")}finally{d(!1)}},n=()=>{Ye(t)};return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:o,disabled:l,className:"px-3 py-1.5 text-xs font-medium text-neutral-700 bg-neutral-100 rounded-md hover:bg-neutral-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-1",title:"Excel olarak indir",children:"ðŸ“Š Excel"}),e.jsx("button",{onClick:m,disabled:l,className:"px-3 py-1.5 text-xs font-medium text-neutral-700 bg-neutral-100 rounded-md hover:bg-neutral-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-1",title:"PDF olarak indir",children:"ðŸ“„ PDF"}),e.jsx("button",{onClick:n,disabled:l,className:"px-3 py-1.5 text-xs font-medium text-neutral-700 bg-neutral-100 rounded-md hover:bg-neutral-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-1",title:"YazdÄ±r",children:"ðŸ–¨ï¸ YazdÄ±r"}),l&&e.jsx("span",{className:"text-xs text-gray-500 animate-pulse",children:"Ä°ÅŸleniyor..."})]})},v=({title:s,value:r,subtitle:t,icon:l,trend:d,percentage:o,color:m="blue",loading:n=!1})=>{const a={blue:"bg-neutral-100 text-neutral-900",green:"bg-neutral-100 text-neutral-900",orange:"bg-neutral-100 text-neutral-900",red:"bg-neutral-100 text-neutral-900",purple:"bg-neutral-100 text-neutral-900"},u={positive:"text-neutral-900 bg-neutral-100",negative:"text-neutral-700 bg-neutral-100",neutral:"text-neutral-600 bg-neutral-50"},i=()=>d?d.isPositive?e.jsx(N,{size:14}):d.value<0?e.jsx(ve,{size:14}):e.jsx(ye,{size:14}):null,h=()=>d?d.isPositive?"positive":d.value<0?"negative":"neutral":"neutral";return n?e.jsxs("div",{className:"bg-white rounded-2xl border border-neutral-200 p-6 animate-pulse",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-neutral-200 rounded-xl"}),e.jsx("div",{className:"w-8 h-4 bg-neutral-200 rounded"})]}),e.jsx("div",{className:"h-8 bg-neutral-200 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-neutral-200 rounded w-2/3 mb-4"}),e.jsx("div",{className:"h-4 bg-neutral-200 rounded w-1/2"})]}):e.jsxs("div",{className:"bg-white rounded-2xl border border-neutral-200 p-6 hover:shadow-lg transition-shadow duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${a[m]}`,children:l}),o!==void 0&&e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${o>0?u.positive:o<0?u.negative:u.neutral}`,children:[o>0?"+":"",o,"%"]})})]}),e.jsx("h3",{className:"text-3xl font-bold text-neutral-900 mb-1",children:typeof r=="number"?r.toLocaleString("tr-TR"):r}),e.jsx("p",{className:"text-sm text-neutral-600 mb-4",children:t}),d&&e.jsxs("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${u[h()]}`,children:[i(),e.jsxs("span",{className:"ml-1",children:[Math.abs(d.value),"% ",d.period]})]}),s&&e.jsx("div",{className:"mt-2 text-xs text-neutral-500 font-medium",children:s})]})},qe=({stats:s,loading:r=!1,onRefresh:t})=>{var m,n,a,u,i,h,j,c,x,p;const[l,d]=g.useState(!1),o=async()=>{t&&(d(!0),await t(),d(!1))};return s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:"Analitik Ã–zeti"}),e.jsx("p",{className:"text-neutral-600",children:"GerÃ§ek zamanlÄ± iÅŸ metrikleri ve iÃ§gÃ¶rÃ¼ler"})]}),e.jsxs("button",{onClick:o,disabled:l,className:"flex items-center px-4 py-2 bg-neutral-900 text-white rounded-xl hover:bg-neutral-800 transition-colors duration-200 disabled:opacity-50",children:[e.jsx(k,{size:16,className:`mr-2 ${l?"animate-spin":""}`}),"Yenile"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(v,{title:"Gelir PerformansÄ±",value:`â‚º${(((m=s.revenue)==null?void 0:m.total)||0).toLocaleString("tr-TR")}`,subtitle:"Toplam Gelir",icon:e.jsx(N,{size:24}),trend:{value:((n=s.revenue)==null?void 0:n.monthly)>0?Math.round(s.revenue.monthly/s.revenue.total*100):0,period:"bu ay",isPositive:!0},color:"green",loading:r}),e.jsx(v,{title:"SipariÅŸ Analizi",value:((a=s.orders)==null?void 0:a.active)||0,subtitle:"Aktif SipariÅŸler",icon:e.jsx(k,{size:24}),trend:{value:((u=s.orders)==null?void 0:u.total)>0?Math.round(s.orders.active/s.orders.total*100):0,period:"toplam",isPositive:!0},color:"blue",loading:r}),e.jsx(v,{title:"Ekipman VerimliliÄŸi",value:`${((i=s.equipment)==null?void 0:i.utilization)||0}%`,subtitle:"KullanÄ±m OranÄ±",icon:e.jsx(N,{size:24}),trend:{value:2.1,period:"bu ay",isPositive:!0},percentage:-1.3,color:"orange",loading:r}),e.jsx(v,{title:"MÃ¼ÅŸteri BÃ¼yÃ¼mesi",value:((h=s.customers)==null?void 0:h.total)||0,subtitle:"Toplam MÃ¼ÅŸteri",icon:e.jsx(N,{size:24}),trend:{value:15.8,period:"bu Ã§eyrek",isPositive:!0},percentage:15.8,color:"purple",loading:r})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(v,{title:"Ortalama SipariÅŸ DeÄŸeri",value:`â‚º${(((j=s.orders)==null?void 0:j.avgValue)||0).toLocaleString("tr-TR")}`,subtitle:"SipariÅŸ BaÅŸÄ±na",icon:e.jsx(N,{size:24}),trend:{value:8.7,period:"bu ay",isPositive:!0},color:"green",loading:r}),e.jsx(v,{title:"Bekleyen Ã–demeler",value:`â‚º${(((c=s.payments)==null?void 0:c.pending)||0).toLocaleString("tr-TR")}`,subtitle:"Tahsil Edilecek",icon:e.jsx(N,{size:24}),color:"orange",loading:r}),e.jsx(v,{title:"MÃ¼sait Ekipman",value:((x=s.equipment)==null?void 0:x.available)||0,subtitle:"KullanÄ±ma HazÄ±r",icon:e.jsx(k,{size:24}),color:"blue",loading:r}),e.jsx(v,{title:"Bekleyen Kontroller",value:((p=s.alerts)==null?void 0:p.pendingInspections)||0,subtitle:"Dikkat Gerekiyor",icon:e.jsx(k,{size:24}),color:"red",loading:r})]})]}):null},He=({data:s,loading:r=!1})=>{var j,c;const[t,l]=g.useState("month"),[d,o]=g.useState("line"),m=[{key:"today",label:"BugÃ¼n",icon:w},{key:"week",label:"Bu Hafta",icon:w},{key:"month",label:"Bu Ay",icon:w},{key:"quarter",label:"Bu Ã‡eyrek",icon:w},{key:"year",label:"Bu YÄ±l",icon:w}],n=[{key:"line",label:"Ã‡izgi",icon:q},{key:"bar",label:"Ã‡ubuk",icon:H},{key:"area",label:"Alan",icon:N},{key:"pie",label:"Pasta",icon:V}],u=(x=>({revenue:[],orders:[],customers:[],labels:[]}))(),i=x=>{if(x.length<2)return 0;const p=x[x.length-1],f=x[x.length-2];return((p-f)/f*100).toFixed(1)},h=x=>x.reduce((p,f)=>p+f,0);return r?e.jsxs("div",{className:"bg-white rounded-2xl border border-neutral-200 p-6 animate-pulse",children:[e.jsx("div",{className:"h-6 bg-neutral-200 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-64 bg-neutral-200 rounded"})]}):e.jsxs("div",{className:"bg-white rounded-2xl border border-neutral-200 p-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-neutral-900 mb-2",children:"Zaman BazlÄ± Analitik"}),e.jsx("p",{className:"text-neutral-600",children:"FarklÄ± zaman dilimlerinde performans trendlerini takip edin"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4 lg:mt-0",children:[e.jsx("div",{className:"flex bg-neutral-100 rounded-xl p-1",children:m.map(x=>e.jsx("button",{onClick:()=>l(x.key),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors duration-200 ${t===x.key?"bg-white text-neutral-900 shadow-sm":"text-neutral-600 hover:text-neutral-900"}`,children:x.label},x.key))}),e.jsx("div",{className:"flex bg-neutral-100 rounded-xl p-1",children:n.map(x=>e.jsx("button",{onClick:()=>o(x.key),className:`p-2 rounded-lg transition-colors duration-200 ${d===x.key?"bg-white text-neutral-900 shadow-sm":"text-neutral-600 hover:text-neutral-900"}`,title:x.label,children:e.jsx(x.icon,{size:16})},x.key))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-neutral-50 border border-neutral-200 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-neutral-600 text-sm font-medium",children:"Toplam Gelir"}),e.jsxs("p",{className:"text-2xl font-bold text-neutral-900",children:["â‚º",h(u.revenue).toLocaleString("tr-TR")]})]}),e.jsx("div",{className:"text-neutral-700",children:e.jsx(N,{size:24})})]}),e.jsxs("div",{className:"mt-2 text-sm text-neutral-600",children:[i(u.revenue),"% Ã¶nceki dÃ¶neme gÃ¶re"]})]}),e.jsxs("div",{className:"bg-neutral-50 border border-neutral-200 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-neutral-600 text-sm font-medium",children:"Toplam SipariÅŸ"}),e.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:h(u.orders).toLocaleString("tr-TR")})]}),e.jsx("div",{className:"text-neutral-700",children:e.jsx(H,{size:24})})]}),e.jsxs("div",{className:"mt-2 text-sm text-neutral-600",children:[i(u.orders),"% Ã¶nceki dÃ¶neme gÃ¶re"]})]}),e.jsxs("div",{className:"bg-neutral-50 border border-neutral-200 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-neutral-600 text-sm font-medium",children:"Yeni MÃ¼ÅŸteriler"}),e.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:h(u.customers).toLocaleString("tr-TR")})]}),e.jsx("div",{className:"text-neutral-700",children:e.jsx(V,{size:24})})]}),e.jsxs("div",{className:"mt-2 text-sm text-neutral-600",children:[i(u.customers),"% Ã¶nceki dÃ¶neme gÃ¶re"]})]})]}),e.jsx("div",{className:"h-64 bg-neutral-50 rounded-xl flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-neutral-500",children:[e.jsx(q,{size:48,className:"mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg font-medium",children:"Ä°nteraktif Grafik"}),e.jsxs("p",{className:"text-sm",children:[(j=m.find(x=>x.key===t))==null?void 0:j.label," iÃ§in ",(c=n.find(x=>x.key===d))==null?void 0:c.label.toLowerCase()," grafik gÃ¶steriliyor"]}),e.jsx("p",{className:"text-xs mt-2 text-neutral-400",children:"Chart.js entegrasyonu burada yer alacak"})]})}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-neutral-50 rounded-xl p-4",children:[e.jsx("h4",{className:"font-semibold text-neutral-900 mb-2",children:"ðŸ“ˆ Ã–nemli Ä°Ã§gÃ¶rÃ¼ler"}),e.jsxs("ul",{className:"space-y-1 text-sm text-neutral-600",children:[e.jsxs("li",{children:["â€¢ Bu dÃ¶nem gelir artÄ±ÅŸÄ± %",i(u.revenue)]}),e.jsxs("li",{children:["â€¢ SipariÅŸ hacmi %",i(u.orders)," arttÄ±"]}),e.jsxs("li",{children:["â€¢ MÃ¼ÅŸteri kazanÄ±mÄ± %",i(u.customers)," yÃ¼kseldi"]})]})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-xl p-4",children:[e.jsx("h4",{className:"font-semibold text-neutral-900 mb-2",children:"ðŸŽ¯ Ã–neriler"}),e.jsxs("ul",{className:"space-y-1 text-sm text-neutral-600",children:[e.jsx("li",{children:"â€¢ YÃ¼ksek performanslÄ± dÃ¶nemlere odaklanÄ±n"}),e.jsx("li",{children:"â€¢ DÃ¼ÅŸÃ¼k dÃ¶nÃ¼ÅŸÃ¼mlÃ¼ zaman dilimlerini optimize edin"}),e.jsx("li",{children:"â€¢ BaÅŸarÄ±lÄ± pazarlama kampanyalarÄ±nÄ± Ã¶lÃ§eklendirin"})]})]})]})]})},Ve=({connected:s=!1,onConnect:r,onDisconnect:t})=>{const[l,d]=g.useState(s),[o,m]=g.useState([]),[n,a]=g.useState(new Date);g.useEffect(()=>(m([]),()=>{}),[l]);const u=()=>{const c=!l;d(c),c?r==null||r():t==null||t()},i=c=>{switch(c){case"up":return"text-neutral-900";case"down":return"text-neutral-700";case"stable":return"text-neutral-800";default:return"text-neutral-600"}},h=c=>{switch(c){case"up":return"bg-neutral-50 border-neutral-200";case"down":return"bg-neutral-50 border-neutral-200";case"stable":return"bg-neutral-50 border-neutral-200";default:return"bg-neutral-50 border-neutral-200"}},j=c=>{switch(c){case"active_users":return e.jsx(Ce,{size:20});case"orders_today":return e.jsx(J,{size:20});case"revenue_hour":return e.jsx(De,{size:20});case"equipment_active":return e.jsx(ke,{size:20});default:return e.jsx(W,{size:20})}};return e.jsxs("div",{className:"bg-white rounded-2xl border border-neutral-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-neutral-900 mb-1",children:"CanlÄ± Ä°zleme"}),e.jsx("p",{className:"text-neutral-600",children:"GerÃ§ek zamanlÄ± iÅŸ metrikleri ve aktiviteler"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-neutral-600",children:[e.jsx(W,{size:16}),e.jsxs("span",{children:["Son gÃ¼ncelleme: ",n.toLocaleTimeString("tr-TR")]})]}),e.jsxs("button",{onClick:u,className:`flex items-center space-x-2 px-4 py-2 rounded-xl font-medium transition-colors duration-200 ${l?"bg-neutral-900 text-white hover:bg-neutral-800":"bg-neutral-200 text-neutral-700 hover:bg-neutral-300"}`,children:[l?e.jsx(we,{size:16}):e.jsx(Z,{size:16}),e.jsx("span",{children:l?"BaÄŸlÄ±":"BaÄŸlÄ± DeÄŸil"})]})]})]}),!l&&e.jsxs("div",{className:"bg-neutral-50 border border-neutral-300 rounded-xl p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-neutral-900",children:[e.jsx(Z,{size:16}),e.jsx("span",{className:"font-medium",children:"CanlÄ± izleme devre dÄ±ÅŸÄ±"})]}),e.jsx("p",{className:"text-neutral-600 text-sm mt-1",children:'CanlÄ± gÃ¼ncellemeleri almak iÃ§in "BaÄŸlan" butonuna tÄ±klayÄ±n'})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:o.map(c=>e.jsxs("div",{className:`border rounded-xl p-4 transition-all duration-200 ${l?h(c.status):"bg-neutral-50 border-neutral-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:`${l?i(c.status):"text-neutral-400"}`,children:j(c.id)}),l&&e.jsxs("div",{className:`text-xs font-medium ${i(c.status)}`,children:[c.change>0?"+":"",c.change.toFixed(1),"%"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-2xl font-bold text-neutral-900",children:[c.unit==="â‚º"?c.unit:"",c.value.toLocaleString("tr-TR"),c.unit!=="â‚º"?` ${c.unit}`:""]}),e.jsx("p",{className:"text-sm text-neutral-600",children:c.name}),l&&e.jsxs("p",{className:"text-xs text-neutral-500",children:["Updated ",Math.floor((Date.now()-c.lastUpdated.getTime())/1e3),"s ago"]})]})]},c.id))}),l&&e.jsxs("div",{className:"border-t border-neutral-200 pt-6",children:[e.jsx("h4",{className:"font-semibold text-neutral-900 mb-4",children:"CanlÄ± Aktivite AkÄ±ÅŸÄ±"}),e.jsx("div",{className:"space-y-3 max-h-48 overflow-y-auto",children:[{time:"2 saniye Ã¶nce",event:"Yeni sipariÅŸ #1234 alÄ±ndÄ±",type:"order"},{time:"15 saniye Ã¶nce",event:"Ekipman EQ-045 durumu gÃ¼ncellendi",type:"equipment"},{time:"32 saniye Ã¶nce",event:"MÃ¼ÅŸteri giriÅŸ yaptÄ±: Ahmet YÄ±lmaz",type:"user"},{time:"1 dakika Ã¶nce",event:"Ã–deme iÅŸlendi: â‚º2,500",type:"payment"},{time:"2 dakika Ã¶nce",event:"Kontrol tamamlandÄ±: EQ-023",type:"inspection"}].map((c,x)=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-neutral-50 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-neutral-900"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-neutral-900",children:c.event}),e.jsx("p",{className:"text-xs text-neutral-500",children:c.time})]})]},x))})]})]})};function dt(){var F,$,B,G,I,O,K,Y;const[s,r]=g.useState(!0),[t,l]=g.useState(null),[d,o]=g.useState([]),[m,n]=g.useState([]),[a,u]=g.useState([]),[i,h]=g.useState([]),[j,c]=g.useState([]),[x,p]=g.useState(!0),[f,re]=g.useState({label:"Son 30 GÃ¼n",startDate:T(new Date,30),endDate:new Date});g.useEffect(()=>{R()},[]),g.useEffect(()=>{_()},[f]);const R=async()=>{try{r(!0),l({revenue:{total:0,monthly:0,change:0},reservations:{total:0,active:0,completed:0,change:0},equipment:{total:0,available:0,inUse:0,maintenance:0},recentReservations:[],upcomingReservations:[]}),o([])}catch(b){console.error("Failed to fetch dashboard data:",b)}finally{r(!1)}},_=async()=>{try{p(!0);const b=y(f.startDate,"yyyy-MM-dd"),C=y(f.endDate,"yyyy-MM-dd");try{const[D,ne,ie,de]=await Promise.all([z.getRevenue(b,C),z.getUtilization(b,C),z.getStatus(),z.getTopEquipment(10)]);n(D.data),u(ne.data),h(ie.data),c(de.data)}catch(D){console.error("Analytics API call failed:",D),n([]),u([]),h([]),c([])}}catch(b){console.error("Failed to fetch charts data:",b)}finally{p(!1)}};if(s)return e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(k,{className:"animate-spin text-neutral-400",size:32})});if(!t)return e.jsxs("div",{className:"bg-white rounded-2xl border border-neutral-200 p-12 text-center",children:[e.jsx(Q,{className:"text-neutral-400 mx-auto mb-4",size:48}),e.jsx("p",{className:"text-neutral-600",children:"Dashboard verileri yÃ¼klenemedi"})]});const M=b=>{const C={PENDING:"bg-neutral-100 text-neutral-700",CONFIRMED:"bg-neutral-100 text-neutral-700",ACTIVE:"bg-neutral-100 text-neutral-900",COMPLETED:"bg-neutral-100 text-neutral-700",CANCELLED:"bg-neutral-100 text-neutral-600"},D={PENDING:"Bekliyor",CONFIRMED:"OnaylandÄ±",ACTIVE:"Aktif",COMPLETED:"TamamlandÄ±",CANCELLED:"Ä°ptal"};return e.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium ${C[b]||"bg-neutral-100 text-neutral-700"}`,children:D[b]||b})};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(qe,{stats:t,loading:s,onRefresh:R}),e.jsx(Ve,{connected:!0,onConnect:()=>console.log("Real-time monitoring connected"),onDisconnect:()=>console.log("Real-time monitoring disconnected")}),e.jsx(He,{data:t,loading:x}),((((F=t==null?void 0:t.alerts)==null?void 0:F.pendingInspections)||0)>0||((($=t==null?void 0:t.calendar)==null?void 0:$.upcomingEvents)||0)>0)&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(((B=t==null?void 0:t.alerts)==null?void 0:B.pendingInspections)||0)>0&&e.jsx("div",{className:"bg-neutral-50 border border-neutral-300 rounded-2xl p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Q,{className:"text-neutral-700 flex-shrink-0 mt-1",size:20}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-neutral-900 mb-1",children:"Bekleyen Kontroller"}),e.jsxs("p",{className:"text-sm text-neutral-700",children:[e.jsx("strong",{children:((G=t==null?void 0:t.alerts)==null?void 0:G.pendingInspections)||0})," ekipman kontrol bekliyor"]})]})]})}),(((I=t==null?void 0:t.calendar)==null?void 0:I.upcomingEvents)||0)>0&&e.jsx("div",{className:"bg-neutral-50 border border-neutral-300 rounded-2xl p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(w,{className:"text-neutral-700 flex-shrink-0 mt-1",size:20}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-neutral-900 mb-1",children:"YaklaÅŸan Etkinlikler"}),e.jsxs("p",{className:"text-sm text-neutral-700",children:["Ã–nÃ¼mÃ¼zdeki 7 gÃ¼n iÃ§inde ",e.jsx("strong",{children:((O=t==null?void 0:t.calendar)==null?void 0:O.upcomingEvents)||0})," etkinlik"]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-neutral-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-bold text-neutral-900",children:"Son Aktiviteler"}),e.jsx("button",{onClick:R,className:"p-2 hover:bg-neutral-100 rounded-lg transition-colors",children:e.jsx(k,{size:16,className:"text-neutral-600"})})]}),e.jsxs("div",{className:"space-y-3",children:[d.slice(0,5).map(b=>e.jsxs("div",{className:"flex items-start gap-3 p-3 hover:bg-neutral-50 rounded-xl transition-colors",children:[e.jsxs("div",{className:"w-8 h-8 bg-neutral-100 rounded-lg flex items-center justify-center flex-shrink-0",children:[b.icon==="ShoppingCart"&&e.jsx(J,{size:16,className:"text-neutral-700"}),b.icon==="CheckSquare"&&e.jsx(ze,{size:16,className:"text-neutral-700"}),b.icon==="Calendar"&&e.jsx(w,{size:16,className:"text-neutral-700"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-900 truncate",children:b.title}),e.jsx("p",{className:"text-xs text-neutral-600 truncate",children:b.description}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:new Date(b.date).toLocaleDateString("tr-TR",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]}),M(b.status)]},b.id)),d.length===0&&e.jsx("p",{className:"text-center text-neutral-600 py-8",children:"HenÃ¼z aktivite bulunmuyor"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-neutral-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-bold text-neutral-900",children:"Son SipariÅŸler"}),e.jsx("a",{href:"/orders",className:"text-sm text-neutral-700 hover:text-neutral-900 font-medium",children:"TÃ¼mÃ¼nÃ¼ GÃ¶r â†’"})]}),e.jsxs("div",{className:"space-y-3",children:[(((K=t==null?void 0:t.recent)==null?void 0:K.orders)||[]).map(b=>e.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-neutral-50 rounded-xl transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-neutral-900",children:b.orderNumber}),e.jsx("p",{className:"text-xs text-neutral-600",children:b.customer})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-bold text-neutral-900",children:["â‚º",((b==null?void 0:b.amount)||0).toLocaleString("tr-TR")]}),M(b.status)]})]},b.id)),(((Y=t==null?void 0:t.recent)==null?void 0:Y.orders)||[]).length===0&&e.jsx("p",{className:"text-center text-neutral-600 py-8",children:"HenÃ¼z sipariÅŸ bulunmuyor"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:"ðŸ“Š GeliÅŸmiÅŸ Dashboard"}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"KapsamlÄ± analiz ve raporlama araÃ§larÄ±"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ue,{data:m,filename:"dashboard-raporu",chartElementId:"dashboard-charts-container"}),e.jsxs("button",{onClick:_,className:"px-4 py-2 bg-neutral-100 hover:bg-neutral-200 text-neutral-700 rounded-lg transition-colors flex items-center gap-2",children:[e.jsx(k,{size:16}),e.jsx("span",{className:"text-sm font-medium",children:"Yenile"})]})]})]}),e.jsx(Fe,{selectedRange:f,onRangeChange:re}),e.jsxs("div",{id:"dashboard-charts-container",className:"space-y-6",children:[e.jsx("div",{className:"w-full",children:e.jsx($e,{data:m,isLoading:x})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(Be,{data:a,isLoading:x}),e.jsx(Ge,{data:i,isLoading:x})]}),e.jsx("div",{className:"w-full",children:e.jsx(Ie,{data:j,isLoading:x})})]})]})]})}export{dt as default};
