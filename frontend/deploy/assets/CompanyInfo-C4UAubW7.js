import{r as m,z as y,j as e}from"./react-vendor-DBHNAGPW.js";import{a as j}from"./api-BJY2WxaN.js";import{c as t,b as h,D as s,a as o,i}from"./index-C5wiI25D.js";import{R as za,A as Va,a2 as Ia,a6 as Fa,Q as Ga,aa as Ha,G as Ma,U as Ya,a9 as Ua,F as La,ab as Qa,ay as Wa}from"./ui-vendor-CIs_GH3f.js";import"./chart-vendor-R5Y1AjBI.js";import"./index-C00KFl1S.js";import"./state-vendor-JOdu_MDH.js";const ss=()=>{var k,C,w,B,S,P,A,D,R,$,E,T,z,I,H,O,K,V,F,G,M,Y,U,L,Q,W,_,q,J,X,Z,ee,ae,se,le,te,re,ne,de,ie,ce,me,oe,xe,ue,he,pe,ye,je,Ne,be,ge,fe,ve,ke,Ce,we,Be,Se,Pe,Ae,De,Re,$e,Ee,Te,ze,Ie,He,Oe,Ke,Ve,Fe,Ge,Me,Ye,Ue,Le,Qe,We,_e,qe,Je,Xe,Ze,ea,aa,sa,la,ta,ra,na,da,ia,ca,ma,oa,xa,ua,ha,pa,ya,ja,Na,ba,ga,fa,va,ka,Ca,wa,Ba,Sa,Pa,Aa,Da,Ra;const[l,x]=m.useState(null),[n,N]=m.useState(null),[Oa,b]=m.useState(!0),[g,f]=m.useState(!1),[r,p]=m.useState(!1);m.useEffect(()=>{v()},[]);const v=async()=>{try{b(!0);const[a,c]=await Promise.all([j.get("/company").catch(()=>({data:null})),j.get("/company/bank-accounts").catch(()=>({data:null}))]);a.data?x(a.data):(console.warn("⚠️ No company data found, showing empty form"),x({id:0,name:"",email:null,phone:null,mobilePhone:null,address:null,address2:null,city:null,district:null,postalCode:null,taxNumber:null,taxOffice:null,tradeRegister:null,mersisNo:null,website:null,logo:null,authorizedPerson:null,iban:null,bankName:null,bankBranch:null,accountHolder:null,timezone:null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})),c.data?N(c.data):N({accounts:[],totals:{totalBalance:0,totalAvailable:0,totalBlocked:0,activeAccounts:0,totalAccounts:0}})}catch(a){console.error("Error loading company data:",a),y.error("Şirket bilgileri yüklenirken hata oluştu")}finally{b(!1)}},Ka=async()=>{if(l)try{f(!0);const a=await j.put("/company",l);x(a.data),p(!1),y.success("Şirket bilgileri güncellendi")}catch(a){console.error("Error saving company data:",a),y.error("Şirket bilgileri kaydedilirken hata oluştu")}finally{f(!1)}},d=(a,c)=>{l&&x({...l,[a]:c})},u=a=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(a);return Oa?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(za,{className:"w-8 h-8 animate-spin text-neutral-900"}),e.jsx("span",{className:"ml-3 text-neutral-600",children:"Yükleniyor..."})]}):l?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ia,{className:"w-8 h-8 text-neutral-900"}),e.jsxs("div",{children:[e.jsx("h2",{className:`${(C=(k=s)==null?void 0:k.typography)==null?void 0:C.h2} ${(B=(w=s)==null?void 0:w.colors)==null?void 0:B.text.primary}`,children:"Şirket Bilgileri"}),e.jsx("p",{className:`${(P=(S=s)==null?void 0:S.typography)==null?void 0:P.body.sm} ${(D=(A=s)==null?void 0:A.colors)==null?void 0:D.text.tertiary}`,children:"Şirket ve banka hesap bilgilerinizi yönetin"})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:r?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>p(!1),className:h("md","outline","md"),children:"İptal"}),e.jsxs("button",{onClick:Ka,disabled:g,className:t(h("md","primary","md"),"disabled:opacity-50"),children:[e.jsx(Fa,{className:"w-4 h-4 mr-2"}),g?"Kaydediliyor...":"Kaydet"]})]}):e.jsx("button",{onClick:()=>p(!0),className:h("md","outline","md"),children:"Düzenle"})})]}),e.jsx("div",{className:o("md","md","default","md"),children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("h3",{className:t(($=(R=s)==null?void 0:R.typography)==null?void 0:$.body.lg,"font-semibold",(T=(E=s)==null?void 0:E.colors)==null?void 0:T.text.primary,"flex items-center"),children:[e.jsx(Ia,{className:"w-5 h-5 mr-2 text-neutral-600"}),"Genel Bilgiler"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:t((I=(z=s)==null?void 0:z.typography)==null?void 0:I.body.sm,"font-medium",(O=(H=s)==null?void 0:H.colors)==null?void 0:O.text.secondary,"block mb-2"),children:"Şirket Adı *"}),r?e.jsx("input",{type:"text",value:l.name,onChange:a=>d("name",a.target.value),className:i("md","default","full","md")}):e.jsx("p",{className:"text-neutral-900",children:l.name})]}),e.jsxs("div",{children:[e.jsxs("label",{className:t((V=(K=s)==null?void 0:K.typography)==null?void 0:V.body.sm,"font-medium",(G=(F=s)==null?void 0:F.colors)==null?void 0:G.text.secondary,"block mb-2 flex items-center"),children:[e.jsx(Ga,{className:"w-4 h-4 mr-1"}),"E-posta"]}),r?e.jsx("input",{type:"email",value:l.email||"",onChange:a=>d("email",a.target.value),className:i("md","default","full","md")}):e.jsx("p",{className:"text-neutral-900",children:l.email||"-"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:t((Y=(M=s)==null?void 0:M.typography)==null?void 0:Y.body.sm,"font-medium",(L=(U=s)==null?void 0:U.colors)==null?void 0:L.text.secondary,"block mb-2 flex items-center"),children:[e.jsx(Ha,{className:"w-4 h-4 mr-1"}),"Telefon"]}),r?e.jsx("input",{type:"tel",value:l.phone||"",onChange:a=>d("phone",a.target.value),className:i("md","default","full","md")}):e.jsx("p",{className:"text-neutral-900",children:l.phone||"-"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:t((W=(Q=s)==null?void 0:Q.typography)==null?void 0:W.body.sm,"font-medium",(q=(_=s)==null?void 0:_.colors)==null?void 0:q.text.secondary,"block mb-2 flex items-center"),children:[e.jsx(Ha,{className:"w-4 h-4 mr-1"}),"Mobil Telefon"]}),r?e.jsx("input",{type:"tel",value:l.mobilePhone||"",onChange:a=>d("mobilePhone",a.target.value),className:i("md","default","full","md")}):e.jsx("p",{className:"text-neutral-900",children:l.mobilePhone||"-"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:t((X=(J=s)==null?void 0:J.typography)==null?void 0:X.body.sm,"font-medium",(ee=(Z=s)==null?void 0:Z.colors)==null?void 0:ee.text.secondary,"block mb-2 flex items-center"),children:[e.jsx(Ma,{className:"w-4 h-4 mr-1"}),"Web Sitesi"]}),r?e.jsx("input",{type:"url",value:l.website||"",onChange:a=>d("website",a.target.value),className:i("md","default","full","md")}):e.jsx("p",{className:"text-neutral-900",children:l.website||"-"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:t((se=(ae=s)==null?void 0:ae.typography)==null?void 0:se.body.sm,"font-medium",(te=(le=s)==null?void 0:le.colors)==null?void 0:te.text.secondary,"block mb-2 flex items-center"),children:[e.jsx(Ya,{className:"w-4 h-4 mr-1"}),"Yetkili Kişi"]}),r?e.jsx("input",{type:"text",value:l.authorizedPerson||"",onChange:a=>d("authorizedPerson",a.target.value),className:i("md","default","full","md")}):e.jsx("p",{className:"text-neutral-900",children:l.authorizedPerson||"-"})]})]})]})}),e.jsx("div",{className:o("md","md","default","md"),children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("h3",{className:t((ne=(re=s)==null?void 0:re.typography)==null?void 0:ne.body.lg,"font-semibold",(ie=(de=s)==null?void 0:de.colors)==null?void 0:ie.text.primary,"flex items-center"),children:[e.jsx(Ua,{className:"w-5 h-5 mr-2 text-neutral-600"}),"Adres Bilgileri"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:t((me=(ce=s)==null?void 0:ce.typography)==null?void 0:me.body.sm,"font-medium",(xe=(oe=s)==null?void 0:oe.colors)==null?void 0:xe.text.secondary,"block mb-2"),children:"Adres"}),r?e.jsx("textarea",{value:l.address||"",onChange:a=>d("address",a.target.value),rows:2,className:i("md","default","full","md")}):e.jsx("p",{className:"text-neutral-900",children:l.address||"-"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:t((he=(ue=s)==null?void 0:ue.typography)==null?void 0:he.body.sm,"font-medium",(ye=(pe=s)==null?void 0:pe.colors)==null?void 0:ye.text.secondary,"block mb-2"),children:"Adres 2"}),r?e.jsx("textarea",{value:l.address2||"",onChange:a=>d("address2",a.target.value),rows:2,className:i("md","default","full","md")}):e.jsx("p",{className:"text-neutral-900",children:l.address2||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:t((Ne=(je=s)==null?void 0:je.typography)==null?void 0:Ne.body.sm,"font-medium",(ge=(be=s)==null?void 0:be.colors)==null?void 0:ge.text.secondary,"block mb-2"),children:"İl"}),r?e.jsx("input",{type:"text",value:l.city||"",onChange:a=>d("city",a.target.value),className:i("md","default","full","md")}):e.jsx("p",{className:"text-neutral-900",children:l.city||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:t((ve=(fe=s)==null?void 0:fe.typography)==null?void 0:ve.body.sm,"font-medium",(Ce=(ke=s)==null?void 0:ke.colors)==null?void 0:Ce.text.secondary,"block mb-2"),children:"İlçe"}),r?e.jsx("input",{type:"text",value:l.district||"",onChange:a=>d("district",a.target.value),className:i("md","default","full","md")}):e.jsx("p",{className:"text-neutral-900",children:l.district||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:t((Be=(we=s)==null?void 0:we.typography)==null?void 0:Be.body.sm,"font-medium",(Pe=(Se=s)==null?void 0:Se.colors)==null?void 0:Pe.text.secondary,"block mb-2"),children:"Posta Kodu"}),r?e.jsx("input",{type:"text",value:l.postalCode||"",onChange:a=>d("postalCode",a.target.value),className:i("md","default","full","md")}):e.jsx("p",{className:"text-neutral-900",children:l.postalCode||"-"})]})]})]})}),e.jsx("div",{className:o("md","md","default","md"),children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("h3",{className:t((De=(Ae=s)==null?void 0:Ae.typography)==null?void 0:De.body.lg,"font-semibold",($e=(Re=s)==null?void 0:Re.colors)==null?void 0:$e.text.primary,"flex items-center"),children:[e.jsx(La,{className:"w-5 h-5 mr-2 text-neutral-600"}),"Vergi ve Ticari Bilgiler"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:t((Te=(Ee=s)==null?void 0:Ee.typography)==null?void 0:Te.body.sm,"font-medium",(Ie=(ze=s)==null?void 0:ze.colors)==null?void 0:Ie.text.secondary,"block mb-2"),children:"Vergi Numarası"}),r?e.jsx("input",{type:"text",value:l.taxNumber||"",onChange:a=>d("taxNumber",a.target.value),className:i("md","default","full","md")}):e.jsx("p",{className:"text-neutral-900",children:l.taxNumber||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:t((Oe=(He=s)==null?void 0:He.typography)==null?void 0:Oe.body.sm,"font-medium",(Ve=(Ke=s)==null?void 0:Ke.colors)==null?void 0:Ve.text.secondary,"block mb-2"),children:"Vergi Dairesi"}),r?e.jsx("input",{type:"text",value:l.taxOffice||"",onChange:a=>d("taxOffice",a.target.value),className:i("md","default","full","md")}):e.jsx("p",{className:"text-neutral-900",children:l.taxOffice||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:t((Ge=(Fe=s)==null?void 0:Fe.typography)==null?void 0:Ge.body.sm,"font-medium",(Ye=(Me=s)==null?void 0:Me.colors)==null?void 0:Ye.text.secondary,"block mb-2"),children:"Ticaret Sicil No"}),r?e.jsx("input",{type:"text",value:l.tradeRegister||"",onChange:a=>d("tradeRegister",a.target.value),className:i("md","default","full","md")}):e.jsx("p",{className:"text-neutral-900",children:l.tradeRegister||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:t((Le=(Ue=s)==null?void 0:Ue.typography)==null?void 0:Le.body.sm,"font-medium",(We=(Qe=s)==null?void 0:Qe.colors)==null?void 0:We.text.secondary,"block mb-2"),children:"Mersis No"}),r?e.jsx("input",{type:"text",value:l.mersisNo||"",onChange:a=>d("mersisNo",a.target.value),className:i("md","default","full","md")}):e.jsx("p",{className:"text-neutral-900",children:l.mersisNo||"-"})]})]})]})}),e.jsx("div",{className:o("md","md","default","md"),children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("h3",{className:t((qe=(_e=s)==null?void 0:_e.typography)==null?void 0:qe.body.lg,"font-semibold",(Xe=(Je=s)==null?void 0:Je.colors)==null?void 0:Xe.text.primary,"flex items-center"),children:[e.jsx(Qa,{className:"w-5 h-5 mr-2 text-neutral-600"}),"Varsayılan Banka Bilgileri"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:t((ea=(Ze=s)==null?void 0:Ze.typography)==null?void 0:ea.body.sm,"font-medium",(sa=(aa=s)==null?void 0:aa.colors)==null?void 0:sa.text.secondary,"block mb-2"),children:"Banka Adı"}),r?e.jsx("input",{type:"text",value:l.bankName||"",onChange:a=>d("bankName",a.target.value),className:i("md","default","full","md")}):e.jsx("p",{className:"text-neutral-900",children:l.bankName||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:t((ta=(la=s)==null?void 0:la.typography)==null?void 0:ta.body.sm,"font-medium",(na=(ra=s)==null?void 0:ra.colors)==null?void 0:na.text.secondary,"block mb-2"),children:"Şube"}),r?e.jsx("input",{type:"text",value:l.bankBranch||"",onChange:a=>d("bankBranch",a.target.value),className:i("md","default","full","md")}):e.jsx("p",{className:"text-neutral-900",children:l.bankBranch||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:t((ia=(da=s)==null?void 0:da.typography)==null?void 0:ia.body.sm,"font-medium",(ma=(ca=s)==null?void 0:ca.colors)==null?void 0:ma.text.secondary,"block mb-2"),children:"IBAN"}),r?e.jsx("input",{type:"text",value:l.iban||"",onChange:a=>d("iban",a.target.value),className:i("md","default","full","md")}):e.jsx("p",{className:"text-neutral-900 font-mono",children:l.iban||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:t((xa=(oa=s)==null?void 0:oa.typography)==null?void 0:xa.body.sm,"font-medium",(ha=(ua=s)==null?void 0:ua.colors)==null?void 0:ha.text.secondary,"block mb-2"),children:"Hesap Sahibi"}),r?e.jsx("input",{type:"text",value:l.accountHolder||"",onChange:a=>d("accountHolder",a.target.value),className:i("md","default","full","md")}):e.jsx("p",{className:"text-neutral-900",children:l.accountHolder||"-"})]})]})]})}),n&&e.jsx("div",{className:o("md","md","default","md"),children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("h3",{className:t((ya=(pa=s)==null?void 0:pa.typography)==null?void 0:ya.body.lg,"font-semibold",(Na=(ja=s)==null?void 0:ja.colors)==null?void 0:Na.text.primary,"flex items-center"),children:[e.jsx(Wa,{className:"w-5 h-5 mr-2 text-neutral-600"}),"Banka Hesapları"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-4 bg-neutral-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-neutral-600",children:"Toplam Bakiye"}),e.jsx("p",{className:`${(ga=(ba=s)==null?void 0:ba.typography)==null?void 0:ga.stat.md} text-neutral-900`,children:u(((fa=n==null?void 0:n.totals)==null?void 0:fa.totalBalance)||0)})]}),e.jsxs("div",{className:"p-4 bg-neutral-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-neutral-600",children:"Kullanılabilir"}),e.jsx("p",{className:`${(ka=(va=s)==null?void 0:va.typography)==null?void 0:ka.stat.md} text-neutral-900`,children:u(((Ca=n==null?void 0:n.totals)==null?void 0:Ca.totalAvailable)||0)})]}),e.jsxs("div",{className:"p-4 bg-neutral-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-neutral-600",children:"Bloke"}),e.jsx("p",{className:`${(Ba=(wa=s)==null?void 0:wa.typography)==null?void 0:Ba.stat.md} text-neutral-900`,children:u(((Sa=n==null?void 0:n.totals)==null?void 0:Sa.totalBlocked)||0)})]}),e.jsxs("div",{className:"p-4 bg-neutral-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-neutral-600",children:"Aktif Hesap"}),e.jsxs("p",{className:`${(Aa=(Pa=s)==null?void 0:Pa.typography)==null?void 0:Aa.stat.md} text-neutral-900`,children:[((Da=n==null?void 0:n.totals)==null?void 0:Da.activeAccounts)||0," / ",((Ra=n==null?void 0:n.totals)==null?void 0:Ra.totalAccounts)||0]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-neutral-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-neutral-500 uppercase",children:"Banka"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-neutral-500 uppercase",children:"Hesap No"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-neutral-500 uppercase",children:"IBAN"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-neutral-500 uppercase",children:"Bakiye"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-neutral-500 uppercase",children:"Durum"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:((n==null?void 0:n.accounts)||[]).map(a=>{var c,$a,Ea,Ta;return e.jsxs("tr",{className:"hover:bg-neutral-50",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-neutral-900",children:a.bankName}),a.branch&&e.jsx("p",{className:`${($a=(c=s)==null?void 0:c.typography)==null?void 0:$a.body.sm} ${(Ta=(Ea=s)==null?void 0:Ea.colors)==null?void 0:Ta.text.tertiary}`,children:a.branch})]})}),e.jsx("td",{className:"px-4 py-3 text-neutral-700",children:a.accountNumber}),e.jsx("td",{className:"px-4 py-3 font-mono text-sm text-neutral-700",children:a.iban}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-neutral-900",children:u(a.balance)}),e.jsx("p",{className:"text-xs text-neutral-500",children:a.currency})]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${a.isActive?"bg-neutral-50 text-neutral-900":"bg-neutral-100 text-gray-800"}`,children:a.isActive?"Aktif":"Pasif"})})]},a.id)})})]})})]})})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[e.jsx(Va,{className:"w-12 h-12 text-neutral-700 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-2",children:"Şirket Bilgileri Yüklenemedi"}),e.jsx("p",{className:"text-neutral-600 mb-4",children:"Veriler yüklenirken bir hata oluştu"}),e.jsxs("button",{onClick:v,className:t(h("md","primary","md"),"gap-2"),children:[e.jsx(za,{className:"w-4 h-4"}),"Tekrar Dene"]})]})};export{ss as default};
