import{o as D,a as P,r as t,j as e}from"./react-vendor-DBHNAGPW.js";import{Q as A}from"./QRCodeGenerator-CZvBbLIZ.js";import{b as u}from"./index-C00KFl1S.js";import{am as C,ah as L,ao as B,ap as I,P as M,aj as z,I as b,a4 as x,f as m,D as K,C as j,u as G}from"./ui-vendor-CIs_GH3f.js";import"./chart-vendor-R5Y1AjBI.js";import"./state-vendor-JOdu_MDH.js";const F=()=>{const{id:l}=D(),n=P(),[s,N]=t.useState(null),[g,p]=t.useState(!0),[o,f]=t.useState(null),[y,h]=t.useState(!1),[i,v]=t.useState("details");t.useEffect(()=>{l&&(async()=>{var r,d;try{const c=await u.get(`/equipment/${l}`);N(c.data)}catch(c){f(((d=(r=c.response)==null?void 0:r.data)==null?void 0:d.error)||"Ekipman yüklenemedi")}finally{p(!1)}})()},[l]);const w=a=>{switch(a){case"AVAILABLE":return"bg-green-100 text-green-800 border-green-200";case"RENTED":return"bg-blue-100 text-blue-800 border-neutral-200";case"RESERVED":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"MAINTENANCE":return"bg-orange-100 text-orange-800 border-orange-200";case"BROKEN":return"bg-red-100 text-red-800 border-red-200";case"LOST":return"bg-neutral-100 text-gray-800 border-neutral-200";default:return"bg-neutral-100 text-gray-800 border-neutral-200"}},k=a=>{switch(a){case"AVAILABLE":return"Müsait";case"RENTED":return"Kiralandı";case"RESERVED":return"Rezerve";case"MAINTENANCE":return"Bakımda";case"BROKEN":return"Arızalı";case"LOST":return"Kayıp";default:return a}},S=async()=>{var a,r;if(window.confirm("Bu ekipmanı silmek istediğinizden emin misiniz?"))try{await u.delete(`/equipment/${l}`),n("/inventory")}catch(d){alert(((r=(a=d.response)==null?void 0:a.data)==null?void 0:r.error)||"Ekipman silinemedi")}},R=()=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-neutral-200 p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx(K,{className:"w-5 h-5 text-blue-600"})}),e.jsx("h2",{className:"text-lg font-semibold text-neutral-900",children:"Fiyatlandırma"})]}),e.jsxs("div",{className:"space-y-3",children:[(s==null?void 0:s.hourlyPrice)&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600",children:"Saatlik"}),e.jsxs("span",{className:"font-semibold text-neutral-900",children:[s.hourlyPrice.toLocaleString("tr-TR")," ₺"]})]}),(s==null?void 0:s.dailyPrice)&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600",children:"Günlük"}),e.jsxs("span",{className:"font-semibold text-neutral-900",children:[s.dailyPrice.toLocaleString("tr-TR")," ₺"]})]}),(s==null?void 0:s.weeklyPrice)&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600",children:"Haftalık"}),e.jsxs("span",{className:"font-semibold text-neutral-900",children:[s.weeklyPrice.toLocaleString("tr-TR")," ₺"]})]}),(s==null?void 0:s.monthlyPrice)&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600",children:"Aylık"}),e.jsxs("span",{className:"font-semibold text-neutral-900",children:[s.monthlyPrice.toLocaleString("tr-TR")," ₺"]})]}),(s==null?void 0:s.weekendPrice)&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600",children:"Hafta Sonu"}),e.jsxs("span",{className:"font-semibold text-neutral-900",children:[s.weekendPrice.toLocaleString("tr-TR")," ₺"]})]}),!(s!=null&&s.hourlyPrice)&&!(s!=null&&s.dailyPrice)&&!(s!=null&&s.weeklyPrice)&&!(s!=null&&s.monthlyPrice)&&e.jsx("p",{className:"text-gray-500 text-sm",children:"Fiyat bilgisi girilmemiş"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-neutral-200 p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx(b,{className:"w-5 h-5 text-green-600"})}),e.jsx("h2",{className:"text-lg font-semibold text-neutral-900",children:"Mali Bilgiler"})]}),e.jsxs("div",{className:"space-y-3",children:[(s==null?void 0:s.replacementValue)&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600",children:"Yenileme Bedeli"}),e.jsxs("span",{className:"font-semibold text-neutral-900",children:[s.replacementValue.toLocaleString("tr-TR")," ₺"]})]}),(s==null?void 0:s.depositAmount)&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600",children:"Depozito"}),e.jsxs("span",{className:"font-semibold text-neutral-900",children:[s.depositAmount.toLocaleString("tr-TR")," ₺"]})]}),!(s!=null&&s.replacementValue)&&!(s!=null&&s.depositAmount)&&e.jsx("p",{className:"text-gray-500 text-sm",children:"Mali bilgi girilmemiş"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-neutral-200 p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx(m,{className:"w-5 h-5 text-purple-600"})}),e.jsx("h2",{className:"text-lg font-semibold text-neutral-900",children:"Kiralama Bilgileri"})]}),e.jsxs("div",{className:"space-y-3",children:[(s==null?void 0:s.minRentalPeriod)&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600",children:"Min. Süre"}),e.jsxs("span",{className:"font-semibold text-neutral-900",children:[s.minRentalPeriod," gün"]})]}),(s==null?void 0:s.maxRentalPeriod)&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600",children:"Max. Süre"}),e.jsxs("span",{className:"font-semibold text-neutral-900",children:[s.maxRentalPeriod," gün"]})]}),!(s!=null&&s.minRentalPeriod)&&!(s!=null&&s.maxRentalPeriod)&&e.jsx("p",{className:"text-gray-500 text-sm",children:"Kiralama süresi belirtilmemiş"})]})]})]}),E=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-neutral-200",children:[e.jsx("div",{className:"p-4 border-b border-neutral-200",children:e.jsxs("h3",{className:"text-lg font-semibold text-neutral-900 flex items-center",children:[e.jsx(x,{className:"w-5 h-5 mr-2"}),"Sipariş Geçmişi"]})}),e.jsx("div",{className:"p-6",children:s!=null&&s.orderItems&&s.orderItems.length>0?e.jsx("div",{className:"space-y-4",children:s.orderItems.map(a=>e.jsxs("div",{className:"border border-neutral-200 rounded-lg p-4 hover:shadow-md transition",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-neutral-900",children:["Sipariş #",a.order.orderNumber]}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:a.order.customer.name}),e.jsx("p",{className:"text-xs text-gray-500",children:a.order.customer.email})]}),e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:a.order.status})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-neutral-600 mt-3",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(m,{className:"w-4 h-4 mr-1"}),new Date(a.order.startDate).toLocaleDateString("tr-TR")]}),e.jsx("span",{children:"-"}),e.jsx("span",{children:new Date(a.order.endDate).toLocaleDateString("tr-TR")})]})]},a.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(x,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"Henüz sipariş geçmişi bulunmuyor"})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-neutral-200",children:[e.jsx("div",{className:"p-4 border-b border-neutral-200",children:e.jsxs("h3",{className:"text-lg font-semibold text-neutral-900 flex items-center",children:[e.jsx(j,{className:"w-5 h-5 mr-2"}),"İnceleme Geçmişi"]})}),e.jsx("div",{className:"p-6",children:s!=null&&s.inspections&&s.inspections.length>0?e.jsx("div",{className:"space-y-4",children:s.inspections.map(a=>e.jsxs("div",{className:"border border-neutral-200 rounded-lg p-4 hover:shadow-md transition",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-neutral-900",children:new Date(a.inspectionDate).toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"})}),e.jsxs("p",{className:"text-sm text-neutral-600 mt-1",children:["Yetkili: ",a.inspector.name]}),e.jsx("p",{className:"text-xs text-gray-500",children:a.inspector.email})]}),e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:a.status})]}),a.notes&&e.jsx("p",{className:"text-sm text-neutral-700 mt-3 bg-neutral-50 p-3 rounded-lg",children:a.notes})]},a.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(j,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"Henüz inceleme kaydı bulunmuyor"})]})})]})]}),T=()=>e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-neutral-200 p-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(G,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-2",children:"Müsaitlik Takvimi"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Bu ekipmanın müsaitlik durumunu ve rezervasyonlarını buradan görebileceksiniz."}),e.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Yakında Gelecek"})]})});return g?e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-neutral-600"})}):o||!s?e.jsx("div",{className:"max-w-2xl mx-auto mt-20 text-center",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-8",children:[e.jsx("div",{className:"text-red-600 text-xl font-semibold mb-4",children:o||"Ekipman bulunamadı"}),e.jsx("button",{onClick:()=>n("/inventory"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition",children:"Envantere Dön"})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-neutral-200",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("button",{onClick:()=>n("/inventory"),className:"flex items-center text-neutral-600 hover:text-neutral-900 transition",children:[e.jsx(C,{className:"w-5 h-5 mr-2"}),e.jsx("span",{className:"font-medium",children:"Envantere Dön"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>h(!0),className:"flex items-center px-4 py-2 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 transition",children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"QR Kod"]}),e.jsxs("button",{onClick:()=>n(`/inventory/edit/${s.id}`),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),"Düzenle"]}),e.jsxs("button",{onClick:S,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"Sil"]})]})]}),e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsx("div",{className:"flex-shrink-0",children:s.imageUrl?e.jsx("img",{src:s.imageUrl,alt:s.name,className:"w-32 h-32 object-cover rounded-lg border border-neutral-200"}):e.jsx("div",{className:"w-32 h-32 bg-neutral-100 rounded-lg border border-neutral-200 flex items-center justify-center",children:e.jsx(M,{className:"w-16 h-16 text-gray-400"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-neutral-900 mb-2",children:s.name}),e.jsxs("div",{className:"flex items-center gap-4 text-neutral-600 mb-3",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(z,{className:"w-4 h-4 mr-1"}),s.brand," ",s.model]}),s.category&&e.jsx("span",{className:"px-3 py-1 bg-neutral-100 rounded-full text-sm",children:s.category})]})]}),e.jsx("span",{className:`px-4 py-2 rounded-lg border font-medium ${w(s.status)}`,children:k(s.status)})]}),e.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-500 mb-4",children:[e.jsxs("span",{children:["Kod: ",e.jsx("strong",{className:"text-neutral-900",children:s.code})]}),s.serialNumber&&e.jsxs("span",{children:["Seri No: ",e.jsx("strong",{className:"text-neutral-900",children:s.serialNumber})]}),e.jsxs("span",{children:["Adet: ",e.jsx("strong",{className:"text-neutral-900",children:s.quantity})]})]}),s.description&&e.jsx("p",{className:"text-neutral-700 leading-relaxed",children:s.description})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-neutral-200",children:[e.jsx("div",{className:"border-b border-neutral-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{key:"details",label:"Detaylar",icon:b},{key:"history",label:"Geçmiş & İncelemeler",icon:x},{key:"calendar",label:"Müsaitlik Takvimi",icon:m}].map(a=>{const r=a.icon;return e.jsxs("button",{onClick:()=>v(a.key),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center transition ${i===a.key?"border-neutral-500 text-blue-600":"border-transparent text-gray-500 hover:text-neutral-700 hover:border-neutral-300"}`,children:[e.jsx(r,{className:"w-4 h-4 mr-2"}),a.label]},a.key)})})}),e.jsxs("div",{className:"p-6",children:[i==="details"&&R(),i==="history"&&E(),i==="calendar"&&T()]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-neutral-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Ek Bilgiler"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-600",children:"Oluşturulma"}),e.jsx("p",{className:"font-medium text-neutral-900 mt-1",children:new Date(s.createdAt).toLocaleDateString("tr-TR")})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-600",children:"Son Güncelleme"}),e.jsx("p",{className:"font-medium text-neutral-900 mt-1",children:new Date(s.updatedAt).toLocaleDateString("tr-TR")})]}),s.qrCode&&e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-600",children:"QR Kod"}),e.jsx("p",{className:"font-medium text-neutral-900 mt-1",children:s.qrCode})]}),s.barcode&&e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-600",children:"Barkod"}),e.jsx("p",{className:"font-medium text-neutral-900 mt-1",children:s.barcode})]})]})]}),y&&s&&e.jsx(A,{equipmentId:s.id,equipmentName:s.name,serialNumber:s.serialNumber||s.code,onClose:()=>h(!1)})]})};export{F as default};
