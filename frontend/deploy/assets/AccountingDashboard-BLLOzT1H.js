import{r as u,t as _e,j as e}from"./react-vendor-DBHNAGPW.js";import{f as Q}from"./index-C00KFl1S.js";import{c as x,b as m,a as l,s as g,D as c}from"./index-C5wiI25D.js";import{R as Ue,v as qe,bj as z,bk as D,w as We,D as Xe,f as Je,Z as Qe,bl as Ve,aP as es,J as ss,y as ts,z as V,bm as as,E as Ke,ac as Ee,F as ns}from"./ui-vendor-CIs_GH3f.js";import{R as E,T as M,C as Be}from"./CategoricalChart-C69NJt_p.js";import{L as ls,a as Pe}from"./LineChart-CinkcQtg.js";import{C as B,X as P,Y as I,B as Ie,a as T}from"./BarChart-DwvJ3Z4S.js";import{L as F}from"./Legend-DPEPPdzH.js";import{A as rs,a as Te}from"./AreaChart-Brk1GT_L.js";import{P as Fe,a as Le}from"./PieChart-B4LqhFyg.js";import"./chart-vendor-R5Y1AjBI.js";import"./state-vendor-JOdu_MDH.js";const L=["#171717","#262626","#404040","#525252","#737373","#a3a3a3"];function ws(){var te,ae,ne,le,re,ie,ce,xe,oe,de,me,he,ue,je,pe,fe,ge,Ne,be,ye,ve,we,ke,Ce,ze,De,Me,$e,Ae,Re,Se,Ge;const[s,ee]=u.useState(null),[Oe,O]=u.useState(!0),[N,w]=u.useState("month"),[Y,H]=u.useState(!1),[$,Z]=u.useState("line"),[Ye,is]=u.useState(!1),[cs,xs]=u.useState(!1),[_,He]=u.useState(!1),[k,Ze]=u.useState(0);u.useEffect(()=>{se()},[N]);const se=async(n=!1)=>{n?H(!0):O(!0);try{const r="http://localhost:3001",A=localStorage.getItem("auth_token")||localStorage.getItem("token");if(!A){console.warn("?? No auth token found, showing empty dashboard"),ee({currentMonth:{income:0,expense:0,profit:0},previousMonth:{income:0,expense:0,profit:0},trends:{incomeChange:0,expenseChange:0,profitChange:0},monthlyData:[],categoryBreakdown:{income:[],expense:[]}}),O(!1),H(!1);return}const b={Authorization:`Bearer ${A}`,"Content-Type":"application/json"};console.log("?? Loading dashboard data...",{API_URL:r});const[S,R,G]=await Promise.all([Q.get(`${r}/api/accounting/dashboard/trends?months=6`,{headers:b}).catch(i=>{var f;return console.error("? Trends API error:",((f=i.response)==null?void 0:f.data)||i.message),{data:{data:[]}}}),Q.get(`${r}/api/accounting/dashboard/categories?type=income`,{headers:b}).catch(i=>{var f;return console.error("? Income categories API error:",((f=i.response)==null?void 0:f.data)||i.message),{data:{data:[]}}}),Q.get(`${r}/api/accounting/dashboard/categories?type=expense`,{headers:b}).catch(i=>{var f;return console.error("? Expense categories API error:",((f=i.response)==null?void 0:f.data)||i.message),{data:{data:[]}}})]);console.log("? Dashboard data loaded:",{trendsRes:S.data,incomeCatRes:R.data,expenseCatRes:G.data});const p=S.data.data||[],U=R.data.data||[],q=G.data.data||[],W=Array.isArray(p)?p.map(i=>({month:new Date(i.month).toLocaleDateString("tr-TR",{month:"short",year:"2-digit"}),income:i.income||0,expense:i.expense||0})):[],h=p[p.length-1]||{income:0,expense:0},d=p[p.length-2]||{income:0,expense:0},C=h.income-h.expense,y=d.income-d.expense,K=d.income>0?(h.income-d.income)/d.income*100:0,X=d.expense>0?(h.expense-d.expense)/d.expense*100:0,J=y!==0?(C-y)/Math.abs(y)*100:0,o=(U||[]).map(i=>({category:i.category||"Diğer",amount:i.total||i.amount||0})),v=(q||[]).map(i=>({category:i.category||"Diğer",amount:i.total||i.amount||0}));ee({currentMonth:{income:h.income||0,expense:h.expense||0,profit:C},previousMonth:{income:d.income||0,expense:d.expense||0,profit:y},trends:{incomeChange:K,expenseChange:X,profitChange:J},monthlyData:W,categoryBreakdown:{income:o,expense:v}})}catch(r){console.error("Failed to load dashboard data:",r),_e.error("Dashboard verileri yüklenemedi")}finally{O(!1),H(!1)}},a=n=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",minimumFractionDigits:0,maximumFractionDigits:0}).format(n),j=n=>`${n>=0?"+":""}${n.toFixed(1)}%`,t=(()=>{if(!s||!s.monthlyData||s.monthlyData.length===0)return null;const n=s.monthlyData.map(o=>o.income),r=s.monthlyData.map(o=>o.expense),A=s.monthlyData.map(o=>o.income-o.expense),b=n.reduce((o,v)=>o+v,0)/n.length,S=r.reduce((o,v)=>o+v,0)/r.length,R=A.reduce((o,v)=>o+v,0)/A.length,G=Math.max(...n),p=Math.min(...n),U=Math.max(...r),q=Math.min(...r),W=b>0?R/b*100:0,h=n[0]||0,d=n[n.length-1]||0,C=h>0?(d-h)/h*100:0,y=d*(1+C/100),K=r[r.length-1]*(1+C/100),X=y-K,J=k>0?s.currentMonth.income/k*100:0;return{avgIncome:b,avgExpense:S,avgProfit:R,maxIncome:G,minIncome:p,maxExpense:U,minExpense:q,profitabilityRatio:W,growthRate:C,forecastIncome:y,forecastExpense:K,forecastProfit:X,targetAchievement:J}})();return Oe?e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-neutral-600",children:"Dashboard yükleniyor..."})})}):s?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:()=>se(!0),disabled:Y,className:x(m("sm","outline","md"),"gap-2"),title:"Yenile",children:[e.jsx(Ue,{size:16,className:Y?"animate-spin":""}),e.jsx("span",{className:"hidden sm:inline",children:Y?"Yenileniyor...":"Yenile"})]}),e.jsx("div",{className:"h-8 w-px bg-neutral-300 hidden sm:block"}),e.jsx("button",{onClick:()=>w("day"),className:m("sm",N==="day"?"primary":"outline","lg"),children:"Bugün"}),e.jsx("button",{onClick:()=>w("week"),className:m("sm",N==="week"?"primary":"outline","lg"),children:"Bu Hafta"}),e.jsx("button",{onClick:()=>w("month"),className:m("sm",N==="month"?"primary":"outline","lg"),children:"Bu Ay"}),e.jsx("button",{onClick:()=>w("quarter"),className:m("sm",N==="quarter"?"primary":"outline","lg"),children:"Son 3 Ay"}),e.jsx("button",{onClick:()=>w("halfyear"),className:m("sm",N==="halfyear"?"primary":"outline","lg"),children:"Son 6 Ay"}),e.jsx("button",{onClick:()=>w("year"),className:m("sm",N==="year"?"primary":"outline","lg"),children:"Yıllık"})]})}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[e.jsxs("div",{className:l("sm","sm","default","lg"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:g("primary"),children:e.jsx(qe,{className:"text-white",size:16})}),e.jsxs("div",{className:`flex items-center gap-1 text-xs font-semibold ${s.trends.incomeChange>=0?"text-neutral-900":"text-neutral-500"}`,children:[s.trends.incomeChange>=0?e.jsx(z,{size:14}):e.jsx(D,{size:14}),j(s.trends.incomeChange)]})]}),e.jsx("h3",{className:"text-lg font-bold text-neutral-900 mb-0.5",children:a(s.currentMonth.income)}),e.jsx("p",{className:"text-xs font-medium text-neutral-600",children:"Bu Ay Gelir"})]}),e.jsxs("div",{className:l("sm","sm","default","lg"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:g("error"),children:e.jsx(We,{className:"text-white",size:16})}),e.jsxs("div",{className:`flex items-center gap-1 text-xs font-semibold ${s.trends.expenseChange>=0?"text-neutral-500":"text-neutral-900"}`,children:[s.trends.expenseChange>=0?e.jsx(z,{size:14}):e.jsx(D,{size:14}),j(s.trends.expenseChange)]})]}),e.jsx("h3",{className:"text-lg font-bold text-neutral-900 mb-0.5",children:a(s.currentMonth.expense)}),e.jsx("p",{className:"text-xs font-medium text-neutral-600",children:"Bu Ay Gider"})]}),e.jsxs("div",{className:x(l("sm","sm","default","lg"),s.currentMonth.profit>=0?"border-neutral-900":"border-neutral-300"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:g(s.currentMonth.profit>=0?"success":"neutral"),children:e.jsx(Xe,{className:"text-white",size:16})}),e.jsxs("div",{className:`flex items-center gap-1 text-xs font-semibold ${s.trends.profitChange>=0?"text-neutral-900":"text-neutral-500"}`,children:[s.trends.profitChange>=0?e.jsx(z,{size:14}):e.jsx(D,{size:14}),j(s.trends.profitChange)]})]}),e.jsx("h3",{className:`text-lg font-bold mb-0.5 ${s.currentMonth.profit>=0?"text-neutral-900":"text-neutral-600"}`,children:a(Math.abs(s.currentMonth.profit))}),e.jsx("p",{className:`text-xs font-medium ${s.currentMonth.profit>=0?"text-neutral-900":"text-neutral-600"}`,children:s.currentMonth.profit>=0?"Net Kâr":"Net Zarar"})]}),e.jsxs("div",{className:l("sm","sm","default","lg"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:g("neutral"),children:e.jsx(Je,{className:"text-white",size:16})}),e.jsx("span",{className:"text-xs font-medium text-neutral-600",children:"Bu Ay"})]}),e.jsx("h3",{className:"text-lg font-bold text-neutral-900 mb-0.5",children:a(s.currentMonth.income-s.currentMonth.expense)}),e.jsx("p",{className:"text-xs font-medium text-neutral-600",children:"Nakit Akışı"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:l("md","lg","default","lg"),children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:g("primary"),children:e.jsx(Qe,{className:"text-white",size:20})}),e.jsx("h3",{className:x((ae=(te=c)==null?void 0:te.typography)==null?void 0:ae.body.lg,"font-semibold text-neutral-900"),children:"Hızlı Analizler"})]}),t&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-neutral-700",children:"Kârlılık Oranı"}),e.jsxs("span",{className:`text-lg font-bold ${t.profitabilityRatio>=0?"text-neutral-900":"text-neutral-700"}`,children:[t.profitabilityRatio.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-neutral-700",children:"Büyüme Hızı"}),e.jsx("span",{className:`text-lg font-bold ${t.growthRate>=0?"text-neutral-900":"text-neutral-800"}`,children:j(t.growthRate)})]}),e.jsx("div",{className:"h-px bg-neutral-200 my-2"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-neutral-700",children:"Ort. Gelir"}),e.jsx("span",{className:"text-sm font-semibold text-neutral-900",children:a(t.avgIncome)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-neutral-700",children:"Ort. Gider"}),e.jsx("span",{className:"text-sm font-semibold text-neutral-900",children:a(t.avgExpense)})]})]})]}),e.jsxs("div",{className:l("md","lg","default","lg"),children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:g("neutral"),children:e.jsx(Ve,{className:"text-white",size:20})}),e.jsx("h3",{className:x((le=(ne=c)==null?void 0:ne.typography)==null?void 0:le.body.lg,"font-semibold text-amber-900"),children:"Gelecek Ay Tahmini"})]}),t&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-white/60 rounded-xl p-3",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-xs text-neutral-700",children:"Tahmini Gelir"}),e.jsx("span",{className:"text-neutral-900 text-xs",children:"^"})]}),e.jsx("span",{className:x((ie=(re=c)==null?void 0:re.typography)==null?void 0:ie.stat.md,"text-amber-900"),children:a(t.forecastIncome)})]}),e.jsxs("div",{className:"bg-white/60 rounded-xl p-3",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-xs text-neutral-700",children:"Tahmini Gider"}),e.jsx("span",{className:"text-neutral-800 text-xs",children:"v"})]}),e.jsx("span",{className:x((xe=(ce=c)==null?void 0:ce.typography)==null?void 0:xe.stat.md,"text-amber-900"),children:a(t.forecastExpense)})]}),e.jsxs("div",{className:x(l("md","sm","default","md")),children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-xs text-neutral-700",children:"Tahmini Kâr"}),e.jsx("span",{className:`text-xs ${t.forecastProfit>=0?"text-neutral-900":"text-neutral-800"}`,children:t.forecastProfit>=0?"^":"v"})]}),e.jsx("span",{className:`text-xl font-bold ${t.forecastProfit>=0?"text-neutral-900":"text-neutral-800"}`,children:a(Math.abs(t.forecastProfit))})]})]})]}),e.jsxs("div",{className:l("md","lg","default","lg"),children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:g("neutral"),children:e.jsx(es,{className:"text-white",size:20})}),e.jsx("h3",{className:x((de=(oe=c)==null?void 0:oe.typography)==null?void 0:de.body.lg,"font-semibold text-neutral-900"),children:"Hedef Takibi"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-neutral-700 mb-2 block",children:"Aylık Gelir Hedefi"}),e.jsx("input",{type:"number",value:k,onChange:n=>Ze(Number(n.target.value)),placeholder:"Hedef tutarı girin",className:"w-full px-4 py-2 rounded-xl border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-neutral-500 bg-white"})]}),k>0&&t&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-neutral-700",children:"Gerçekleşme"}),e.jsxs("span",{className:`text-xl font-bold ${t.targetAchievement>=100?"text-neutral-900":"text-neutral-700"}`,children:[t.targetAchievement.toFixed(1),"%"]})]}),e.jsx("div",{className:"bg-white rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-500 ${t.targetAchievement>=100,"bg-neutral-800"}`,style:{width:`${Math.min(t.targetAchievement,100)}%`}})}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsxs("span",{className:"text-neutral-900",children:["Hedef: ",a(k)]}),e.jsxs("span",{className:"text-neutral-900",children:["Kalan: ",a(Math.max(0,k-s.currentMonth.income))]})]}),t.targetAchievement>=100&&e.jsx("div",{className:"bg-neutral-50 text-neutral-900 text-xs px-3 py-2 rounded-lg text-center font-medium",children:"?? Hedef aşıldı!"})]})]})]})]}),e.jsxs("div",{className:x(l("md","md","default","lg"),"flex items-center justify-between"),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:g("neutral"),children:e.jsx(ss,{className:"text-white",size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-neutral-900",children:"Detaylı İstatistikler"}),e.jsx("p",{className:"text-xs text-neutral-600",children:"Ortalama, maksimum ve minimum değerleri göster"})]})]}),e.jsx("button",{onClick:()=>He(!_),className:m("sm","primary","lg"),children:_?"Gizle":"Göster"})]}),_&&t&&e.jsxs("div",{className:l("md","lg","default","lg"),children:[e.jsx("h3",{className:x((he=(me=c)==null?void 0:me.typography)==null?void 0:he.body.lg,"font-semibold text-slate-900 mb-6"),children:"Detaylı İstatistikler"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:l("sm","md","default","lg"),children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-800 mb-4",children:"Gelir İstatistikleri"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-slate-600",children:"Ortalama"}),e.jsx("span",{className:"text-sm font-bold text-slate-900",children:a(t.avgIncome)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-slate-600",children:"En Yüksek"}),e.jsx("span",{className:"text-sm font-bold text-neutral-900",children:a(t.maxIncome)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-slate-600",children:"En Düşük"}),e.jsx("span",{className:"text-sm font-bold text-slate-600",children:a(t.minIncome)})]}),e.jsx("div",{className:"h-px bg-neutral-200 my-2"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-slate-600",children:"Değişkenlik"}),e.jsx("span",{className:"text-sm font-bold text-slate-900",children:a(t.maxIncome-t.minIncome)})]})]})]}),e.jsxs("div",{className:l("sm","md","default","lg"),children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-800 mb-4",children:"Gider İstatistikleri"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-slate-600",children:"Ortalama"}),e.jsx("span",{className:"text-sm font-bold text-slate-900",children:a(t.avgExpense)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-slate-600",children:"En Yüksek"}),e.jsx("span",{className:"text-sm font-bold text-neutral-800",children:a(t.maxExpense)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-slate-600",children:"En Düşük"}),e.jsx("span",{className:"text-sm font-bold text-slate-600",children:a(t.minExpense)})]}),e.jsx("div",{className:"h-px bg-neutral-200 my-2"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-slate-600",children:"Değişkenlik"}),e.jsx("span",{className:"text-sm font-bold text-slate-900",children:a(t.maxExpense-t.minExpense)})]})]})]}),e.jsxs("div",{className:l("sm","md","default","lg"),children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-800 mb-4",children:"Kâr/Zarar İstatistikleri"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-slate-600",children:"Ortalama Kâr"}),e.jsx("span",{className:`text-sm font-bold ${t.avgProfit>=0?"text-neutral-900":"text-neutral-800"}`,children:a(Math.abs(t.avgProfit))})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-slate-600",children:"Kârlılık"}),e.jsxs("span",{className:`text-sm font-bold ${t.profitabilityRatio>=0?"text-neutral-900":"text-neutral-800"}`,children:[t.profitabilityRatio.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-slate-600",children:"Büyüme Hızı"}),e.jsx("span",{className:`text-sm font-bold ${t.growthRate>=0?"text-neutral-900":"text-neutral-800"}`,children:j(t.growthRate)})]}),e.jsx("div",{className:"h-px bg-neutral-200 my-2"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-slate-600",children:"Performans"}),e.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded ${t.profitabilityRatio>=20?"bg-neutral-50 text-neutral-800":t.profitabilityRatio>=10?"bg-neutral-100 text-neutral-700":"bg-neutral-50 text-neutral-800"}`,children:t.profitabilityRatio>=20?"Mükemmel":t.profitabilityRatio>=10?"İyi":"Geliştirilmeli"})]})]})]})]})]}),Ye&&e.jsxs("div",{className:l("md","lg","default","lg"),children:[e.jsx("h3",{className:x((je=(ue=c)==null?void 0:ue.typography)==null?void 0:je.body.lg,"font-semibold text-neutral-900 mb-4"),children:"Dönem Karşılaştırması"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:l("sm","sm","default","lg"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"Gelir Artışı"}),e.jsxs("div",{className:`flex items-center gap-1 text-sm font-semibold ${s.trends.incomeChange>=0?"text-neutral-900":"text-neutral-800"}`,children:[s.trends.incomeChange>=0?e.jsx(z,{size:14}):e.jsx(D,{size:14}),j(s.trends.incomeChange)]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-neutral-500",children:"Bu ay:"}),e.jsx("span",{className:"font-medium",children:a(s.currentMonth.income)})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-neutral-500",children:"Geçen ay:"}),e.jsx("span",{className:"font-medium",children:a(s.previousMonth.income)})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-neutral-500",children:"Fark:"}),e.jsx("span",{className:"font-medium",children:a(s.currentMonth.income-s.previousMonth.income)})]})]})]}),e.jsxs("div",{className:l("sm","sm","default","lg"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"Gider Değişimi"}),e.jsxs("div",{className:`flex items-center gap-1 text-sm font-semibold ${s.trends.expenseChange>=0?"text-neutral-800":"text-neutral-900"}`,children:[s.trends.expenseChange>=0?e.jsx(z,{size:14}):e.jsx(D,{size:14}),j(s.trends.expenseChange)]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-neutral-500",children:"Bu ay:"}),e.jsx("span",{className:"font-medium",children:a(s.currentMonth.expense)})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-neutral-500",children:"Geçen ay:"}),e.jsx("span",{className:"font-medium",children:a(s.previousMonth.expense)})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-neutral-500",children:"Fark:"}),e.jsx("span",{className:"font-medium",children:a(s.currentMonth.expense-s.previousMonth.expense)})]})]})]}),e.jsxs("div",{className:l("sm","sm","default","lg"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"Kar/Zarar Değişimi"}),e.jsxs("div",{className:`flex items-center gap-1 text-sm font-semibold ${s.trends.profitChange>=0?"text-neutral-900":"text-neutral-800"}`,children:[s.trends.profitChange>=0?e.jsx(z,{size:14}):e.jsx(D,{size:14}),j(s.trends.profitChange)]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-neutral-500",children:"Bu ay:"}),e.jsx("span",{className:"font-medium",children:a(s.currentMonth.profit)})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-neutral-500",children:"Geçen ay:"}),e.jsx("span",{className:"font-medium",children:a(s.previousMonth.profit)})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-neutral-500",children:"Fark:"}),e.jsx("span",{className:"font-medium",children:a(s.currentMonth.profit-s.previousMonth.profit)})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:l("md","sm","default","lg"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:`${(fe=(pe=c)==null?void 0:pe.typography)==null?void 0:fe.h3} ${(Ne=(ge=c)==null?void 0:ge.colors)==null?void 0:Ne.text.primary}`,children:"Aylık Trend"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>Z("line"),className:x(m("sm",$==="line"?"primary":"outline","lg"),"p-2"),title:"Çizgi Grafik",children:e.jsx(ts,{size:16})}),e.jsx("button",{onClick:()=>Z("bar"),className:x(m("sm",$==="bar"?"primary":"outline","lg"),"p-2"),title:"Çubuk Grafik",children:e.jsx(V,{size:16})}),e.jsx("button",{onClick:()=>Z("area"),className:x(m("sm",$==="area"?"primary":"outline","lg"),"p-2"),title:"Alan Grafik",children:e.jsx(as,{size:16})})]})]}),e.jsx(E,{width:"100%",height:260,children:$==="line"?e.jsxs(ls,{data:s.monthlyData,children:[e.jsx(B,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(P,{dataKey:"month",tick:{fontSize:12},stroke:"#6b7280"}),e.jsx(I,{tick:{fontSize:12},stroke:"#6b7280"}),e.jsx(M,{formatter:n=>a(n),contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"}}),e.jsx(F,{}),e.jsx(Pe,{type:"monotone",dataKey:"income",stroke:"#171717",strokeWidth:2,name:"Gelir",dot:{fill:"#171717",r:4}}),e.jsx(Pe,{type:"monotone",dataKey:"expense",stroke:"#737373",strokeWidth:2,name:"Gider",dot:{fill:"#737373",r:4}})]}):$==="bar"?e.jsxs(Ie,{data:s.monthlyData,children:[e.jsx(B,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(P,{dataKey:"month",tick:{fontSize:12},stroke:"#6b7280"}),e.jsx(I,{tick:{fontSize:12},stroke:"#6b7280"}),e.jsx(M,{formatter:n=>a(n),contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"}}),e.jsx(F,{}),e.jsx(T,{dataKey:"income",fill:"#171717",name:"Gelir",radius:[8,8,0,0]}),e.jsx(T,{dataKey:"expense",fill:"#737373",name:"Gider",radius:[8,8,0,0]})]}):e.jsxs(rs,{data:s.monthlyData,children:[e.jsx(B,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(P,{dataKey:"month",tick:{fontSize:12},stroke:"#6b7280"}),e.jsx(I,{tick:{fontSize:12},stroke:"#6b7280"}),e.jsx(M,{formatter:n=>a(n),contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"}}),e.jsx(F,{}),e.jsx(Te,{type:"monotone",dataKey:"income",stroke:"#171717",fill:"#171717",fillOpacity:.3,name:"Gelir"}),e.jsx(Te,{type:"monotone",dataKey:"expense",stroke:"#737373",fill:"#737373",fillOpacity:.3,name:"Gider"})]})})]}),e.jsxs("div",{className:l("md","sm","default","lg"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:`${(ye=(be=c)==null?void 0:be.typography)==null?void 0:ye.h3} ${(we=(ve=c)==null?void 0:ve.colors)==null?void 0:we.text.primary}`,children:"Gelir vs Gider"}),e.jsx(V,{className:"text-neutral-400",size:20})]}),e.jsx(E,{width:"100%",height:260,children:e.jsxs(Ie,{data:s.monthlyData,children:[e.jsx(B,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(P,{dataKey:"month",tick:{fontSize:12},stroke:"#6b7280"}),e.jsx(I,{tick:{fontSize:12},stroke:"#6b7280"}),e.jsx(M,{formatter:n=>a(n),contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"}}),e.jsx(F,{}),e.jsx(T,{dataKey:"income",fill:"#171717",name:"Gelir",radius:[8,8,0,0]}),e.jsx(T,{dataKey:"expense",fill:"#737373",name:"Gider",radius:[8,8,0,0]})]})})]}),s.categoryBreakdown.income.length>0&&e.jsxs("div",{className:l("md","sm","default","lg"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:`${(Ce=(ke=c)==null?void 0:ke.typography)==null?void 0:Ce.h3} ${(De=(ze=c)==null?void 0:ze.colors)==null?void 0:De.text.primary}`,children:"Gelir Kategorileri"}),e.jsx(Ke,{className:"text-neutral-400",size:20})]}),e.jsx(E,{width:"100%",height:260,children:e.jsxs(Fe,{children:[e.jsx(Le,{data:s.categoryBreakdown.income,dataKey:"amount",nameKey:"category",cx:"50%",cy:"50%",outerRadius:90,label:n=>`${n.category}: ${a(n.amount)}`,labelLine:!1,children:s.categoryBreakdown.income.map((n,r)=>e.jsx(Be,{fill:L[r%L.length]},`cell-${r}`))}),e.jsx(M,{formatter:n=>a(n)})]})})]}),s.categoryBreakdown.expense.length>0&&e.jsxs("div",{className:l("md","sm","default","lg"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:`${($e=(Me=c)==null?void 0:Me.typography)==null?void 0:$e.h3} ${(Re=(Ae=c)==null?void 0:Ae.colors)==null?void 0:Re.text.primary}`,children:"Gider Kategorileri"}),e.jsx(Ke,{className:"text-neutral-400",size:20})]}),e.jsx(E,{width:"100%",height:260,children:e.jsxs(Fe,{children:[e.jsx(Le,{data:s.categoryBreakdown.expense,dataKey:"amount",nameKey:"category",cx:"50%",cy:"50%",outerRadius:90,label:n=>`${n.category}: ${a(n.amount)}`,labelLine:!1,children:s.categoryBreakdown.expense.map((n,r)=>e.jsx(Be,{fill:L[r%L.length]},`cell-${r}`))}),e.jsx(M,{formatter:n=>a(n)})]})})]})]}),e.jsxs("div",{className:l("md","lg","default","lg"),children:[e.jsx("h3",{className:x((Ge=(Se=c)==null?void 0:Se.typography)==null?void 0:Ge.body.lg,"font-semibold text-neutral-900 mb-4"),children:"Hızlı İşlemler"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("button",{onClick:()=>window.location.hash="#income",className:"flex items-center gap-3 p-4 bg-neutral-50 hover:bg-neutral-50 rounded-xl transition-colors text-left",children:[e.jsx("div",{className:"w-10 h-10 bg-neutral-50 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(Ee,{className:"text-white",size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-neutral-900 text-sm",children:"Gelir Ekle"}),e.jsx("p",{className:"text-xs text-neutral-800",children:"Yeni gelir kaydı"})]})]}),e.jsxs("button",{onClick:()=>window.location.hash="#expense",className:"flex items-center gap-3 p-4 bg-neutral-50 hover:bg-neutral-50 rounded-xl transition-colors text-left",children:[e.jsx("div",{className:"w-10 h-10 bg-neutral-50 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(Ee,{className:"text-white",size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-neutral-900 text-sm",children:"Gider Ekle"}),e.jsx("p",{className:"text-xs text-neutral-800",children:"Yeni gider kaydı"})]})]}),e.jsxs("button",{onClick:()=>window.location.hash="#invoice",className:"flex items-center gap-3 p-4 bg-neutral-50 hover:bg-neutral-50 rounded-xl transition-colors text-left",children:[e.jsx("div",{className:"w-10 h-10 bg-neutral-50 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(ns,{className:"text-white",size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-neutral-900 text-sm",children:"Fatura Kes"}),e.jsx("p",{className:"text-xs text-neutral-800",children:"Yeni fatura oluştur"})]})]}),e.jsxs("button",{onClick:()=>window.location.hash="#reports",className:"flex items-center gap-3 p-4 bg-neutral-50 hover:bg-neutral-50 rounded-xl transition-colors text-left",children:[e.jsx("div",{className:"w-10 h-10 bg-neutral-50 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(V,{className:"text-white",size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-neutral-900 text-sm",children:"Raporlar"}),e.jsx("p",{className:"text-xs text-neutral-900",children:"Detaylı raporlar"})]})]})]})]})]}):e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-neutral-600",children:"Dashboard verisi yüklenemedi"})})})}export{ws as default};
