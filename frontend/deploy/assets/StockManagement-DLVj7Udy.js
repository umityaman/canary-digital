import{r as h,j as e}from"./react-vendor-DBHNAGPW.js";import{t as Yt}from"./tr-DhsOPUdB.js";import{n as ot,q as st,r as rt,t as D,h as fe,v as at,T as w,w as re,x as Et,y as zt,z as Pt,B as yn,C as Tt,D as vn,E as In,F as pe,P as Me,G as Ze,H as Ve,I as Qt,J as Nt,K as he,L as ge,M as Sn,N as Pn,O as nt,S as kn,f as Oe,Q as G,R as Ie,U as un,V as Wt,W as Jt,X as kt,Y as Tn}from"./index-C00KFl1S.js";import{P as dn,C as Se,K as Cn,a as Ln,T as x,G as O,L as Xt,A as Zt,D as en,b as Vt,c as pn,d as hn,e as fn,f as Re,g as gn,h as wn,i as xn,j as $n,k as An,l as Rn,m as Mn,n as On,o as Bn,p as et,q as tt,r as Dn,s as Ft}from"./AdapterDateFns-Di3tMUlI.js";import{f as mn}from"./format-Dpnjph-B.js";import"./chart-vendor-R5Y1AjBI.js";import"./longFormatters-CHeuiwJ9.js";import"./state-vendor-JOdu_MDH.js";import"./ui-vendor-CIs_GH3f.js";function zn(t){return ot("MuiAlertTitle",t)}st("MuiAlertTitle",["root"]);const Nn=t=>{const{classes:s}=t;return at({root:["root"]},zn,s)},Fn=D(w,{name:"MuiAlertTitle",slot:"Root"})(re(({theme:t})=>({fontWeight:t.typography.fontWeightMedium,marginTop:-2}))),Hn=h.forwardRef(function(s,a){const i=rt({props:s,name:"MuiAlertTitle"}),{className:c,...u}=i,y=i,S=Nn(y);return e.jsx(Fn,{gutterBottom:!0,component:"div",ownerState:y,ref:a,className:fe(S.root,c),...u})});function En(t){const s=h.useRef({});return h.useEffect(()=>{s.current=t}),s.current}function tn({array1:t,array2:s,parser:a=i=>i}){return t&&s&&t.length===s.length&&t.every((i,c)=>a(i)===a(s[c]))}function nn(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function Wn(t={}){const{ignoreAccents:s=!0,ignoreCase:a=!0,limit:i,matchFrom:c="any",stringify:u,trim:y=!1}=t;return(S,{inputValue:v,getOptionLabel:$})=>{let k=y?v.trim():v;a&&(k=k.toLowerCase()),s&&(k=nn(k));const f=k?S.filter(p=>{let C=(u||$)(p);return a&&(C=C.toLowerCase()),s&&(C=nn(C)),c==="start"?C.startsWith(k):C.includes(k)}):S;return typeof i=="number"?f.slice(0,i):f}}const Vn=Wn(),on=5,qn=t=>{var s;return t.current!==null&&((s=t.current.parentElement)==null?void 0:s.contains(document.activeElement))},Gn=[];function sn(t,s,a,i){if(s||t==null||i)return"";const c=a(t);return typeof c=="string"?c:""}function Un(t){const{unstable_isActiveElementInListbox:s=qn,unstable_classNamePrefix:a="Mui",autoComplete:i=!1,autoHighlight:c=!1,autoSelect:u=!1,blurOnSelect:y=!1,clearOnBlur:S=!t.freeSolo,clearOnEscape:v=!1,componentName:$="useAutocomplete",defaultValue:k=t.multiple?Gn:null,disableClearable:f=!1,disableCloseOnSelect:p=!1,disabled:C,disabledItemsFocusable:Z=!1,disableListWrap:B=!1,filterOptions:L=Vn,filterSelectedOptions:W=!1,freeSolo:d=!1,getOptionDisabled:r,getOptionKey:m,getOptionLabel:N=o=>o.label??o,groupBy:U,handleHomeEndKeys:Pe=!t.freeSolo,id:qe,includeInputInList:Q=!1,inputValue:F,isOptionEqualToValue:H=(o,n)=>o===n,multiple:P=!1,onChange:xe,onClose:ke,onHighlightChange:de,onInputChange:ne,onOpen:ee,open:Ge,openOnFocus:Ue=!1,options:Ke,readOnly:oe=!1,renderValue:K,selectOnFocus:Be=!t.freeSolo,value:Te}=t,M=Et(qe);let E=N;E=o=>{const n=N(o);return typeof n!="string"?String(n):n};const De=h.useRef(!1),ze=h.useRef(!0),V=h.useRef(null),te=h.useRef(null),[Ne,ae]=h.useState(null),[se,ft]=h.useState(-1),Ct=c?0:-1,J=h.useRef(Ct),Ut=h.useRef(sn(k??Te,P,E)).current,[b,lt]=zt({controlled:Te,default:k,name:$}),[A,Fe]=zt({controlled:F,default:Ut,name:$,state:"inputValue"}),[_e,gt]=h.useState(!1),Ye=h.useCallback((o,n,l)=>{if(!(P?b.length<n.length:n!==null)&&!S)return;const j=sn(n,P,E,K);A!==j&&(Fe(j),ne&&ne(o,j,l))},[E,A,P,ne,Fe,S,b,K]),[me,He]=zt({controlled:Ge,default:!1,name:$,state:"open"}),[Kt,Qe]=h.useState(!0),xt=!P&&b!=null&&A===E(b),X=me&&!oe,R=X?L(Ke.filter(o=>!(W&&(P?b:[b]).some(n=>n!==null&&H(o,n)))),{inputValue:xt&&Kt?"":A,getOptionLabel:E}):[],le=En({filteredOptions:R,value:b,inputValue:A});h.useEffect(()=>{const o=b!==le.value;_e&&!o||d&&!o||Ye(null,b,"reset")},[b,Ye,_e,le.value,d]);const mt=me&&R.length>0&&!oe,ie=Pt(o=>{if(o===-1)V.current.focus();else{const n=K?"data-item-index":"data-tag-index";Ne.querySelector(`[${n}="${o}"]`).focus()}});h.useEffect(()=>{P&&se>b.length-1&&(ft(-1),ie(-1))},[b,P,se,ie]);function Lt(o,n){if(!te.current||o<0||o>=R.length)return-1;let l=o;for(;;){const g=te.current.querySelector(`[data-option-index="${l}"]`),j=Z?!1:!g||g.disabled||g.getAttribute("aria-disabled")==="true";if(g&&g.hasAttribute("tabindex")&&!j)return l;if(n==="next"?l=(l+1)%R.length:l=(l-1+R.length)%R.length,l===o)return-1}}const be=Pt(({event:o,index:n,reason:l})=>{if(J.current=n,n===-1?V.current.removeAttribute("aria-activedescendant"):V.current.setAttribute("aria-activedescendant",`${M}-option-${n}`),de&&["mouse","keyboard","touch"].includes(l)&&de(o,n===-1?null:R[n],l),!te.current)return;const g=te.current.querySelector(`[role="option"].${a}-focused`);g&&(g.classList.remove(`${a}-focused`),g.classList.remove(`${a}-focusVisible`));let j=te.current;if(te.current.getAttribute("role")!=="listbox"&&(j=te.current.parentElement.querySelector('[role="listbox"]')),!j)return;if(n===-1){j.scrollTop=0;return}const Y=te.current.querySelector(`[data-option-index="${n}"]`);if(Y&&(Y.classList.add(`${a}-focused`),l==="keyboard"&&Y.classList.add(`${a}-focusVisible`),j.scrollHeight>j.clientHeight&&l!=="mouse"&&l!=="touch")){const z=Y,ue=j.clientHeight+j.scrollTop,vt=z.offsetTop+z.offsetHeight;vt>ue?j.scrollTop=vt-j.clientHeight:z.offsetTop-z.offsetHeight*(U?1.3:0)<j.scrollTop&&(j.scrollTop=z.offsetTop-z.offsetHeight*(U?1.3:0))}}),ce=Pt(({event:o,diff:n,direction:l="next",reason:g})=>{if(!X)return;const Y=Lt((()=>{const z=R.length-1;if(n==="reset")return Ct;if(n==="start")return 0;if(n==="end")return z;const ue=J.current+n;return ue<0?ue===-1&&Q?-1:B&&J.current!==-1||Math.abs(n)>1?0:z:ue>z?ue===z+1&&Q?-1:B||Math.abs(n)>1?z:0:ue})(),l);if(be({index:Y,reason:g,event:o}),i&&n!=="reset")if(Y===-1)V.current.value=A;else{const z=E(R[Y]);V.current.value=z,z.toLowerCase().indexOf(A.toLowerCase())===0&&A.length>0&&V.current.setSelectionRange(A.length,z.length)}}),bt=!tn({array1:le.filteredOptions,array2:R,parser:E}),wt=()=>{const o=(n,l)=>{const g=n?E(n):"",j=l?E(l):"";return g===j};if(J.current!==-1&&!tn({array1:le.filteredOptions,array2:R,parser:E})&&le.inputValue===A&&(P?b.length===le.value.length&&le.value.every((n,l)=>E(b[l])===E(n)):o(le.value,b))){const n=le.filteredOptions[J.current];if(n)return R.findIndex(l=>E(l)===E(n))}return-1},it=h.useCallback(()=>{if(!X)return;const o=wt();if(o!==-1){J.current=o;return}const n=P?b[0]:b;if(R.length===0||n==null){ce({diff:"reset"});return}if(te.current){if(n!=null){const l=R[J.current];if(P&&l&&b.findIndex(j=>H(l,j))!==-1)return;const g=R.findIndex(j=>H(j,n));g===-1?ce({diff:"reset"}):be({index:g});return}if(J.current>=R.length-1){be({index:R.length-1});return}be({index:J.current})}},[R.length,P?!1:b,W,ce,be,X,A,P]),Ce=Pt(o=>{yn(te,o),o&&it()});h.useEffect(()=>{(bt||X)&&it()},[it,bt,X]);const je=o=>{me||(He(!0),Qe(!0),ee&&ee(o))},Ee=(o,n)=>{me&&(He(!1),ke&&ke(o,n))},ye=(o,n,l,g)=>{if(P){if(b.length===n.length&&b.every((j,Y)=>j===n[Y]))return}else if(b===n)return;xe&&xe(o,n,l,g),lt(n)},ve=h.useRef(!1),Le=(o,n,l="selectOption",g="options")=>{let j=l,Y=n;if(P){Y=Array.isArray(b)?b.slice():[];const z=Y.findIndex(ue=>H(n,ue));z===-1?Y.push(n):g!=="freeSolo"&&(Y.splice(z,1),j="removeOption")}Ye(o,Y,j),ye(o,Y,j,{option:n}),!p&&(!o||!o.ctrlKey&&!o.metaKey)&&Ee(o,j),(y===!0||y==="touch"&&ve.current||y==="mouse"&&!ve.current)&&V.current.blur()};function $t(o,n){if(o===-1)return-1;let l=o;for(;;){if(n==="next"&&l===b.length||n==="previous"&&l===-1)return-1;const g=K?"data-item-index":"data-tag-index",j=Ne.querySelector(`[${g}="${l}"]`);if(!j||!j.hasAttribute("tabindex")||j.disabled||j.getAttribute("aria-disabled")==="true")l+=n==="next"?1:-1;else return l}}const We=(o,n)=>{if(!P)return;A===""&&Ee(o,"toggleInput");let l=se;se===-1?A===""&&n==="previous"&&(l=b.length-1):(l+=n==="next"?1:-1,l<0&&(l=0),l===b.length&&(l=-1)),l=$t(l,n),ft(l),ie(l)},jt=o=>{De.current=!0,Fe(""),ne&&ne(o,"","clear"),ye(o,P?[]:null,"clear")},At=o=>n=>{if(o.onKeyDown&&o.onKeyDown(n),!n.defaultMuiPrevented&&(se!==-1&&!["ArrowLeft","ArrowRight"].includes(n.key)&&(ft(-1),ie(-1)),n.which!==229))switch(n.key){case"Home":X&&Pe&&(n.preventDefault(),ce({diff:"start",direction:"next",reason:"keyboard",event:n}));break;case"End":X&&Pe&&(n.preventDefault(),ce({diff:"end",direction:"previous",reason:"keyboard",event:n}));break;case"PageUp":n.preventDefault(),ce({diff:-on,direction:"previous",reason:"keyboard",event:n}),je(n);break;case"PageDown":n.preventDefault(),ce({diff:on,direction:"next",reason:"keyboard",event:n}),je(n);break;case"ArrowDown":n.preventDefault(),ce({diff:1,direction:"next",reason:"keyboard",event:n}),je(n);break;case"ArrowUp":n.preventDefault(),ce({diff:-1,direction:"previous",reason:"keyboard",event:n}),je(n);break;case"ArrowLeft":!P&&K?ie(0):We(n,"previous");break;case"ArrowRight":!P&&K?ie(-1):We(n,"next");break;case"Enter":if(J.current!==-1&&X){const l=R[J.current],g=r?r(l):!1;if(n.preventDefault(),g)return;Le(n,l,"selectOption"),i&&V.current.setSelectionRange(V.current.value.length,V.current.value.length)}else d&&A!==""&&xt===!1&&(P&&n.preventDefault(),Le(n,A,"createOption","freeSolo"));break;case"Escape":X?(n.preventDefault(),n.stopPropagation(),Ee(n,"escape")):v&&(A!==""||P&&b.length>0||K)&&(n.preventDefault(),n.stopPropagation(),jt(n));break;case"Backspace":if(P&&!oe&&A===""&&b.length>0){const l=se===-1?b.length-1:se,g=b.slice();g.splice(l,1),ye(n,g,"removeOption",{option:b[l]})}!P&&K&&!oe&&(lt(null),ie(-1));break;case"Delete":if(P&&!oe&&A===""&&b.length>0&&se!==-1){const l=se,g=b.slice();g.splice(l,1),ye(n,g,"removeOption",{option:b[l]})}!P&&K&&!oe&&(lt(null),ie(-1));break}},Je=o=>{gt(!0),Ue&&!De.current&&je(o)},Xe=o=>{if(s(te)){V.current.focus();return}gt(!1),ze.current=!0,De.current=!1,u&&J.current!==-1&&X?Le(o,R[J.current],"blur"):u&&d&&A!==""?Le(o,A,"blur","freeSolo"):S&&Ye(o,b,"blur"),Ee(o,"blur")},ct=o=>{const n=o.target.value;A!==n&&(Fe(n),Qe(!1),ne&&ne(o,n,"input")),n===""?!f&&!P&&ye(o,null,"clear"):je(o)},Rt=o=>{const n=Number(o.currentTarget.getAttribute("data-option-index"));J.current!==n&&be({event:o,index:n,reason:"mouse"})},Mt=o=>{be({event:o,index:Number(o.currentTarget.getAttribute("data-option-index")),reason:"touch"}),ve.current=!0},Ot=o=>{const n=Number(o.currentTarget.getAttribute("data-option-index"));Le(o,R[n],"selectOption"),ve.current=!1},Bt=o=>n=>{const l=b.slice();l.splice(o,1),ye(n,l,"removeOption",{option:b[o]})},ut=o=>{ye(o,null,"removeOption",{option:b})},q=o=>{me?Ee(o,"toggleInput"):je(o)},_=o=>{o.currentTarget.contains(o.target)&&o.target.getAttribute("id")!==M&&o.preventDefault()},we=o=>{o.currentTarget.contains(o.target)&&(V.current.focus(),Be&&ze.current&&V.current.selectionEnd-V.current.selectionStart===0&&V.current.select(),ze.current=!1)},Dt=o=>{!C&&(A===""||!me)&&q(o)};let dt=d&&A.length>0;dt=dt||(P?b.length>0:b!==null);let yt=R;return U&&(yt=R.reduce((o,n,l)=>{const g=U(n);return o.length>0&&o[o.length-1].group===g?o[o.length-1].options.push(n):o.push({key:l,index:l,group:g,options:[n]}),o},[])),C&&_e&&Xe(),{getRootProps:(o={})=>({...o,onKeyDown:At(o),onMouseDown:_,onClick:we}),getInputLabelProps:()=>({id:`${M}-label`,htmlFor:M}),getInputProps:()=>({id:M,value:A,onBlur:Xe,onFocus:Je,onChange:ct,onMouseDown:Dt,"aria-activedescendant":X?"":null,"aria-autocomplete":i?"both":"list","aria-controls":mt?`${M}-listbox`:void 0,"aria-expanded":mt,autoComplete:"off",ref:V,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:C}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:jt}),getItemProps:({index:o=0}={})=>({...P&&{key:o},...K?{"data-item-index":o}:{"data-tag-index":o},tabIndex:-1,...!oe&&{onDelete:P?Bt(o):ut}}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:q}),getTagProps:({index:o})=>({key:o,"data-tag-index":o,tabIndex:-1,...!oe&&{onDelete:Bt(o)}}),getListboxProps:()=>({role:"listbox",id:`${M}-listbox`,"aria-labelledby":`${M}-label`,ref:Ce,onMouseDown:o=>{o.preventDefault()}}),getOptionProps:({index:o,option:n})=>{const l=(P?b:[b]).some(j=>j!=null&&H(n,j)),g=r?r(n):!1;return{key:(m==null?void 0:m(n))??E(n),tabIndex:-1,role:"option",id:`${M}-option-${o}`,onMouseMove:Rt,onClick:Ot,onTouchStart:Mt,"data-option-index":o,"aria-disabled":g,"aria-selected":l}},id:M,inputValue:A,value:b,dirty:dt,expanded:X&&Ne,popupOpen:X,focused:_e||se!==-1,anchorEl:Ne,setAnchorEl:ae,focusedItem:se,focusedTag:se,groupedOptions:yt}}function Kn(t){return ot("MuiListSubheader",t)}st("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const _n=t=>{const{classes:s,color:a,disableGutters:i,inset:c,disableSticky:u}=t,y={root:["root",a!=="default"&&`color${Tt(a)}`,!i&&"gutters",c&&"inset",!u&&"sticky"]};return at(y,Kn,s)},Yn=D("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.color!=="default"&&s[`color${Tt(a.color)}`],!a.disableGutters&&s.gutters,a.inset&&s.inset,!a.disableSticky&&s.sticky]}})(re(({theme:t})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(t.vars||t).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:s})=>!s.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:s})=>s.inset,style:{paddingLeft:72}},{props:({ownerState:s})=>!s.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper}}]}))),qt=h.forwardRef(function(s,a){const i=rt({props:s,name:"MuiListSubheader"}),{className:c,color:u="default",component:y="li",disableGutters:S=!1,disableSticky:v=!1,inset:$=!1,...k}=i,f={...i,color:u,component:y,disableGutters:S,disableSticky:v,inset:$},p=_n(f);return e.jsx(Yn,{as:y,className:fe(p.root,c),ref:a,ownerState:f,...k})});qt&&(qt.muiSkipListHighlight=!0);function Qn(t){return ot("MuiAutocomplete",t)}const I=st("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var rn,an;const Jn=t=>{const{classes:s,disablePortal:a,expanded:i,focused:c,fullWidth:u,hasClearIcon:y,hasPopupIcon:S,inputFocused:v,popupOpen:$,size:k}=t,f={root:["root",i&&"expanded",c&&"focused",u&&"fullWidth",y&&"hasClearIcon",S&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",v&&"inputFocused"],tag:["tag",`tagSize${Tt(k)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",$&&"popupIndicatorOpen"],popper:["popper",a&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return at(f,Qn,s)},Xn=D("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t,{fullWidth:i,hasClearIcon:c,hasPopupIcon:u,inputFocused:y,size:S}=a;return[{[`& .${I.tag}`]:s.tag},{[`& .${I.tag}`]:s[`tagSize${Tt(S)}`]},{[`& .${I.inputRoot}`]:s.inputRoot},{[`& .${I.input}`]:s.input},{[`& .${I.input}`]:y&&s.inputFocused},s.root,i&&s.fullWidth,u&&s.hasPopupIcon,c&&s.hasClearIcon]}})({[`&.${I.focused} .${I.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${I.clearIndicator}`]:{visibility:"visible"}},[`& .${I.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${I.inputRoot}`]:{[`.${I.hasPopupIcon}&, .${I.hasClearIcon}&`]:{paddingRight:30},[`.${I.hasPopupIcon}.${I.hasClearIcon}&`]:{paddingRight:56},[`& .${I.input}`]:{width:0,minWidth:30}},[`& .${Nt.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Nt.root}.${Ve.sizeSmall}`]:{[`& .${Nt.input}`]:{padding:"2px 4px 3px 0"}},[`& .${Qt.root}`]:{padding:9,[`.${I.hasPopupIcon}&, .${I.hasClearIcon}&`]:{paddingRight:39},[`.${I.hasPopupIcon}.${I.hasClearIcon}&`]:{paddingRight:65},[`& .${I.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${I.endAdornment}`]:{right:9}},[`& .${Qt.root}.${Ve.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${I.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Ze.root}`]:{paddingTop:19,paddingLeft:8,[`.${I.hasPopupIcon}&, .${I.hasClearIcon}&`]:{paddingRight:39},[`.${I.hasPopupIcon}.${I.hasClearIcon}&`]:{paddingRight:65},[`& .${Ze.input}`]:{padding:"7px 4px"},[`& .${I.endAdornment}`]:{right:9}},[`& .${Ze.root}.${Ve.sizeSmall}`]:{paddingBottom:1,[`& .${Ze.input}`]:{padding:"2.5px 4px"}},[`& .${Ve.hiddenLabel}`]:{paddingTop:8},[`& .${Ze.root}.${Ve.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${I.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Ze.root}.${Ve.hiddenLabel}.${Ve.sizeSmall}`]:{[`& .${I.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${I.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${I.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${I.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${I.inputRoot}`]:{flexWrap:"wrap"}}}]}),Zn=D("div",{name:"MuiAutocomplete",slot:"EndAdornment"})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),eo=D(he,{name:"MuiAutocomplete",slot:"ClearIndicator"})({marginRight:-2,padding:4,visibility:"hidden"}),to=D(he,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.popupIndicator,a.popupOpen&&s.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),no=D(dn,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[{[`& .${I.option}`]:s.option},s.popper,a.disablePortal&&s.popperDisablePortal]}})(re(({theme:t})=>({zIndex:(t.vars||t).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),oo=D(Me,{name:"MuiAutocomplete",slot:"Paper"})(re(({theme:t})=>({...t.typography.body1,overflow:"auto"}))),so=D("div",{name:"MuiAutocomplete",slot:"Loading"})(re(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),ro=D("div",{name:"MuiAutocomplete",slot:"NoOptions"})(re(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),ao=D("ul",{name:"MuiAutocomplete",slot:"Listbox"})(re(({theme:t})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${I.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${I.focused}`]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${I.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${I.focused}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${I.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}}}))),lo=D(qt,{name:"MuiAutocomplete",slot:"GroupLabel"})(re(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,top:-8}))),io=D("ul",{name:"MuiAutocomplete",slot:"GroupUl"})({padding:0,[`& .${I.option}`]:{paddingLeft:24}}),co=h.forwardRef(function(s,a){const i=rt({props:s,name:"MuiAutocomplete"}),{autoComplete:c=!1,autoHighlight:u=!1,autoSelect:y=!1,blurOnSelect:S=!1,ChipProps:v,className:$,clearIcon:k=rn||(rn=e.jsx(vn,{fontSize:"small"})),clearOnBlur:f=!i.freeSolo,clearOnEscape:p=!1,clearText:C="Clear",closeText:Z="Close",componentsProps:B,defaultValue:L=i.multiple?[]:null,disableClearable:W=!1,disableCloseOnSelect:d=!1,disabled:r=!1,disabledItemsFocusable:m=!1,disableListWrap:N=!1,disablePortal:U=!1,filterOptions:Pe,filterSelectedOptions:qe=!1,forcePopupIcon:Q="auto",freeSolo:F=!1,fullWidth:H=!1,getLimitTagsText:P=T=>`+${T}`,getOptionDisabled:xe,getOptionKey:ke,getOptionLabel:de,isOptionEqualToValue:ne,groupBy:ee,handleHomeEndKeys:Ge=!i.freeSolo,id:Ue,includeInputInList:Ke=!1,inputValue:oe,limitTags:K=-1,ListboxComponent:Be,ListboxProps:Te,loading:M=!1,loadingText:E="Loading…",multiple:De=!1,noOptionsText:ze="No options",onChange:V,onClose:te,onHighlightChange:Ne,onInputChange:ae,onOpen:se,open:ft,openOnFocus:Ct=!1,openText:J="Open",options:Ut,PaperComponent:b,PopperComponent:lt,popupIcon:A=an||(an=e.jsx(In,{})),readOnly:Fe=!1,renderGroup:_e,renderInput:gt,renderOption:Ye,renderTags:me,renderValue:He,selectOnFocus:Kt=!i.freeSolo,size:Qe="medium",slots:xt={},slotProps:X={},value:R,...le}=i,{getRootProps:mt,getInputProps:ie,getInputLabelProps:Lt,getPopupIndicatorProps:be,getClearProps:ce,getItemProps:bt,getListboxProps:wt,getOptionProps:it,value:Ce,dirty:je,expanded:Ee,id:ye,popupOpen:ve,focused:Le,focusedItem:$t,anchorEl:We,setAnchorEl:jt,inputValue:At,groupedOptions:Je}=Un({...i,componentName:"Autocomplete"}),Xe=!W&&!r&&je&&!Fe,ct=(!F||Q===!0)&&Q!==!1,{onMouseDown:Rt}=ie(),{ref:Mt,...Ot}=wt(),ut=de||(T=>T.label??T),q={...i,disablePortal:U,expanded:Ee,focused:Le,fullWidth:H,getOptionLabel:ut,hasClearIcon:Xe,hasPopupIcon:ct,inputFocused:$t===-1,popupOpen:ve,size:Qe},_=Jn(q),we={slots:{paper:b,popper:lt,...xt},slotProps:{chip:v,listbox:Te,...B,...X}},[Dt,dt]=pe("listbox",{elementType:ao,externalForwardedProps:we,ownerState:q,className:_.listbox,additionalProps:Ot,ref:Mt}),[yt,o]=pe("paper",{elementType:Me,externalForwardedProps:we,ownerState:q,className:_.paper}),[n,l]=pe("popper",{elementType:dn,externalForwardedProps:we,ownerState:q,className:_.popper,additionalProps:{disablePortal:U,style:{width:We?We.clientWidth:null},role:"presentation",anchorEl:We,open:ve}});let g;const j=T=>({className:_.tag,disabled:r,...bt(T)});if(De?Ce.length>0&&(me?g=me(Ce,j,q):He?g=He(Ce,j,q):g=Ce.map((T,$e)=>{const{key:Ae,...pt}=j({index:$e});return e.jsx(Se,{label:ut(T),size:Qe,...pt,...we.slotProps.chip},Ae)})):He&&Ce!=null&&(g=He(Ce,j,q)),K>-1&&Array.isArray(g)){const T=g.length-K;!Le&&T>0&&(g=g.splice(0,K),g.push(e.jsx("span",{className:_.tag,children:P(T)},g.length)))}const z=_e||(T=>e.jsxs("li",{children:[e.jsx(lo,{className:_.groupLabel,ownerState:q,component:"div",children:T.group}),e.jsx(io,{className:_.groupUl,ownerState:q,children:T.children})]},T.key)),vt=Ye||((T,$e)=>{const{key:Ae,...pt}=T;return e.jsx("li",{...pt,children:ut($e)},Ae)}),_t=(T,$e)=>{const Ae=it({option:T,index:$e});return vt({...Ae,className:_.option},T,{selected:Ae["aria-selected"],index:$e,inputValue:At},q)},It=we.slotProps.clearIndicator,St=we.slotProps.popupIndicator;return e.jsxs(h.Fragment,{children:[e.jsx(Xn,{ref:a,className:fe(_.root,$),ownerState:q,...mt(le),children:gt({id:ye,disabled:r,fullWidth:!0,size:Qe==="small"?"small":void 0,InputLabelProps:Lt(),InputProps:{ref:jt,className:_.inputRoot,startAdornment:g,onMouseDown:T=>{T.target===T.currentTarget&&Rt(T)},...(Xe||ct)&&{endAdornment:e.jsxs(Zn,{className:_.endAdornment,ownerState:q,children:[Xe?e.jsx(eo,{...ce(),"aria-label":C,title:C,ownerState:q,...It,className:fe(_.clearIndicator,It==null?void 0:It.className),children:k}):null,ct?e.jsx(to,{...be(),disabled:r,"aria-label":ve?Z:J,title:ve?Z:J,ownerState:q,...St,className:fe(_.popupIndicator,St==null?void 0:St.className),children:A}):null]})}},inputProps:{className:_.input,disabled:r,readOnly:Fe,...ie()}})}),We?e.jsx(no,{as:n,...l,children:e.jsxs(oo,{as:yt,...o,children:[M&&Je.length===0?e.jsx(so,{className:_.loading,ownerState:q,children:E}):null,Je.length===0&&!F&&!M?e.jsx(ro,{className:_.noOptions,ownerState:q,role:"presentation",onMouseDown:T=>{T.preventDefault()},children:ze}):null,Je.length>0?e.jsx(Dt,{as:Be,...dt,children:Je.map((T,$e)=>ee?z({key:T.key,group:T.group,children:T.options.map((Ae,pt)=>_t(Ae,T.index+pt))}):_t(T,$e))}):null]})}):null]})}),uo=ge(e.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"})),po=ge(e.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}));function ho(t){return ot("MuiToolbar",t)}st("MuiToolbar",["root","gutters","regular","dense"]);const fo=t=>{const{classes:s,disableGutters:a,variant:i}=t;return at({root:["root",!a&&"gutters",i]},ho,s)},go=D("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,!a.disableGutters&&s.gutters,s[a.variant]]}})(re(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:s})=>!s.disableGutters,style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}))),xo=h.forwardRef(function(s,a){const i=rt({props:s,name:"MuiToolbar"}),{className:c,component:u="div",disableGutters:y=!1,variant:S="regular",...v}=i,$={...i,component:u,disableGutters:y,variant:S},k=fo($);return e.jsx(go,{as:u,className:fe(k.root,c),ref:a,ownerState:$,...v})});function mo(t){return ot("MuiTablePaginationActions",t)}st("MuiTablePaginationActions",["root"]);const bo=t=>{const{classes:s}=t;return at({root:["root"]},mo,s)},jo=D("div",{name:"MuiTablePaginationActions",slot:"Root"})({}),yo=h.forwardRef(function(s,a){const i=rt({props:s,name:"MuiTablePaginationActions"}),{backIconButtonProps:c,className:u,count:y,disabled:S=!1,getItemAriaLabel:v,nextIconButtonProps:$,onPageChange:k,page:f,rowsPerPage:p,showFirstButton:C,showLastButton:Z,slots:B={},slotProps:L={},...W}=i,d=Sn(),m=bo(i),N=M=>{k(M,0)},U=M=>{k(M,f-1)},Pe=M=>{k(M,f+1)},qe=M=>{k(M,Math.max(0,Math.ceil(y/p)-1))},Q=B.firstButton??he,F=B.lastButton??he,H=B.nextButton??he,P=B.previousButton??he,xe=B.firstButtonIcon??uo,ke=B.lastButtonIcon??po,de=B.nextButtonIcon??Cn,ne=B.previousButtonIcon??Ln,ee=d?F:Q,Ge=d?H:P,Ue=d?P:H,Ke=d?Q:F,oe=d?L.lastButton:L.firstButton,K=d?L.nextButton:L.previousButton,Be=d?L.previousButton:L.nextButton,Te=d?L.firstButton:L.lastButton;return e.jsxs(jo,{ref:a,className:fe(m.root,u),...W,children:[C&&e.jsx(ee,{onClick:N,disabled:S||f===0,"aria-label":v("first",f),title:v("first",f),...oe,children:d?e.jsx(ke,{...L.lastButtonIcon}):e.jsx(xe,{...L.firstButtonIcon})}),e.jsx(Ge,{onClick:U,disabled:S||f===0,color:"inherit","aria-label":v("previous",f),title:v("previous",f),...K??c,children:d?e.jsx(de,{...L.nextButtonIcon}):e.jsx(ne,{...L.previousButtonIcon})}),e.jsx(Ue,{onClick:Pe,disabled:S||(y!==-1?f>=Math.ceil(y/p)-1:!1),color:"inherit","aria-label":v("next",f),title:v("next",f),...Be??$,children:d?e.jsx(ne,{...L.previousButtonIcon}):e.jsx(de,{...L.nextButtonIcon})}),Z&&e.jsx(Ke,{onClick:qe,disabled:S||f>=Math.ceil(y/p)-1,"aria-label":v("last",f),title:v("last",f),...Te,children:d?e.jsx(xe,{...L.firstButtonIcon}):e.jsx(ke,{...L.lastButtonIcon})})]})});function vo(t){return ot("MuiTablePagination",t)}const ht=st("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]);var ln;const Io=D(x,{name:"MuiTablePagination",slot:"Root"})(re(({theme:t})=>({overflow:"auto",color:(t.vars||t).palette.text.primary,fontSize:t.typography.pxToRem(14),"&:last-child":{padding:0}}))),So=D(xo,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(t,s)=>({[`& .${ht.actions}`]:s.actions,...s.toolbar})})(re(({theme:t})=>({minHeight:52,paddingRight:2,[`${t.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[t.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${ht.actions}`]:{flexShrink:0,marginLeft:20}}))),Po=D("div",{name:"MuiTablePagination",slot:"Spacer"})({flex:"1 1 100%"}),ko=D("p",{name:"MuiTablePagination",slot:"SelectLabel"})(re(({theme:t})=>({...t.typography.body2,flexShrink:0}))),To=D(kn,{name:"MuiTablePagination",slot:"Select",overridesResolver:(t,s)=>({[`& .${ht.selectIcon}`]:s.selectIcon,[`& .${ht.select}`]:s.select,...s.input,...s.selectRoot})})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${ht.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),Co=D(nt,{name:"MuiTablePagination",slot:"MenuItem"})({}),Lo=D("p",{name:"MuiTablePagination",slot:"DisplayedRows"})(re(({theme:t})=>({...t.typography.body2,flexShrink:0})));function wo({from:t,to:s,count:a}){return`${t}–${s} of ${a!==-1?a:`more than ${s}`}`}function $o(t){return`Go to ${t} page`}const Ao=t=>{const{classes:s}=t;return at({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},vo,s)},bn=h.forwardRef(function(s,a){const i=rt({props:s,name:"MuiTablePagination"}),{ActionsComponent:c=yo,backIconButtonProps:u,colSpan:y,component:S=x,count:v,disabled:$=!1,getItemAriaLabel:k=$o,labelDisplayedRows:f=wo,labelRowsPerPage:p="Rows per page:",nextIconButtonProps:C,onPageChange:Z,onRowsPerPageChange:B,page:L,rowsPerPage:W,rowsPerPageOptions:d=[10,25,50,100],SelectProps:r={},showFirstButton:m=!1,showLastButton:N=!1,slotProps:U={},slots:Pe={},...qe}=i,Q=i,F=Ao(Q),H=(U==null?void 0:U.select)??r,P=H.native?"option":Co;let xe;(S===x||S==="td")&&(xe=y||1e3);const ke=Et(H.id),de=Et(H.labelId),ne=()=>v===-1?(L+1)*W:W===-1?v:Math.min(v,(L+1)*W),ee={slots:Pe,slotProps:U},[Ge,Ue]=pe("root",{ref:a,className:F.root,elementType:Io,externalForwardedProps:{...ee,component:S,...qe},ownerState:Q,additionalProps:{colSpan:xe}}),[Ke,oe]=pe("toolbar",{className:F.toolbar,elementType:So,externalForwardedProps:ee,ownerState:Q}),[K,Be]=pe("spacer",{className:F.spacer,elementType:Po,externalForwardedProps:ee,ownerState:Q}),[Te,M]=pe("selectLabel",{className:F.selectLabel,elementType:ko,externalForwardedProps:ee,ownerState:Q,additionalProps:{id:de}}),[E,De]=pe("select",{className:F.select,elementType:To,externalForwardedProps:ee,ownerState:Q}),[ze,V]=pe("menuItem",{className:F.menuItem,elementType:P,externalForwardedProps:ee,ownerState:Q}),[te,Ne]=pe("displayedRows",{className:F.displayedRows,elementType:Lo,externalForwardedProps:ee,ownerState:Q});return e.jsx(Ge,{...Ue,children:e.jsxs(Ke,{...oe,children:[e.jsx(K,{...Be}),d.length>1&&e.jsx(Te,{...M,children:p}),d.length>1&&e.jsx(E,{variant:"standard",...!H.variant&&{input:ln||(ln=e.jsx(Pn,{}))},value:W,onChange:B,id:ke,labelId:de,...H,classes:{...H.classes,root:fe(F.input,F.selectRoot,(H.classes||{}).root),select:fe(F.select,(H.classes||{}).select),icon:fe(F.selectIcon,(H.classes||{}).icon)},disabled:$,...De,children:d.map(ae=>h.createElement(ze,{...V,key:ae.label?ae.label:ae,value:ae.value?ae.value:ae},ae.label?ae.label:ae))}),e.jsx(te,{...Ne,children:f({from:v===0?0:L*W+1,to:ne(),count:v===-1?-1:v,page:L})}),e.jsx(c,{className:F.actions,backIconButtonProps:u,count:v,nextIconButtonProps:C,onPageChange:Z,page:L,rowsPerPage:W,showFirstButton:m,showLastButton:N,slotProps:U.actions,slots:Pe.actions,getItemAriaLabel:k,disabled:$})]})})}),Ro=ge([e.jsx("path",{d:"m12 2-5.5 9h11z"},"0"),e.jsx("circle",{cx:"17.5",cy:"17.5",r:"4.5"},"1"),e.jsx("path",{d:"M3 13.5h8v8H3z"},"2")]),jn=ge(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),Mo=ge(e.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"})),Oo=ge(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"})),cn=ge(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"})),Bo=ge(e.jsx("path",{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2m-5 12H9v-2h6zm5-7H4V4l16-.02z"})),Do=ge(e.jsx("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99zM21 9l-3.99-4v3H10v2h7.01v3z"})),Gt=ge(e.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"})),zo=({equipmentId:t})=>{const[s,a]=h.useState([]),[i,c]=h.useState(!0),[u,y]=h.useState(0),[S,v]=h.useState(10),[$,k]=h.useState(0),[f,p]=h.useState({movementType:"",startDate:null,endDate:null});h.useEffect(()=>{C()},[u,S,f,t]);const C=async()=>{try{c(!0);const r={limit:S,offset:u*S};f.movementType&&(r.movementType=f.movementType),f.startDate&&(r.startDate=f.startDate.toISOString()),f.endDate&&(r.endDate=f.endDate.toISOString());const m=t?`undefined/stock/movements/${t}`:"undefined/stock/movements",N=await Oe.get(m,{params:r,headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});a(N.data.data),k(N.data.total||N.data.data.length)}catch(r){console.error("Failed to fetch movements:",r)}finally{c(!1)}},Z=r=>{switch(r){case"in":return e.jsx(xn,{color:"success"});case"out":return e.jsx(wn,{color:"error"});case"transfer":return e.jsx(Do,{color:"info"});case"adjustment":return e.jsx(Mo,{color:"warning"});default:return null}},B=r=>{switch(r){case"in":return"success";case"out":return"error";case"transfer":return"info";case"adjustment":return"warning";default:return"default"}},L=r=>{switch(r){case"in":return"Giriş";case"out":return"Çıkış";case"transfer":return"Transfer";case"adjustment":return"Düzeltme";default:return r}},W=(r,m)=>{y(m)},d=r=>{v(parseInt(r.target.value,10)),y(0)};return e.jsxs(G,{children:[e.jsx(Me,{sx:{p:2,mb:2},children:e.jsxs(O,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(O,{item:!0,xs:12,sm:3,children:e.jsxs(Ie,{select:!0,fullWidth:!0,label:"Hareket Tipi",value:f.movementType,onChange:r=>p({...f,movementType:r.target.value}),size:"small",children:[e.jsx(nt,{value:"",children:"Tümü"}),e.jsx(nt,{value:"in",children:"Giriş"}),e.jsx(nt,{value:"out",children:"Çıkış"}),e.jsx(nt,{value:"transfer",children:"Transfer"}),e.jsx(nt,{value:"adjustment",children:"Düzeltme"})]})}),e.jsx(O,{item:!0,xs:12,sm:3,children:e.jsx(Xt,{dateAdapter:Zt,adapterLocale:Yt,children:e.jsx(en,{label:"Başlangıç Tarihi",value:f.startDate,onChange:r=>p({...f,startDate:r}),slotProps:{textField:{size:"small",fullWidth:!0}}})})}),e.jsx(O,{item:!0,xs:12,sm:3,children:e.jsx(Xt,{dateAdapter:Zt,adapterLocale:Yt,children:e.jsx(en,{label:"Bitiş Tarihi",value:f.endDate,onChange:r=>p({...f,endDate:r}),slotProps:{textField:{size:"small",fullWidth:!0}}})})}),e.jsx(O,{item:!0,xs:12,sm:3,children:e.jsx(Vt,{title:"Yenile",children:e.jsx(he,{onClick:C,color:"primary",children:e.jsx(un,{})})})})]})}),e.jsxs(pn,{component:Me,children:[e.jsxs(hn,{children:[e.jsx(fn,{children:e.jsxs(Re,{children:[e.jsx(x,{children:"Tarih"}),!t&&e.jsx(x,{children:"Ürün"}),e.jsx(x,{children:"Hareket Tipi"}),e.jsx(x,{children:"Sebep"}),e.jsx(x,{align:"right",children:"Miktar"}),e.jsx(x,{align:"right",children:"Önceki Stok"}),e.jsx(x,{align:"right",children:"Sonraki Stok"}),e.jsx(x,{children:"Konum"}),e.jsx(x,{children:"Kullanıcı"}),e.jsx(x,{children:"İlişkili Belge"})]})}),e.jsx(gn,{children:i?e.jsx(Re,{children:e.jsx(x,{colSpan:t?9:10,align:"center",children:"Yükleniyor..."})}):s.length===0?e.jsx(Re,{children:e.jsx(x,{colSpan:t?9:10,align:"center",children:"Hareket kaydı bulunamadı"})}):s.map(r=>e.jsxs(Re,{hover:!0,children:[e.jsx(x,{children:mn(new Date(r.createdAt),"dd.MM.yyyy HH:mm")}),!t&&e.jsxs(x,{children:[e.jsx(w,{variant:"body2",fontWeight:"bold",children:r.equipment.name}),e.jsxs(w,{variant:"caption",color:"text.secondary",children:["S/N: ",r.equipment.serialNumber]})]}),e.jsx(x,{children:e.jsx(Se,{icon:Z(r.movementType),label:L(r.movementType),color:B(r.movementType),size:"small"})}),e.jsx(x,{children:r.movementReason}),e.jsx(x,{align:"right",children:e.jsxs(w,{color:r.movementType==="in"?"success.main":"error.main",fontWeight:"bold",children:[r.movementType==="in"?"+":"-",Math.abs(r.quantity)]})}),e.jsx(x,{align:"right",children:r.stockBefore}),e.jsx(x,{align:"right",children:e.jsx("strong",{children:r.stockAfter})}),e.jsxs(x,{children:[r.fromLocation&&e.jsxs(w,{variant:"caption",display:"block",children:[e.jsx("strong",{children:"From:"})," ",r.fromLocation]}),r.toLocation&&e.jsxs(w,{variant:"caption",display:"block",children:[e.jsx("strong",{children:"To:"})," ",r.toLocation]})]}),e.jsx(x,{children:r.user.name}),e.jsxs(x,{children:[r.invoice&&e.jsx(Se,{label:`Fatura: ${r.invoice.invoiceNumber}`,size:"small",variant:"outlined"}),r.deliveryNote&&e.jsx(Se,{label:`İrsaliye: ${r.deliveryNote.deliveryNoteNumber}`,size:"small",variant:"outlined"})]})]},r.id))})]}),e.jsx(bn,{rowsPerPageOptions:[5,10,25,50],component:"div",count:$,rowsPerPage:S,page:u,onPageChange:W,onRowsPerPageChange:d,labelRowsPerPage:"Sayfa başına satır:",labelDisplayedRows:({from:r,to:m,count:N})=>`${r}-${m} / ${N}`})]})]})},No=({open:t,onClose:s,onSuccess:a,equipmentId:i})=>{const[c,u]=h.useState({equipmentId:i||0,quantity:1,fromLocation:"",toLocation:"",carrier:"",trackingNumber:"",vehiclePlate:"",notes:""}),[y,S]=h.useState([]),[v,$]=h.useState(null),[k,f]=h.useState(!1),[p,C]=h.useState(""),[Z,B]=h.useState(!1);h.useEffect(()=>{t&&!i&&L()},[t,i]);const L=async()=>{try{B(!0);const m=await Oe.get("undefined/equipment",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});S(m.data.data||m.data)}catch(m){console.error("Failed to fetch equipment:",m)}finally{B(!1)}},W=async()=>{var m,N;try{if(C(""),f(!0),!c.equipmentId){C("Lütfen ürün seçiniz");return}if(!c.fromLocation||!c.toLocation){C("Lütfen kaynak ve hedef konumları belirtiniz");return}if(c.quantity<=0){C("Miktar 0'dan büyük olmalıdır");return}(await Oe.post("undefined/stock/transfers",c,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data.success&&(a(),d())}catch(U){C(((N=(m=U.response)==null?void 0:m.data)==null?void 0:N.error)||"Transfer oluşturulamadı")}finally{f(!1)}},d=()=>{u({equipmentId:i||0,quantity:1,fromLocation:"",toLocation:"",carrier:"",trackingNumber:"",vehiclePlate:"",notes:""}),$(null),C(""),s()},r=(m,N)=>{$(N),N&&u({...c,equipmentId:N.id})};return e.jsxs($n,{open:t,onClose:d,maxWidth:"md",fullWidth:!0,children:[e.jsx(An,{children:"Yeni Stok Transferi"}),e.jsxs(Rn,{children:[p&&e.jsx(Wt,{severity:"error",sx:{mb:2},children:p}),e.jsxs(O,{container:!0,spacing:2,sx:{mt:1},children:[!i&&e.jsxs(O,{item:!0,xs:12,children:[e.jsx(co,{options:y,getOptionLabel:m=>`${m.name} (S/N: ${m.serialNumber})`,loading:Z,value:v,onChange:r,renderInput:m=>e.jsx(Ie,{...m,label:"Ürün",required:!0,InputProps:{...m.InputProps,endAdornment:e.jsxs(e.Fragment,{children:[Z?e.jsx(Jt,{size:20}):null,m.InputProps.endAdornment]})}})}),v&&e.jsxs(Wt,{severity:"info",sx:{mt:1},children:["Mevcut Stok: ",v.quantity," adet"]})]}),e.jsx(O,{item:!0,xs:12,sm:6,children:e.jsx(Ie,{fullWidth:!0,label:"Kaynak Konum",required:!0,value:c.fromLocation,onChange:m=>u({...c,fromLocation:m.target.value}),placeholder:"Örn: Depo A - Raf 12"})}),e.jsx(O,{item:!0,xs:12,sm:6,children:e.jsx(Ie,{fullWidth:!0,label:"Hedef Konum",required:!0,value:c.toLocation,onChange:m=>u({...c,toLocation:m.target.value}),placeholder:"Örn: Depo B - Raf 5"})}),e.jsx(O,{item:!0,xs:12,sm:6,children:e.jsx(Ie,{fullWidth:!0,type:"number",label:"Miktar",required:!0,value:c.quantity,onChange:m=>u({...c,quantity:parseInt(m.target.value)||1}),inputProps:{min:1,max:(v==null?void 0:v.quantity)||999}})}),e.jsx(O,{item:!0,xs:12,sm:6,children:e.jsx(Ie,{fullWidth:!0,label:"Taşıyıcı Firma",value:c.carrier,onChange:m=>u({...c,carrier:m.target.value}),placeholder:"Örn: Aras Kargo"})}),e.jsx(O,{item:!0,xs:12,sm:6,children:e.jsx(Ie,{fullWidth:!0,label:"Takip Numarası",value:c.trackingNumber,onChange:m=>u({...c,trackingNumber:m.target.value})})}),e.jsx(O,{item:!0,xs:12,sm:6,children:e.jsx(Ie,{fullWidth:!0,label:"Araç Plakası",value:c.vehiclePlate,onChange:m=>u({...c,vehiclePlate:m.target.value}),placeholder:"34 ABC 123"})}),e.jsx(O,{item:!0,xs:12,children:e.jsx(Ie,{fullWidth:!0,multiline:!0,rows:3,label:"Notlar",value:c.notes,onChange:m=>u({...c,notes:m.target.value}),placeholder:"Transfer ile ilgili ek bilgiler..."})})]})]}),e.jsxs(Mn,{children:[e.jsx(kt,{onClick:d,disabled:k,children:"İptal"}),e.jsx(kt,{onClick:W,variant:"contained",disabled:k,children:k?e.jsx(Jt,{size:24}):"Transfer Oluştur"})]})]})},Fo=()=>{const[t,s]=h.useState([]),[a,i]=h.useState(!0),[c,u]=h.useState(0),[y,S]=h.useState(10),[v,$]=h.useState(0),[k,f]=h.useState(!1);h.useEffect(()=>{p()},[c,y]);const p=async()=>{var d;try{i(!0);const r=await Oe.get("undefined/stock/transfers",{params:{limit:y,offset:c*y},headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});s(r.data.data||[]),$(r.data.total||((d=r.data.data)==null?void 0:d.length)||0)}catch(r){console.error("Failed to fetch transfers:",r),s([])}finally{i(!1)}},C=async d=>{try{await Oe.post(`undefined/stock/transfers/${d}/complete`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),p()}catch(r){console.error("Failed to complete transfer:",r),alert("Transfer tamamlanamadı")}},Z=d=>{switch(d){case"completed":return"success";case"in_transit":return"info";case"cancelled":return"error";default:return"warning"}},B=d=>{switch(d){case"pending":return"Beklemede";case"in_transit":return"Yolda";case"completed":return"Tamamlandı";case"cancelled":return"İptal";default:return d}},L=(d,r)=>{u(r)},W=d=>{S(parseInt(d.target.value,10)),u(0)};return e.jsxs(G,{children:[e.jsxs(G,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[e.jsx(kt,{variant:"contained",onClick:()=>f(!0),children:"Yeni Transfer"}),e.jsx(Vt,{title:"Yenile",children:e.jsx(he,{onClick:p,color:"primary",children:e.jsx(un,{})})})]}),e.jsxs(pn,{component:Me,children:[e.jsxs(hn,{children:[e.jsx(fn,{children:e.jsxs(Re,{children:[e.jsx(x,{children:"Transfer No"}),e.jsx(x,{children:"Tarih"}),e.jsx(x,{children:"Ürün"}),e.jsx(x,{align:"right",children:"Miktar"}),e.jsx(x,{children:"Kaynak"}),e.jsx(x,{children:"Hedef"}),e.jsx(x,{children:"Durum"}),e.jsx(x,{children:"Taşıyıcı"}),e.jsx(x,{children:"Takip No"}),e.jsx(x,{children:"İşlemler"})]})}),e.jsx(gn,{children:a?e.jsx(Re,{children:e.jsx(x,{colSpan:10,align:"center",children:"Yükleniyor..."})}):t.length===0?e.jsx(Re,{children:e.jsx(x,{colSpan:10,align:"center",children:"Transfer kaydı bulunamadı"})}):t.map(d=>e.jsxs(Re,{hover:!0,children:[e.jsx(x,{children:e.jsx(w,{variant:"body2",fontWeight:"bold",children:d.transferNumber})}),e.jsx(x,{children:mn(new Date(d.createdAt),"dd.MM.yyyy HH:mm")}),e.jsxs(x,{children:[e.jsx(w,{variant:"body2",fontWeight:"bold",children:d.equipment.name}),e.jsxs(w,{variant:"caption",color:"text.secondary",children:["S/N: ",d.equipment.serialNumber]})]}),e.jsx(x,{align:"right",children:e.jsx("strong",{children:d.quantity})}),e.jsx(x,{children:d.fromLocation}),e.jsx(x,{children:d.toLocation}),e.jsx(x,{children:e.jsx(Se,{label:B(d.status),color:Z(d.status),size:"small"})}),e.jsx(x,{children:d.carrier||"-"}),e.jsx(x,{children:d.trackingNumber||"-"}),e.jsx(x,{children:(d.status==="pending"||d.status==="in_transit")&&e.jsx(Vt,{title:"Transferi Tamamla",children:e.jsx(he,{size:"small",color:"success",onClick:()=>C(d.id),children:e.jsx(jn,{})})})})]},d.id))})]}),e.jsx(bn,{rowsPerPageOptions:[5,10,25,50],component:"div",count:v,rowsPerPage:y,page:c,onPageChange:L,onRowsPerPageChange:W,labelRowsPerPage:"Sayfa başına satır:",labelDisplayedRows:({from:d,to:r,count:m})=>`${d}-${r} / ${m}`})]}),e.jsx(No,{open:k,onClose:()=>f(!1),onSuccess:()=>{f(!1),p()}})]})},Ho=()=>{const[t,s]=h.useState([]),[a,i]=h.useState(!0),[c,u]=h.useState([]);h.useEffect(()=>{y();const p=setInterval(y,5*60*1e3);return()=>clearInterval(p)},[]);const y=async()=>{try{i(!0);const p=await Oe.get("undefined/stock/alerts",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});s(p.data.data)}catch(p){console.error("Failed to fetch stock alerts:",p)}finally{i(!1)}},S=async p=>{try{await Oe.post(`undefined/stock/alerts/${p}/acknowledge`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),u([...c,p]),y()}catch(C){console.error("Failed to acknowledge alert:",C)}},v=p=>{u([...c,p])},$=p=>{switch(p){case"critical":return e.jsx(Oo,{});case"high":return e.jsx(Gt,{});case"medium":return e.jsx(cn,{});default:return e.jsx(cn,{})}},k=p=>{switch(p){case"critical":return"error";case"high":return"warning";case"medium":return"info";default:return"info"}},f=t.filter(p=>!c.includes(p.id));return a||f.length===0?null:e.jsx(G,{children:f.map(p=>e.jsx(On,{in:!0,children:e.jsxs(Wt,{severity:k(p.severity),icon:$(p.severity),sx:{mb:2},action:e.jsxs(G,{sx:{display:"flex",gap:1},children:[e.jsx(kt,{color:"inherit",size:"small",startIcon:e.jsx(jn,{}),onClick:()=>S(p.id),children:"Onayla"}),e.jsx(he,{size:"small",color:"inherit",onClick:()=>v(p.id),children:e.jsx(Tn,{fontSize:"small"})})]}),children:[e.jsxs(Hn,{children:[e.jsx("strong",{children:p.equipment.name})," - ",p.alertType==="out_of_stock"?"Stok Tükendi":p.alertType==="low_stock"?"Düşük Stok":p.alertType==="overstock"?"Fazla Stok":p.alertType]}),p.message,e.jsxs(G,{sx:{mt:1,display:"flex",gap:1},children:[e.jsx(Se,{label:`Mevcut: ${p.currentStock}`,size:"small",color:p.currentStock===0?"error":"default"}),p.threshold&&e.jsx(Se,{label:`Eşik: ${p.threshold}`,size:"small",variant:"outlined"}),e.jsx(Se,{label:`S/N: ${p.equipment.serialNumber}`,size:"small",variant:"outlined"})]})]})},p.id))})},Eo=()=>{const[t,s]=h.useState(null),[a,i]=h.useState(!0);h.useEffect(()=>{c()},[]);const c=async()=>{try{i(!0);const u=await Oe.get("undefined/stock/summary",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});s(u.data.data)}catch(u){console.error("Failed to fetch stock summary:",u)}finally{i(!1)}};return a?e.jsx(Bn,{}):t?e.jsxs(G,{children:[e.jsxs(O,{container:!0,spacing:3,sx:{mb:3},children:[e.jsx(O,{item:!0,xs:12,sm:6,md:3,children:e.jsx(et,{children:e.jsxs(tt,{children:[e.jsxs(G,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(Bo,{color:"primary",sx:{mr:1}}),e.jsx(w,{variant:"h6",children:"Toplam Ürün"})]}),e.jsx(w,{variant:"h3",children:t.totalItems})]})})}),e.jsx(O,{item:!0,xs:12,sm:6,md:3,children:e.jsx(et,{children:e.jsxs(tt,{children:[e.jsxs(G,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(xn,{color:"success",sx:{mr:1}}),e.jsx(w,{variant:"h6",children:"Toplam Miktar"})]}),e.jsx(w,{variant:"h3",children:t.totalQuantity})]})})}),e.jsx(O,{item:!0,xs:12,sm:6,md:3,children:e.jsx(et,{sx:{bgcolor:"warning.light"},children:e.jsxs(tt,{children:[e.jsxs(G,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(Gt,{sx:{mr:1,color:"white"}}),e.jsx(w,{variant:"h6",color:"white",children:"Düşük Stok"})]}),e.jsx(w,{variant:"h3",color:"white",children:t.lowStockItems})]})})}),e.jsx(O,{item:!0,xs:12,sm:6,md:3,children:e.jsx(et,{sx:{bgcolor:"error.light"},children:e.jsxs(tt,{children:[e.jsxs(G,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(Gt,{sx:{mr:1,color:"white"}}),e.jsx(w,{variant:"h6",color:"white",children:"Stok Tükendi"})]}),e.jsx(w,{variant:"h3",color:"white",children:t.outOfStockItems})]})})})]}),e.jsxs(Me,{sx:{p:3,mb:3},children:[e.jsxs(G,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(Ro,{sx:{mr:1}}),e.jsx(w,{variant:"h6",children:"Kategorilere Göre Stok"})]}),e.jsx(O,{container:!0,spacing:2,children:t.categories.map((u,y)=>e.jsx(O,{item:!0,xs:12,sm:6,md:4,children:e.jsx(et,{variant:"outlined",children:e.jsxs(tt,{children:[e.jsx(w,{variant:"subtitle1",gutterBottom:!0,children:u.category||"Kategori Yok"}),e.jsxs(G,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx(w,{variant:"body2",color:"text.secondary",children:"Ürün Sayısı:"}),e.jsx(w,{variant:"body1",fontWeight:"bold",children:u.count})]}),e.jsxs(G,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx(w,{variant:"body2",color:"text.secondary",children:"Toplam Miktar:"}),e.jsx(w,{variant:"body1",fontWeight:"bold",children:u.totalQuantity})]})]})})},y))})]}),t.equipment.filter(u=>u.quantity<=5).length>0&&e.jsxs(Me,{sx:{p:3},children:[e.jsx(w,{variant:"h6",gutterBottom:!0,children:"Düşük Stoklu Ürünler"}),e.jsx(O,{container:!0,spacing:2,children:t.equipment.filter(u=>u.quantity<=5).map(u=>e.jsx(O,{item:!0,xs:12,sm:6,md:4,children:e.jsx(et,{variant:"outlined",sx:{bgcolor:u.quantity===0?"error.light":"warning.light"},children:e.jsxs(tt,{children:[e.jsx(w,{variant:"subtitle1",fontWeight:"bold",children:u.name}),e.jsxs(w,{variant:"body2",color:"text.secondary",children:["S/N: ",u.serialNumber]}),e.jsxs(G,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:1},children:[e.jsx(Se,{label:u.category||"Kategori Yok",size:"small",color:"default"}),e.jsxs(w,{variant:"h6",color:u.quantity===0?"error.dark":"warning.dark",children:[u.quantity," adet"]})]})]})})},u.id))})]})]}):e.jsx(G,{sx:{p:3,textAlign:"center"},children:e.jsx(w,{children:"Stok verisi yüklenemedi"})})};function Ht(t){const{children:s,value:a,index:i,...c}=t;return e.jsx("div",{role:"tabpanel",hidden:a!==i,id:`stock-tabpanel-${i}`,"aria-labelledby":`stock-tab-${i}`,...c,children:a===i&&e.jsx(G,{sx:{py:3},children:s})})}const Jo=()=>{const[t,s]=h.useState(0),a=(i,c)=>{s(c)};return e.jsxs(G,{sx:{p:3},children:[e.jsx(w,{variant:"h4",gutterBottom:!0,children:"Stok Yönetimi"}),e.jsx(G,{sx:{mb:3},children:e.jsx(Ho,{})}),e.jsxs(Me,{sx:{width:"100%"},children:[e.jsxs(Dn,{value:t,onChange:a,"aria-label":"stock management tabs",variant:"scrollable",scrollButtons:"auto",children:[e.jsx(Ft,{label:"Özet"}),e.jsx(Ft,{label:"Stok Hareketleri"}),e.jsx(Ft,{label:"Transferler"})]}),e.jsx(Ht,{value:t,index:0,children:e.jsx(Eo,{})}),e.jsx(Ht,{value:t,index:1,children:e.jsx(zo,{})}),e.jsx(Ht,{value:t,index:2,children:e.jsx(Fo,{})})]})]})};export{Jo as default};
