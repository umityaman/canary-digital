import{o as ee,a as se,r as l,j as e}from"./react-vendor-DBHNAGPW.js";import{u as te,A as ae}from"./index-C00KFl1S.js";import{a as le,am as ne,ab as g,an as re,a0 as G,ao as ie,ap as de,F as j,C as ce,P as K,aq as oe,U as me,f as xe,aj as ue,u as he}from"./ui-vendor-CIs_GH3f.js";import"./chart-vendor-R5Y1AjBI.js";import"./state-vendor-JOdu_MDH.js";const o=ae,pe={PENDING:"bg-yellow-100 text-yellow-800",CONFIRMED:"bg-blue-100 text-blue-800",IN_PROGRESS:"bg-purple-100 text-purple-800",COMPLETED:"bg-green-100 text-green-800",CANCELLED:"bg-red-100 text-red-800"},ge={payment_due:"bg-orange-100 text-orange-800",partially_paid:"bg-yellow-100 text-yellow-800",paid:"bg-green-100 text-green-800",refunded:"bg-neutral-100 text-gray-800"},je={PENDING:"Beklemede",CONFIRMED:"Onaylandı",IN_PROGRESS:"Devam Ediyor",COMPLETED:"Tamamlandı",CANCELLED:"İptal Edildi"},be={payment_due:"Ödeme Bekliyor",partially_paid:"Kısmi Ödendi",paid:"Ödendi",refunded:"İade Edildi"};function ke(){const{id:I}=ee(),u=se(),{showNotification:n}=te(),[s,Y]=l.useState(null),[U,P]=l.useState(!0),[F,q]=l.useState(null),[J,b]=l.useState(!1),[V,M]=l.useState(!1),[H,h]=l.useState(!1),[N,f]=l.useState(""),[r,i]=l.useState(!1),[y,v]=l.useState(""),[w,S]=l.useState(""),[k,C]=l.useState(""),[D,E]=l.useState(""),[T,A]=l.useState("");l.useEffect(()=>{$()},[I]);const $=async()=>{try{P(!0);const t=localStorage.getItem("auth_token"),a=await fetch(`${o}/orders/${I}`,{headers:{Authorization:`Bearer ${t}`}});if(!a.ok)throw new Error("Sipariş bulunamadı");const d=await a.json();Y(d)}catch(t){q(t.message)}finally{P(!1)}},X=async()=>{if(!(!N||!s))try{i(!0);const t=localStorage.getItem("auth_token");if(!(await fetch(`${o}/orders/${s.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({status:N})})).ok)throw new Error("Durum güncellenemedi");n("success","Sipariş durumu başarıyla güncellendi"),await $(),b(!1),f("")}catch(t){n("error",t.message)}finally{i(!1)}},Q=async()=>{if(s)try{i(!0);const t=localStorage.getItem("auth_token");if(!(await fetch(`${o}/orders/${s.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})).ok)throw new Error("Sipariş silinemedi");n("success","Sipariş başarıyla silindi"),u("/orders")}catch(t){n("error",t.message),i(!1)}},W=async()=>{if(s)try{i(!0);const t=localStorage.getItem("auth_token");if(!(await fetch(`${o}/orders/${s.id}/email`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({recipient:s.customer.email,subject:`Sipariş Onayı - ${s.orderNumber}`,body:`Merhaba ${s.customer.name},

Sipariş numaranız: ${s.orderNumber}
Toplam tutar: £${s.totalAmount.toFixed(2)}

Teşekkür ederiz.`})})).ok)throw new Error("E-posta gönderilemedi");n("success","E-posta başarıyla gönderildi")}catch(t){n("error",t.message)}finally{i(!1)}},Z=async()=>{if(s){if(!y||!w||!k||!D||!T){n("error","Lütfen tüm kart bilgilerini doldurun");return}try{i(!0);const t=localStorage.getItem("auth_token"),a=await fetch(`${o}/orders/${s.id}/payment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({cardHolderName:y,cardNumber:w.replace(/\s/g,""),expireMonth:k,expireYear:D,cvc:T,amount:s.totalAmount})});if(!a.ok){const d=await a.json();throw new Error(d.message||"Ödeme işlemi başarısız oldu")}await a.json(),n("success","Ödeme başarıyla tamamlandı!"),h(!1),v(""),S(""),C(""),E(""),A(""),await $()}catch(t){n("error",t.message)}finally{i(!1)}}};if(U)return e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-neutral-600"})});if(F||!s)return e.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[e.jsx(le,{className:"w-16 h-16 text-red-500 mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Sipariş Bulunamadı"}),e.jsx("p",{className:"text-neutral-600 mb-4",children:F||"Sipariş mevcut değil"}),e.jsx("button",{onClick:()=>u("/orders"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Siparişlere Dön"})]});const R=s.tags?JSON.parse(s.tags):[],z=s.documents?JSON.parse(s.documents):[],L=[{key:"PENDING",label:"Oluşturuldu",icon:j},{key:"CONFIRMED",label:"Onaylandı",icon:ce},{key:"IN_PROGRESS",label:"Teslim Edildi",icon:K},{key:"COMPLETED",label:"Tamamlandı",icon:oe}],_=(t=>{const a=L.findIndex(d=>d.key===t);return a===-1?0:a})(s.status),c=s.totalAmount,p=s.paymentStatus==="paid"?c:s.paymentStatus==="partially_paid"?c*.5:0,m=c-p,B=p/c*100;return e.jsxs("div",{className:"p-6 bg-neutral-50 min-h-screen",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>u("/orders"),className:"mr-4 p-2 hover:bg-neutral-200 rounded-lg transition-colors",children:e.jsx(ne,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:s.orderNumber}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Oluşturma: ",new Date(s.createdAt).toLocaleDateString("tr-TR")]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[s.paymentStatus!=="paid"&&e.jsxs("button",{onClick:()=>h(!0),disabled:r,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center gap-2",children:[e.jsx(g,{className:"w-4 h-4"}),"Ödeme Al"]}),e.jsxs("button",{onClick:W,disabled:r,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[e.jsx(re,{className:"w-4 h-4"}),"E-posta Gönder"]}),e.jsxs("button",{onClick:()=>{const t=localStorage.getItem("auth_token");window.open(`${o}/orders/${s.id}/invoice?token=${t}`,"_blank")},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[e.jsx(G,{className:"w-4 h-4"}),"Fatura İndir"]}),e.jsxs("button",{onClick:()=>u(`/orders/edit/${s.id}`),className:"px-4 py-2 bg-neutral-200 text-neutral-700 rounded-lg hover:bg-gray-300 flex items-center gap-2",children:[e.jsx(ie,{className:"w-4 h-4"}),"Düzenle"]}),e.jsxs("button",{onClick:()=>M(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-2",children:[e.jsx(de,{className:"w-4 h-4"}),"Sil"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Durum"}),e.jsx("button",{onClick:()=>{f(s.status),b(!0)},className:"text-sm text-blue-600 hover:text-blue-700",children:"Durumu Güncelle"})]}),e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Sipariş Durumu"}),e.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-medium ${pe[s.status]||"bg-neutral-100 text-gray-800"}`,children:je[s.status]||s.status})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Ödeme Durumu"}),e.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-medium ${ge[s.paymentStatus]||"bg-neutral-100 text-gray-800"}`,children:be[s.paymentStatus]||s.paymentStatus})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-neutral-700 mb-4",children:"Sipariş Süreci"}),e.jsx("div",{className:"relative",children:L.map((t,a)=>{const d=t.icon,x=a<=_,O=a===_;return e.jsxs("div",{className:"flex items-start mb-4 last:mb-0",children:[a<L.length-1&&e.jsx("div",{className:`absolute left-6 top-12 w-0.5 h-16 ${x?"bg-green-500":"bg-gray-300"}`,style:{marginTop:`${a*80}px`}}),e.jsx("div",{className:`relative z-10 flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center border-2 ${x?"bg-green-500 border-green-500 text-white":"bg-white border-neutral-300 text-gray-400"}`,children:e.jsx(d,{size:20})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("p",{className:`font-medium ${O?"text-green-600":x?"text-neutral-900":"text-gray-500"}`,children:t.label}),O&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Şu anki durum"}),x&&!O&&e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Tamamlandı"})]}),x&&e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"text-xs text-gray-500",children:new Date(s.updatedAt).toLocaleDateString("tr-TR")})})]},t.key)})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(g,{className:"w-5 h-5 text-gray-400"}),e.jsx("h2",{className:"text-lg font-semibold",children:"Ödeme Takibi"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-neutral-600",children:"Ödenen Tutar"}),e.jsxs("span",{className:"font-semibold text-green-600",children:["£",p.toFixed(2)," / £",c.toFixed(2)]})]}),e.jsx("div",{className:"w-full bg-neutral-200 rounded-full h-3",children:e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 h-3 rounded-full transition-all duration-500",style:{width:`${Math.min(B,100)}%`}})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsxs("span",{children:[B.toFixed(0),"% Tamamlandı"]}),m>0&&e.jsxs("span",{children:["Kalan: £",m.toFixed(2)]})]})]}),e.jsxs("div",{className:"space-y-3 border-t pt-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${s.paymentStatus==="paid"?"bg-green-500":s.paymentStatus==="partially_paid"?"bg-yellow-500":"bg-red-500"}`}),e.jsx("span",{className:"text-sm text-neutral-600",children:"Toplam Tutar"})]}),e.jsxs("span",{className:"font-bold text-neutral-900",children:["£",c.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-neutral-600 ml-5",children:"Ödenen"}),e.jsxs("span",{className:"font-medium text-green-600",children:["£",p.toFixed(2)]})]}),m>0&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-neutral-600 ml-5",children:"Kalan Bakiye"}),e.jsxs("span",{className:"font-medium text-orange-600",children:["£",m.toFixed(2)]})]})]}),s.paymentStatus!=="paid"&&e.jsxs("button",{onClick:()=>h(!0),className:"w-full mt-4 px-4 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[e.jsx(g,{size:18}),"Ödeme Al (£",m.toFixed(2),")"]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(me,{className:"w-5 h-5 text-gray-400"}),e.jsx("h2",{className:"text-lg font-semibold",children:"Müşteri Bilgileri"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"İsim"}),e.jsx("p",{className:"font-medium",children:s.customer.name})]}),s.customer.company&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Şirket"}),e.jsx("p",{className:"font-medium",children:s.customer.company})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"E-posta"}),e.jsx("p",{className:"font-medium",children:s.customer.email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Telefon"}),e.jsx("p",{className:"font-medium",children:s.customer.phone})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(K,{className:"w-5 h-5 text-gray-400"}),e.jsx("h2",{className:"text-lg font-semibold",children:"Sipariş Kalemleri"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b",children:e.jsxs("tr",{className:"text-left text-sm text-gray-500",children:[e.jsx("th",{className:"pb-3 font-medium",children:"Ürün"}),e.jsx("th",{className:"pb-3 font-medium text-center",children:"Miktar"}),e.jsx("th",{className:"pb-3 font-medium text-right",children:"Birim Fiyat"}),e.jsx("th",{className:"pb-3 font-medium text-right",children:"Toplam"})]})}),e.jsx("tbody",{className:"divide-y",children:s.orderItems.map(t=>e.jsxs("tr",{children:[e.jsxs("td",{className:"py-3",children:[e.jsx("p",{className:"font-medium",children:t.description}),t.equipment&&e.jsx("p",{className:"text-sm text-gray-500",children:t.equipment.code})]}),e.jsx("td",{className:"py-3 text-center",children:t.quantity}),e.jsxs("td",{className:"py-3 text-right",children:["£",t.unitPrice.toFixed(2)]}),e.jsxs("td",{className:"py-3 text-right font-medium",children:["£",t.totalPrice.toFixed(2)]})]},t.id))})]})}),e.jsxs("div",{className:"mt-6 pt-6 border-t space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-neutral-600",children:"Alt Toplam"}),e.jsxs("span",{children:["£",s.subtotal.toFixed(2)]})]}),s.discountAmount>0&&e.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[e.jsx("span",{children:"İndirim"}),e.jsxs("span",{children:["-£",s.discountAmount.toFixed(2)]})]}),s.taxAmount>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-neutral-600",children:"KDV"}),e.jsxs("span",{children:["£",s.taxAmount.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",children:[e.jsx("span",{children:"Toplam"}),e.jsxs("span",{children:["£",s.totalAmount.toFixed(2)]})]})]})]}),s.notes&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(j,{className:"w-5 h-5 text-gray-400"}),e.jsx("h2",{className:"text-lg font-semibold",children:"Notlar"})]}),e.jsx("p",{className:"text-neutral-700 whitespace-pre-wrap",children:s.notes})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(xe,{className:"w-5 h-5 text-gray-400"}),e.jsx("h2",{className:"text-lg font-semibold",children:"Tarihler"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Başlangıç"}),e.jsx("p",{className:"font-medium",children:new Date(s.startDate).toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Bitiş"}),e.jsx("p",{className:"font-medium",children:new Date(s.endDate).toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Süre"}),e.jsxs("p",{className:"font-medium",children:[Math.ceil((new Date(s.endDate).getTime()-new Date(s.startDate).getTime())/(1e3*60*60*24))," gün"]})]})]})]}),R.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ue,{className:"w-5 h-5 text-gray-400"}),e.jsx("h2",{className:"text-lg font-semibold",children:"Etiketler"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:R.map((t,a)=>e.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:t.color+"20",color:t.color},children:t.name},a))})]}),z.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(j,{className:"w-5 h-5 text-gray-400"}),e.jsx("h2",{className:"text-lg font-semibold",children:"Dökümanlar"})]}),e.jsx("div",{className:"space-y-2",children:z.map((t,a)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-neutral-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:t.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]})]}),e.jsx("button",{className:"text-blue-600 hover:text-blue-700",children:e.jsx(G,{className:"w-4 h-4"})})]},a))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(he,{className:"w-5 h-5 text-gray-400"}),e.jsx("h2",{className:"text-lg font-semibold",children:"Aktivite"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Sipariş Oluşturuldu"}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(s.createdAt).toLocaleDateString("tr-TR")})]})]}),s.updatedAt!==s.createdAt&&e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Güncellendi"}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(s.updatedAt).toLocaleDateString("tr-TR")})]})]})]})]})]})]}),J&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Durumu Güncelle"}),e.jsxs("select",{value:N,onChange:t=>f(t.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg mb-4",children:[e.jsx("option",{value:"PENDING",children:"Beklemede"}),e.jsx("option",{value:"CONFIRMED",children:"Onaylandı"}),e.jsx("option",{value:"IN_PROGRESS",children:"Devam Ediyor"}),e.jsx("option",{value:"COMPLETED",children:"Tamamlandı"}),e.jsx("option",{value:"CANCELLED",children:"İptal Edildi"})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 text-neutral-700 hover:bg-neutral-100 rounded-lg",children:"İptal"}),e.jsx("button",{onClick:X,disabled:r,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:r?"Güncelleniyor...":"Güncelle"})]})]})}),V&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Siparişi Sil"}),e.jsx("p",{className:"text-neutral-600 mb-4",children:"Bu siparişi silmek istediğinizden emin misiniz? Bu işlem geri alınamaz."}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx("button",{onClick:()=>M(!1),className:"px-4 py-2 text-neutral-700 hover:bg-neutral-100 rounded-lg",children:"İptal"}),e.jsx("button",{onClick:Q,disabled:r,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:r?"Siliniyor...":"Sil"})]})]})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(g,{className:"w-6 h-6 text-green-600"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Ödeme Al"})]}),e.jsxs("div",{className:"mb-4 p-3 bg-neutral-50 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-neutral-600",children:"Sipariş No:"}),e.jsx("span",{className:"font-medium",children:s==null?void 0:s.orderNumber})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600",children:"Toplam Tutar:"}),e.jsxs("span",{className:"font-bold text-lg text-green-600",children:["£",s==null?void 0:s.totalAmount.toFixed(2)]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Kart Üzerindeki İsim"}),e.jsx("input",{type:"text",value:y,onChange:t=>v(t.target.value),placeholder:"Ad Soyad",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Kart Numarası"}),e.jsx("input",{type:"text",value:w,onChange:t=>{const a=t.target.value.replace(/\s/g,"");a.length<=16&&S(a.replace(/(.{4})/g,"$1 ").trim())},placeholder:"1234 5678 9012 3456",maxLength:19,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Ay"}),e.jsx("input",{type:"text",value:k,onChange:t=>{const a=t.target.value.replace(/\D/g,"");a.length<=2&&parseInt(a)<=12&&C(a)},placeholder:"MM",maxLength:2,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Yıl"}),e.jsx("input",{type:"text",value:D,onChange:t=>{const a=t.target.value.replace(/\D/g,"");a.length<=4&&E(a)},placeholder:"YYYY",maxLength:4,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"CVV"}),e.jsx("input",{type:"text",value:T,onChange:t=>{const a=t.target.value.replace(/\D/g,"");a.length<=4&&A(a)},placeholder:"123",maxLength:4,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]})]})]}),e.jsxs("div",{className:"flex gap-2 justify-end mt-6",children:[e.jsx("button",{onClick:()=>{h(!1),v(""),S(""),C(""),E(""),A("")},className:"px-4 py-2 text-neutral-700 hover:bg-neutral-100 rounded-lg",children:"İptal"}),e.jsx("button",{onClick:Z,disabled:r,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:r?"İşleniyor...":"Ödemeyi Tamamla"})]})]})})]})}export{ke as default};
