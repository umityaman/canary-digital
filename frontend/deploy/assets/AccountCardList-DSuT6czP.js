import{r as c,t as B,j as e}from"./react-vendor-DBHNAGPW.js";import{d as he}from"./index-C00KFl1S.js";import{am as pe,a0 as de,U as je,Q as ce,aa as xe,a2 as fe,F as $,v as me,A as oe,C as se,z as Ne,ab as ae,u as ue,e as le,o as be,ag as ge,b as ye}from"./ui-vendor-CIs_GH3f.js";import{R as re,T as ne,C as ve}from"./CategoricalChart-C69NJt_p.js";import{B as we,C as De,X as ke,Y as Te,a as ie}from"./BarChart-DwvJ3Z4S.js";import{L as Ce}from"./Legend-DPEPPdzH.js";import{P as Ae,a as ze}from"./PieChart-B4LqhFyg.js";import{D as u,c as y,b as Se,a as w,i as K}from"./index-C5wiI25D.js";import"./chart-vendor-R5Y1AjBI.js";import"./state-vendor-JOdu_MDH.js";function Fe({customerId:m,onBack:T}){const[d,E]=c.useState(null),[x,C]=c.useState([]),[h,G]=c.useState([]),[N,A]=c.useState(!0),[p,I]=c.useState("overview"),[L,z]=c.useState("all");c.useEffect(()=>{M()},[m]);const M=async()=>{A(!0);try{const t=await fetch(`/api/customers/${m}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!t.ok)throw new Error("Failed to load customer");const a=await t.json();E(a.data);const l=await fetch(`/api/invoices?customerId=${m}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(l.ok){const o=await l.json();C(o.data||[]),P(o.data||[])}}catch(t){console.error("Failed to load customer details:",t),B.error("Müşteri bilgileri yüklenemedi")}finally{A(!1)}},P=t=>{const a=[];let l=0;[...t].sort((n,j)=>new Date(n.issueDate).getTime()-new Date(j.issueDate).getTime()).forEach(n=>{l+=n.grandTotal,a.push({id:n.id*2,date:n.issueDate,type:"invoice",description:`Fatura #${n.invoiceNumber}`,debit:n.grandTotal,credit:0,balance:l}),n.paidAmount>0&&(l-=n.paidAmount,a.push({id:n.id*2+1,date:n.issueDate,type:"payment",description:`Tahsilat - Fatura #${n.invoiceNumber}`,debit:0,credit:n.paidAmount,balance:l}))}),G(a)},r=t=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),D=t=>new Date(t).toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric"}),R=()=>x.reduce((t,a)=>t+(a.grandTotal-a.paidAmount),0),V=()=>x.filter(t=>new Date(t.dueDate)<new Date&&t.status!=="paid").reduce((t,a)=>t+(a.grandTotal-a.paidAmount),0),O=()=>x.reduce((t,a)=>t+a.paidAmount,0),b=()=>{const t=new Date,a={current:0,days30:0,days60:0,days90Plus:0};return x.forEach(l=>{if(l.status==="paid")return;const o=new Date(l.dueDate),n=Math.floor((t.getTime()-o.getTime())/(1e3*60*60*24)),j=l.grandTotal-l.paidAmount;n<=0?a.current+=j:n<=30?a.days30+=j:n<=60?a.days60+=j:a.days90Plus+=j}),[{name:"Vadesi Gelmemiş",value:a.current,color:"#10b981"},{name:"1-30 Gün",value:a.days30,color:"#f59e0b"},{name:"31-60 Gün",value:a.days60,color:"#ef4444"},{name:"60+ Gün",value:a.days90Plus,color:"#dc2626"}].filter(l=>l.value>0)},k=()=>{const t=new Map;return x.forEach(a=>{const l=new Date(a.issueDate).toLocaleDateString("tr-TR",{year:"2-digit",month:"short"}),o=t.get(l)||{invoiced:0,collected:0};o.invoiced+=a.grandTotal,o.collected+=a.paidAmount,t.set(l,o)}),Array.from(t.entries()).map(([a,l])=>({month:a,faturalanan:l.invoiced,tahsil:l.collected})).slice(-6)},S=()=>{B.success("Ekstre PDF olarak indirilecek (yakında)")};if(N)return e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"text-neutral-600",children:"Yükleniyor..."})});if(!d)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-neutral-600",children:"Müşteri bilgisi bulunamadı"}),e.jsx("button",{onClick:T,className:"mt-4 text-neutral-900 hover:underline",children:"Geri Dön"})]});const f=R(),F=V(),g=O();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:T,className:"p-2 hover:bg-neutral-100 rounded-xl transition-colors",children:e.jsx(pe,{size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:d.fullName}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"Cari Hesap Kartı"})]})]}),e.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-4 py-2 bg-neutral-900 text-white rounded-xl hover:bg-neutral-800 transition-colors",children:[e.jsx(de,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Ekstre İndir"})]})]}),e.jsx("div",{className:"bg-white rounded-2xl p-6 border border-neutral-200",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-neutral-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(je,{className:"text-neutral-900",size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-neutral-600 mb-1",children:"Müşteri Adı"}),e.jsx("p",{className:"font-semibold text-neutral-900",children:d.fullName})]})]}),d.email&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-neutral-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(ce,{className:"text-neutral-900",size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-neutral-600 mb-1",children:"E-posta"}),e.jsx("p",{className:"font-semibold text-neutral-900 text-sm break-all",children:d.email})]})]}),d.phone&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-neutral-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(xe,{className:"text-neutral-900",size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-neutral-600 mb-1",children:"Telefon"}),e.jsx("p",{className:"font-semibold text-neutral-900",children:d.phone})]})]}),d.taxNumber&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-neutral-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(fe,{className:"text-neutral-900",size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-neutral-600 mb-1",children:"Vergi No"}),e.jsx("p",{className:"font-semibold text-neutral-900",children:d.taxNumber}),d.taxOffice&&e.jsx("p",{className:"text-xs text-neutral-600",children:d.taxOffice})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-neutral-50 rounded-2xl p-5 border border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("div",{className:"w-10 h-10 bg-neutral-900 rounded-xl flex items-center justify-center",children:e.jsx($,{className:"text-white",size:20})})}),e.jsx("h3",{className:"text-2xl font-bold text-neutral-900 mb-1",children:x.length}),e.jsx("p",{className:"text-sm text-neutral-700",children:"Toplam Fatura"})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-2xl p-5 border border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("div",{className:"w-10 h-10 bg-neutral-900 rounded-xl flex items-center justify-center",children:e.jsx(me,{className:"text-white",size:20})})}),e.jsx("h3",{className:"text-2xl font-bold text-neutral-900 mb-1",children:r(f)}),e.jsx("p",{className:"text-sm text-neutral-700",children:"Toplam Borç"})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-2xl p-5 border border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("div",{className:"w-10 h-10 bg-neutral-800 rounded-xl flex items-center justify-center",children:e.jsx(oe,{className:"text-white",size:20})})}),e.jsx("h3",{className:"text-2xl font-bold text-neutral-900 mb-1",children:r(F)}),e.jsx("p",{className:"text-sm text-neutral-700",children:"Vadesi Geçmiş"})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-2xl p-5 border border-neutral-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("div",{className:"w-10 h-10 bg-neutral-900 rounded-xl flex items-center justify-center",children:e.jsx(se,{className:"text-white",size:20})})}),e.jsx("h3",{className:"text-2xl font-bold text-neutral-900 mb-1",children:r(g)}),e.jsx("p",{className:"text-sm text-neutral-700",children:"Tahsil Edilen"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-neutral-200 overflow-hidden",children:[e.jsx("div",{className:"flex border-b border-neutral-200 overflow-x-auto",children:[{id:"overview",label:"Genel Bakış",icon:e.jsx(Ne,{size:16})},{id:"invoices",label:"Faturalar",icon:e.jsx($,{size:16})},{id:"transactions",label:"Hesap Hareketleri",icon:e.jsx(ae,{size:16})},{id:"aging",label:"Yaşlandırma",icon:e.jsx(ue,{size:16})}].map(t=>e.jsxs("button",{onClick:()=>I(t.id),className:`flex items-center gap-2 px-6 py-4 font-medium transition-colors whitespace-nowrap ${p===t.id?"text-neutral-900 border-b-2 border-neutral-900 bg-neutral-50":"text-neutral-600 hover:text-neutral-900 hover:bg-neutral-50"}`,children:[t.icon,t.label]},t.id))}),e.jsxs("div",{className:"p-6",children:[p==="overview"&&e.jsxs("div",{className:"space-y-6",children:[k().length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Aylık Trend"}),e.jsx(re,{width:"100%",height:300,children:e.jsxs(we,{data:k(),children:[e.jsx(De,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(ke,{dataKey:"month",tick:{fontSize:12}}),e.jsx(Te,{tick:{fontSize:12}}),e.jsx(ne,{formatter:t=>r(t)}),e.jsx(Ce,{}),e.jsx(ie,{dataKey:"faturalanan",fill:"#3b82f6",name:"Faturalanan",radius:[8,8,0,0]}),e.jsx(ie,{dataKey:"tahsil",fill:"#10b981",name:"Tahsil Edilen",radius:[8,8,0,0]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-neutral-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-sm text-neutral-600 mb-1",children:"Tahsilat Oranı"}),e.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:x.length>0?`${Math.round(g/(f+g)*100)}%`:"0%"})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-sm text-neutral-600 mb-1",children:"Ortalama Fatura"}),e.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:x.length>0?r((f+g)/x.length):r(0)})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-sm text-neutral-600 mb-1",children:"Ödenmemiş Fatura"}),e.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:x.filter(t=>t.status!=="paid").length})]})]})]}),p==="invoices"&&e.jsx("div",{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full min-w-[800px]",children:[e.jsx("thead",{className:"bg-neutral-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-neutral-700 uppercase",children:"Fatura No"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-neutral-700 uppercase",children:"Tarih"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-neutral-700 uppercase",children:"Vade"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-neutral-700 uppercase",children:"Tutar"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-neutral-700 uppercase",children:"Ödenen"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-neutral-700 uppercase",children:"Kalan"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-neutral-700 uppercase",children:"Durum"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:x.map(t=>{const a=t.grandTotal-t.paidAmount,l=new Date(t.dueDate)<new Date&&t.status!=="paid";return e.jsxs("tr",{className:"hover:bg-neutral-50",children:[e.jsxs("td",{className:"px-4 py-3 font-medium text-neutral-900",children:["#",t.invoiceNumber]}),e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-600",children:D(t.issueDate)}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx("span",{className:l?"text-neutral-900 font-medium":"text-neutral-600",children:D(t.dueDate)})}),e.jsx("td",{className:"px-4 py-3 text-right font-semibold",children:r(t.grandTotal)}),e.jsx("td",{className:"px-4 py-3 text-right text-neutral-900",children:r(t.paidAmount)}),e.jsx("td",{className:"px-4 py-3 text-right font-semibold",children:r(a)}),e.jsx("td",{className:"px-4 py-3 text-center",children:t.status==="paid"?e.jsx("span",{className:"px-3 py-1 bg-neutral-100 text-neutral-800 rounded-full text-xs font-medium",children:"Ödendi"}):l?e.jsx("span",{className:"px-3 py-1 bg-neutral-100 text-neutral-800 rounded-full text-xs font-medium",children:"Vadesi Geçti"}):e.jsx("span",{className:"px-3 py-1 bg-neutral-100 text-neutral-800 rounded-full text-xs font-medium",children:"Bekliyor"})})]},t.id)})})]})})}),p==="transactions"&&e.jsx("div",{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full min-w-[700px]",children:[e.jsx("thead",{className:"bg-neutral-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-neutral-700 uppercase",children:"Tarih"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-neutral-700 uppercase",children:"Açıklama"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-neutral-700 uppercase",children:"Borç"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-neutral-700 uppercase",children:"Alacak"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-neutral-700 uppercase",children:"Bakiye"})]})}),e.jsx("tbody",{className:"divide-y divide-neutral-200",children:h.map(t=>e.jsxs("tr",{className:"hover:bg-neutral-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-neutral-600",children:D(t.date)}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[t.type==="invoice"?e.jsx($,{className:"text-neutral-900",size:16}):t.type==="payment"?e.jsx(se,{className:"text-neutral-900",size:16}):e.jsx(ae,{className:"text-neutral-900",size:16}),e.jsx("span",{className:"text-sm text-neutral-900",children:t.description})]})}),e.jsx("td",{className:"px-4 py-3 text-right font-semibold text-neutral-900",children:t.debit>0?r(t.debit):"—"}),e.jsx("td",{className:"px-4 py-3 text-right font-semibold text-neutral-900",children:t.credit>0?r(t.credit):"—"}),e.jsx("td",{className:"px-4 py-3 text-right font-bold text-neutral-900",children:r(t.balance)})]},t.id))})]})})}),p==="aging"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Borç Yaşlandırma Analizi"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"Vadesi geçen borçların dağılımı"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[b().length>0&&e.jsx("div",{className:"bg-neutral-50 rounded-xl p-6",children:e.jsx(re,{width:"100%",height:300,children:e.jsxs(Ae,{children:[e.jsx(ze,{data:b(),dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,label:t=>`${t.name}: ${r(t.value)}`,children:b().map((t,a)=>e.jsx(ve,{fill:t.color},`cell-${a}`))}),e.jsx(ne,{formatter:t=>r(t)})]})})}),e.jsx("div",{className:"space-y-3",children:b().map((t,a)=>e.jsxs("div",{className:"bg-neutral-50 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-neutral-700",children:t.name}),e.jsx("span",{className:"text-lg font-bold text-neutral-900",children:r(t.value)})]}),e.jsx("div",{className:"w-full bg-neutral-200 rounded-full h-2",children:e.jsx("div",{className:"h-2 rounded-full transition-all",style:{width:`${t.value/f*100}%`,backgroundColor:t.color}})}),e.jsxs("p",{className:"text-xs text-neutral-600 mt-1",children:["Toplam borcun %",Math.round(t.value/f*100),"'si"]})]},a))})]})]})]})]})]})}function Oe(){var b,k,S,f,F,g,t,a,l,o,n,j,Y,H,U,X,Q,_,q,J,W,Z,ee,te;const[m,T]=c.useState([]),[d,E]=c.useState([]),[x,C]=c.useState(!0),[h,G]=c.useState(""),[N,A]=c.useState("all"),[p,I]=c.useState("debt"),[L,z]=c.useState(null);c.useEffect(()=>{M()},[]),c.useEffect(()=>{P()},[m,h,N,p]);const M=async()=>{C(!0);try{const s=await he.getCariSummary(),i=s.data.data||s.data;T(i)}catch(s){console.error("Failed to load accounts:",s),B.error("Cari hesaplar y�klenemedi")}finally{C(!1)}},P=()=>{let s=[...m];h&&(s=s.filter(i=>{var v;return i.customerName.toLowerCase().includes(h.toLowerCase())||i.email.toLowerCase().includes(h.toLowerCase())||((v=i.phone)==null?void 0:v.includes(h))})),N==="overdue"?s=s.filter(i=>i.overdueDebt>0):N==="active"&&(s=s.filter(i=>i.totalDebt>0)),s.sort((i,v)=>{switch(p){case"name":return i.customerName.localeCompare(v.customerName,"tr");case"debt":return v.totalDebt-i.totalDebt;case"overdue":return v.overdueDebt-i.overdueDebt;default:return 0}}),E(s)},r=s=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",minimumFractionDigits:0,maximumFractionDigits:0}).format(s),D=()=>m.reduce((s,i)=>s+i.totalDebt,0),R=()=>m.reduce((s,i)=>s+i.overdueDebt,0),V=()=>m.filter(s=>s.overdueDebt>0).length,O=()=>{B.success("Excel d��a aktarma �zelli�i yak�nda eklenecek")};return L?e.jsx(Fe,{customerId:L,onBack:()=>z(null)}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:`${(k=(b=u)==null?void 0:b.typography)==null?void 0:k.h2} ${(f=(S=u)==null?void 0:S.colors)==null?void 0:f.text.primary}`,children:"Cari Hesap Kartlar�"}),e.jsx("p",{className:`${(g=(F=u)==null?void 0:F.typography)==null?void 0:g.body.sm} ${(a=(t=u)==null?void 0:t.colors)==null?void 0:a.text.tertiary} mt-1`,children:"M��teri bazl� alacak-bor� takibi"})]}),e.jsxs("button",{onClick:O,className:y(Se("md","dark","md"),"gap-2"),children:[e.jsx(de,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"D��a Aktar"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:y(w("md","md","subtle","lg"),"bg-neutral-50 border-neutral-200"),children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("div",{className:"w-10 h-10 bg-neutral-900 rounded-xl flex items-center justify-center",children:e.jsx(le,{className:"text-white",size:20})})}),e.jsx("h3",{className:`${(o=(l=u)==null?void 0:l.typography)==null?void 0:o.stat.md} text-neutral-900 mb-1`,children:m.length}),e.jsx("p",{className:`${(j=(n=u)==null?void 0:n.typography)==null?void 0:j.body.sm} text-neutral-700`,children:"Toplam Cari"})]}),e.jsxs("div",{className:y(w("md","md","subtle","lg"),"bg-neutral-50 border-neutral-200"),children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("div",{className:"w-10 h-10 bg-neutral-900 rounded-xl flex items-center justify-center",children:e.jsx(me,{className:"text-white",size:20})})}),e.jsx("h3",{className:`${(H=(Y=u)==null?void 0:Y.typography)==null?void 0:H.stat.md} text-neutral-900 mb-1`,children:r(D())}),e.jsx("p",{className:`${(X=(U=u)==null?void 0:U.typography)==null?void 0:X.body.sm} text-neutral-700`,children:"Toplam Alacak"})]}),e.jsxs("div",{className:y(w("md","md","subtle","lg"),"bg-neutral-50 border-neutral-200"),children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("div",{className:"w-10 h-10 bg-neutral-800 rounded-xl flex items-center justify-center",children:e.jsx(oe,{className:"text-white",size:20})})}),e.jsx("h3",{className:`${(_=(Q=u)==null?void 0:Q.typography)==null?void 0:_.stat.md} text-neutral-900 mb-1`,children:r(R())}),e.jsx("p",{className:`${(J=(q=u)==null?void 0:q.typography)==null?void 0:J.body.sm} text-neutral-700`,children:"Vadesi Ge�mi�"})]}),e.jsxs("div",{className:y(w("md","md","subtle","lg"),"bg-neutral-50 border-neutral-200"),children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("div",{className:"w-10 h-10 bg-neutral-700 rounded-xl flex items-center justify-center",children:e.jsx(ue,{className:"text-white",size:20})})}),e.jsx("h3",{className:`${(Z=(W=u)==null?void 0:W.typography)==null?void 0:Z.stat.md} text-neutral-900 mb-1`,children:V()}),e.jsx("p",{className:`${(te=(ee=u)==null?void 0:ee.typography)==null?void 0:te.body.sm} text-neutral-700`,children:"Gecikmi� Hesap"})]})]}),e.jsx("div",{className:w("md","sm","default","lg"),children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(be,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400",size:20}),e.jsx("input",{type:"text",placeholder:"M��teri ad�, email veya telefon ara...",value:h,onChange:s=>G(s.target.value),className:y(K("md","default",void 0,"md"),"pl-10")})]})}),e.jsxs("select",{value:N,onChange:s=>A(s.target.value),className:K("md","default",void 0,"md"),children:[e.jsx("option",{value:"all",children:"T�m Hesaplar"}),e.jsx("option",{value:"active",children:"Aktif Bor�lar"}),e.jsx("option",{value:"overdue",children:"Vadesi Ge�mi�"})]}),e.jsxs("select",{value:p,onChange:s=>I(s.target.value),className:K("md","default",void 0,"md"),children:[e.jsx("option",{value:"debt",children:"Borca G�re"}),e.jsx("option",{value:"overdue",children:"Vadeye G�re"}),e.jsx("option",{value:"name",children:"�sme G�re"})]})]})}),e.jsx("div",{className:y(w("md","none","default","lg"),"overflow-hidden"),children:x?e.jsx("div",{className:"p-12 text-center text-neutral-600",children:"Y�kleniyor..."}):d.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(le,{className:"mx-auto text-neutral-400 mb-3",size:48}),e.jsx("p",{className:"text-neutral-600",children:h||N!=="all"?"Arama kriterlerine uygun cari hesap bulunamad�":"Hen�z cari hesap bulunmuyor"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full min-w-[900px]",children:[e.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-neutral-700 uppercase tracking-wider",children:"M��teri Bilgileri"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-neutral-700 uppercase tracking-wider",children:"Toplam Bor�"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-neutral-700 uppercase tracking-wider",children:"Vadesi Ge�mi�"}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-neutral-700 uppercase tracking-wider",children:"Fatura Say�s�"}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-neutral-700 uppercase tracking-wider",children:"��lemler"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:d.map(s=>e.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors cursor-pointer",onClick:()=>z(s.customerId),children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-neutral-900",children:s.customerName}),e.jsxs("div",{className:"flex flex-col gap-1 mt-1",children:[s.email&&e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-neutral-600",children:[e.jsx(ce,{size:14}),e.jsx("span",{children:s.email})]}),s.phone&&e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-neutral-600",children:[e.jsx(xe,{size:14}),e.jsx("span",{children:s.phone})]})]})]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("span",{className:"text-lg font-bold text-neutral-900",children:r(s.totalDebt)})}),e.jsx("td",{className:"px-6 py-4 text-right",children:s.overdueDebt>0?e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-lg font-bold text-neutral-900",children:r(s.overdueDebt)}),e.jsx("span",{className:"text-xs px-2 py-1 bg-neutral-100 text-neutral-800 rounded-full font-medium",children:"Gecikmi�"})]}):e.jsx("span",{className:"text-neutral-400",children:"�"})}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-neutral-100 text-neutral-800 rounded-full text-sm font-medium",children:[e.jsx($,{size:14}),s.invoiceCount]})}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsxs("button",{onClick:i=>{i.stopPropagation(),z(s.customerId)},className:"inline-flex items-center gap-1 px-4 py-2 bg-neutral-100 hover:bg-neutral-200 text-neutral-700 rounded-xl transition-colors text-sm font-medium",children:[e.jsx(ge,{size:16}),e.jsx("span",{children:"Detay"}),e.jsx(ye,{size:16})]})})]},s.customerId))})]})})}),!x&&d.length>0&&e.jsxs("div",{className:"text-sm text-neutral-600 text-center",children:[d.length," cari hesap g�steriliyor",m.length!==d.length&&` (toplam ${m.length} hesap)`]})]})}export{Oe as default};
